<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Gecode: Compiling and installing Gecode</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<!--[if IE]><style type="text/css">
  @media screen {
    html, body {
      height: 100%; overflow-y: hidden;
      background:#FFFFFF url(back.png) repeat-y;
      font-family:Arial,Helvetica,sans-serif;
      color:#000000;
      margin:0;
      padding:0;
    }
    #scrollable {
      height: 100%; width: 100%; overflow: auto;
    }
  }
</style><![endif]-->
</head>

<body>

<div id="logo">
<img src='gecode-logo-100.png' alt="Gecode logo" /></div>

<div id="navigation">
  <div id="navigation2">
    <a class="navigation" href="index.html">main page</a>
    <a class="navigation" href="modules.html">modules</a>
    <a class="navigation" href="namespaces.html">namespaces</a>
    <a class="navigation" href="annotated.html">classes</a>
    <a class="navigation" href="files.html">files</a>
    <br>
    <a class="navigation" href="http://www.gecode.org/index.html">Gecode home</a>
<form action="search.php" method="get"><a class="navigation" title="Search for keywords in the entire documentation">search&nbsp;for&nbsp;<input type="text" name="query" value="" size="20" accesskey="s"/></a></form>
    </div>
</div>

<div id="footline">
<address style="text-align: right;"><small>
Generated on Wed Nov 1 15:04:52 2006 for Gecode by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.5</small></address>
</div>

<div id="scrollable">
<div id="content">
<!-- Generated by Doxygen 1.4.5 -->
<h1><a class="anchor" name="PageComp">Compiling and installing Gecode</a></h1>The Gecode library, including examples and documentation, can be built on all recent versions of Windows, Linux, and MacOS X. Porting to other Unix flavors should be easy, if any change is necessary at all.<h2><a class="anchor" name="Prerequisites">
Prerequisites</a></h2>
In order to compile Gecode, you need a standard Unix toolchain including the following programs:<p>
<ul>
<li>a bash-compatible shell</li><li>GNU make</li><li>sed</li><li>cp</li><li>tar</li></ul>
<p>
These are available in all standard installations of Linux. On MacOS X, you need to install the Apple developer tools. For Windows, we require the <a href="http://www.cygwin.com/">Cygwin environment</a> that provides all necessary tools.<p>
We currently support<ul>
<li>the Microsoft Visual C++ compilers for Windows. The Microsoft Visual C++ 2005 Express Edition is available free of charge from <a href="http://msdn.microsoft.com/vstudio/express/visualc/">the MSDN web pages</a>.</li><li>the GNU Compiler Collection (gcc) for Windows and Unix flavors such as Linux and MacOS X. The GNU gcc is open source software and available from <a href="http://gcc.gnu.org/">the GCC home page</a>. It is included in all Linux distributions and the Apple MacOS X developer tools. Gecode requires at least version 3.4 of gcc. We recommend using version 4.0 or higher. Very unfortunately, the parser used in versions of gcc before 3.4 is broken and hence cannot compile Gecode.</li><li>The Intel C++ compiler for Windows and Linux. Please note that this compiler was only tested using the evaluation license available from Intel. If you encounter problems or have suggestions for improvements, please let us know.</li></ul>
<h2><a class="anchor" name="CompConf">
Configuring the sources</a></h2>
Gecode uses GNU autoconf to acquire information about the system it is compiled on. Typically, you need to run the <code>configure</code> script in the toplevel directory.<p>
To setup Gecode for your particular system, you may need to add one or more of the following options to <code>configure</code>:<p>
<ul>
<li>When using the Microsoft Visual C++ compiler, add <code>CC=cl CXX=cl</code> to your invocation of <code>configure</code></li><li>When using the Intel C++ compiler under Windows, add <code>CC=icl CXX=icl</code> to your invokation of configure.</li><li>When using the Intel C++ compiler under Linux, add <code>CC=icc CXX=icpc</code> to your invokation of configure.</li><li>To install Gecode somewhere else than the default <code>/usr/local</code>, use the <code>--prefix=[...]</code> switch</li><li>You can enable and disable the individual modules Gecode consists of using <code>--enable-[MODULE]</code> and <code>--disable-[MODULE]</code></li></ul>
<p>
You can get a list of all supported configuration options by calling <code>configure</code> with the <code>--help</code> switch.<h3><a class="anchor" name="CompConfExamples">
Example configurations</a></h3>
To compile Gecode on a <b>Windows machine using the Microsoft compiler</b>, use<p>
<code>./configure CC=cl CXX=cl</code><p>
To compile only the Gecode library <b>without examples</b> on a Unix machine, use<p>
<code>./configure --disable-examples</code><p>
To compile on a <b>Unix machine</b> using a different than the default <code>gcc</code> compiler, and install under <code>/opt/gecode</code>, use<p>
<code>./configure --prefix=/opt/gecode CC=gcc-4.0 CXX=g++-4.0</code><p>
To compile a <b>debug build</b> on Unix, turning on all assertions and not inlining anything, use<p>
<code>./configure --enable-debug</code><p>
To compile on <b>Cygwin</b>, but linking against the <b>Windows libraries</b> instead of the Cygwin libraries, use<p>
<code>./configure CC="gcc -mno-cygwin" CXX="g++ -mno-cygwin"</code><p>
To compile on a system using a different than the default compiler, and a <code>/bin/sh</code> that is not bash compatible (e.g. a <b>Solaris machine</b>), use<p>
<code>./configure --with-host-os=linux \ </code><br>
 <code>&nbsp;&nbsp;&nbsp;CC="gcc-4.0" CXX="g++-4.0" \ </code><br>
 <code>&nbsp;&nbsp;&nbsp;SHELL="/bin/bash"</code><br>
 <code>make SHELL="/bin/bash"</code><p>
You can compile as <b>"universal binary" on a Mac OS machine</b>. Configure with<p>
<code>./configure --enable-universal</code><p>
For building universal binaries on a PowerPC machine, you have to supply the path to the universal SDK (which is the default on Intel based Macs):<p>
<code>./configure --enable-universal</code> <code>&nbsp;&nbsp;&nbsp;--with-sdk=/Developer/SDKs/MacOSX10.4u.sdk</code><h3><a class="anchor" name="CompConfUsr">
Passing options for compilation</a></h3>
Additional options for compilation can be passed to the compiler from the make commandline via the variable <code>CXXUSR</code>. For example, to pass to gcc the additional option "-mtune=i686" the following can be used:<p>
<code>make CXXUSR="-mtune=i686"</code><h3><a class="anchor" name="CompConfSepDir">
Compiling in a separate directory</a></h3>
The Gecode library can be built in a separate directory. This is useful if you do not want to clutter the source tree with all the object files and libraries.<p>
Configuring Gecode in a separate directory is easy. Assume that the sources can be found in directory <code>$GSOURCEDIR</code>, change to the directory where you want to compile Gecode and call<p>
<code>$GSOURCEDIR/configure [options]</code><p>
This will generate all necessary files in the new build directory.<h2><a class="anchor" name="CompComp">
Compiling the sources</a></h2>
After successful configuration, simply invoking<p>
<code>make</code><p>
in the toplevel Gecode directory will compile the whole library.<h2><a class="anchor" name="CompExamples">
Running the examples</a></h2>
After compiling the examples, they can be run directly from the command line. For instance, try the Golomb Rulers Problem:<p>
<code>./examples/golomb</code><p>
or (when running Windows):<p>
<code>./examples/golomb.exe</code><p>
On some platforms, you may need to set environment variables like <code>LD_LIBRARY_PATH</code> (Linux) or <code>DYLD_LIBRARY_PATH</code> (Mac OS) to the toplevel compile directory (where the dynamic libraries are placed after compilation).<p>
For more information on example scripts see <a class="el" href="group__Example.html">Example scripts (models)</a>.<h2><a class="anchor" name="Installation">
Installation</a></h2>
After a successful compilation, you can install the Gecode library and all header files necessary for compiling against it by invoking<p>
<code>make install</code><p>
in the build directory.<h2><a class="anchor" name="DepMngmt">
Dependency management</a></h2>
The dependencies between source files are not handled automatically. If you are using a <a class="el" href="namespaceGecode.html">Gecode</a> version from our subversion repository or if you modified any of the source files, you will have to call <code>make depend</code> before compilation in order to determine the source dependencies.<p>
Dependency management is only needed for recompiling <a class="el" href="namespaceGecode.html">Gecode</a> after changing something. In an unmodified version (or after a <code>make clean</code>) all files are compiled anyway.<h2><a class="anchor" name="UnsupPlatfrms">
Compiling for unsupported platforms</a></h2>
If you want to try compiling <a class="el" href="namespaceGecode.html">Gecode</a> on a platform that we do not support officially, you can override the platform tests during <code>configure</code>. There are two options to specify the type of platform:<p>
<ul>
<li><code>--with-host-os=[linux|darwin|windows]</code></li><li><code>--with-compiler-vendor=[gnu|microsoft|intel]</code></li></ul>
<p>
Using the first option, you can state that your platform should behave like Linux, Darwin (which is actually BSD), or Windows. This affects mainly the filenames and the tools used to generate shared and static libraries.<p>
The second option says that your compiler can be used very much like the gnu compiler <code>gcc</code>, the Microsoft compiler <code>cl</code>, or the Intel compiler <code>icl</code>. Please let us know of any successfull attempt at compiling <a class="el" href="namespaceGecode.html">Gecode</a> on other platforms.<h2><a class="anchor" name="Useful">
Makefile targets</a></h2>
The main Gecode Makefile supports the following useful targets:<p>
<ul>
<li><code>all</code> compiles all parts of the library that were enabled during <code>configure</code>, and the examples if enabled</li><li><code>install</code> installs library, headers and examples (if enabled) into the <code>prefix</code> given at <code>configure</code></li><li><code>clean</code> removes object files</li><li><code>veryclean</code> removes object files, libraries, and all files + generated during <code>make</code></li><li><code>distclean</code> removes object files, libraries, and all generated files</li><li><code>depend</code> computes dependencies between source files</li><li><code>test</code> compiles the test suite</li><li><code>doc</code> generates this reference documentation using doxygen</li><li><code>installdoc</code> installs the documentation</li><li><code>distdoc</code> creates tgz and zip archives of the documentation</li><li><code>distzip</code> creates a binary distribution as a zip archive</li><li><code>disttgz</code> creates a binary distribution as a tgz archive </li></ul>
</div></div>
</body>
</html>
