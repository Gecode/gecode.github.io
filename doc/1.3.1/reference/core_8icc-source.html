<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Gecode: gecode/kernel/core.icc (Revision: 3787) Source File</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<!--[if IE]><style type="text/css">
  @media screen {
    html, body {
      height: 100%; overflow-y: hidden;
      background:#FFFFFF url(back.png) repeat-y;
      font-family:Arial,Helvetica,sans-serif;
      color:#000000;
      margin:0;
      padding:0;
    }
    #scrollable {
      height: 100%; width: 100%; overflow: auto;
    }
  }
</style><![endif]-->
</head>

<body>

<div id="logo">
<img src='gecode-logo-100.png' alt="Gecode logo" /></div>

<div id="navigation">
  <div id="navigation2">
    <a class="navigation" href="index.html">main page</a>
    <a class="navigation" href="modules.html">modules</a>
    <a class="navigation" href="namespaces.html">namespaces</a>
    <a class="navigation" href="annotated.html">classes</a>
    <a class="navigation" href="files.html">files</a>
    <br>
    <a class="navigation" href="http://www.gecode.org/index.html">Gecode home</a>
<form action="search.php" method="get"><a class="navigation" title="Search for keywords in the entire documentation">search&nbsp;for&nbsp;<input type="text" name="query" value="" size="20" accesskey="s"/></a></form>
    </div>
</div>

<div id="footline">
<address style="text-align: right;"><small>
Generated on Wed Nov 1 15:04:42 2006 for Gecode by&nbsp;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.5</small></address>
</div>

<div id="scrollable">
<div id="content">
<!-- Generated by Doxygen 1.4.5 -->
<div class="nav">
<a class="el" href="dir__2Ftmp_2Fbuild_2D1_2E3_2E1_2Fgecode_2Fgecode_2F.html">gecode</a>&nbsp;&raquo&nbsp;<a class="el" href="dir__2Ftmp_2Fbuild_2D1_2E3_2E1_2Fgecode_2Fgecode_2Fkernel_2F.html">kernel</a></div>
<h1>core.icc</h1><a href="core_8icc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  Main authors:</span>
<a name="l00003"></a>00003 <span class="comment"> *     Christian Schulte &lt;schulte@gecode.org&gt;</span>
<a name="l00004"></a>00004 <span class="comment"> *     Guido Tack &lt;tack@gecode.org&gt;</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> *  Copyright:</span>
<a name="l00007"></a>00007 <span class="comment"> *     Christian Schulte, 2002</span>
<a name="l00008"></a>00008 <span class="comment"> *     Guido Tack, 2003</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> *  Bugfixes provided by:</span>
<a name="l00011"></a>00011 <span class="comment"> *     Alexander Samoilov &lt;alexander_samoilov@yahoo.com&gt;</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> *  Last modified:</span>
<a name="l00014"></a>00014 <span class="comment"> *     $Date: 2006-10-25 13:51:24 +0200 (Wed, 25 Oct 2006) $ by $Author: schulte $</span>
<a name="l00015"></a>00015 <span class="comment"> *     $Revision: 3787 $</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> *  This file is part of Gecode, the generic constraint</span>
<a name="l00018"></a>00018 <span class="comment"> *  development environment:</span>
<a name="l00019"></a>00019 <span class="comment"> *     http://www.gecode.org</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> *  See the file "LICENSE" for information on usage and</span>
<a name="l00022"></a>00022 <span class="comment"> *  redistribution of this file, and for a</span>
<a name="l00023"></a>00023 <span class="comment"> *     DISCLAIMER OF ALL WARRANTIES.</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>Gecode {
<a name="l00028"></a>00028 
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">00038</a>   <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a>;
<a name="l00039"></a>00039 
<a name="l00041"></a><a class="code" href="group__TaskVarMEPC.html#g0de020b113555e39f6cc5434be553440">00041</a>   <span class="keyword">const</span> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> <a class="code" href="group__TaskVarMEPC.html#g0de020b113555e39f6cc5434be553440">ME_GEN_FAILED</a>   = -1;
<a name="l00043"></a><a class="code" href="group__TaskVarMEPC.html#g287abe47e03ddf1fb09992ac1215e313">00043</a>   <span class="keyword">const</span> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> <a class="code" href="group__TaskVarMEPC.html#g287abe47e03ddf1fb09992ac1215e313">ME_GEN_NONE</a>     =  0;
<a name="l00045"></a><a class="code" href="group__TaskVarMEPC.html#g8451dafe874597cb12934fa5cb3adef7">00045</a>   <span class="keyword">const</span> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> <a class="code" href="group__TaskVarMEPC.html#g8451dafe874597cb12934fa5cb3adef7">ME_GEN_ASSIGNED</a> =  1;
<a name="l00047"></a><a class="code" href="group__TaskVarMEPC.html#gc57a16dfea0c407dc4a78cc7ccec771a">00047</a>   <span class="keyword">const</span> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> <a class="code" href="group__TaskVarMEPC.html#gc57a16dfea0c407dc4a78cc7ccec771a">ME_GEN_MAX</a>      = 15;
<a name="l00048"></a>00048 
<a name="l00050"></a><a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">00050</a>   <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a>;
<a name="l00052"></a><a class="code" href="group__TaskVarMEPC.html#g63cb0abb62951373c77aa2c78fcabcc8">00052</a>   <span class="keyword">const</span> <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> <a class="code" href="group__TaskVarMEPC.html#g63cb0abb62951373c77aa2c78fcabcc8">PC_GEN_ASSIGNED</a> = 0;
<a name="l00054"></a><a class="code" href="group__TaskVarMEPC.html#g2c1f254026f1f03b1ee85cc1b0fcaa14">00054</a>   <span class="keyword">const</span> <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> <a class="code" href="group__TaskVarMEPC.html#g2c1f254026f1f03b1ee85cc1b0fcaa14">PC_GEN_MAX</a>      = 15;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 
<a name="l00070"></a><a class="code" href="group__TaskVar.html#g6b203b50acb6d66bce1983ae3e65b88a">00070</a>   <span class="keyword">enum</span> <a class="code" href="group__TaskVar.html#g6b203b50acb6d66bce1983ae3e65b88a">VarTypeId</a> {
<a name="l00071"></a>00071 <span class="preprocessor">#include "<a class="code" href="vti_8icc.html">gecode/vti.icc</a>"</span>
<a name="l00072"></a>00072     <a class="code" href="group__TaskVar.html#gg6b203b50acb6d66bce1983ae3e65b88affaf6d5bff567c727bc1de7931b8236e">VTI_LAST</a>,     
<a name="l00073"></a>00073     <a class="code" href="group__TaskVar.html#gg6b203b50acb6d66bce1983ae3e65b88a67ddd52dec8cdf8851f9b97ae9a1d442">VTI_NOIDX</a> = 0 
<a name="l00074"></a>00074   };
<a name="l00075"></a>00075 
<a name="l00076"></a><a class="code" href="group__TaskVar.html#gg6b203b50acb6d66bce1983ae3e65b88a67ddd52dec8cdf8851f9b97ae9a1d442">00076</a> 
<a name="l00077"></a>00077   <span class="comment">/*</span>
<a name="l00078"></a>00078 <span class="comment">   * These are the classes of interest</span>
<a name="l00079"></a>00079 <span class="comment">   *</span>
<a name="l00080"></a>00080 <span class="comment">   */</span>
<a name="l00081"></a>00081   <span class="keyword">class </span><a class="code" href="classGecode_1_1Actor.html">Actor</a>;
<a name="l00082"></a>00082   <span class="keyword">class </span><a class="code" href="classGecode_1_1Propagator.html">Propagator</a>;
<a name="l00083"></a>00083   <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html">Space</a>;
<a name="l00084"></a>00084   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt; <span class="keyword">class </span><a class="code" href="classGecode_1_1Variable.html">Variable</a>;
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 
<a name="l00087"></a>00087   <span class="comment">/*</span>
<a name="l00088"></a>00088 <span class="comment">   * Variables</span>
<a name="l00089"></a>00089 <span class="comment">   *</span>
<a name="l00090"></a>00090 <span class="comment">   */</span>
<a name="l00091"></a>00091 
<a name="l00099"></a>00099   <span class="keyword">class </span><a class="code" href="classGecode_1_1VarBase.html">VarBase</a> {};
<a name="l00100"></a>00100 
<a name="l00108"></a>00108   <span class="keyword">class </span>VarTypeProcessorBase {
<a name="l00109"></a>00109   <span class="keyword">public</span>:
<a name="l00111"></a><a class="code" href="classGecode_1_1VarTypeProcessorBase.html">00111</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1VarTypeProcessorBase.html#c60f2b0d0f52da7796e49d10d1778d9c">process</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>) = 0;
<a name="l00118"></a>00118     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1VarTypeProcessorBase.html#449c25c58f498ec8fdb02ea28e1883f2">update</a>(<a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>**&amp; sub) = 0;
<a name="l00125"></a>00125     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1VarTypeProcessorBase.html#ed163fa9eb62bfc4c6fdb3d7c1f155c3">dispose</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>) = 0;
<a name="l00127"></a>00127     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <span class="keyword">virtual</span> <a class="code" href="classGecode_1_1VarTypeProcessorBase.html#26f6d38b264b87a0fb6c9c95749d1959">~VarTypeProcessorBase</a>(<span class="keywordtype">void</span>);
<a name="l00128"></a>00128   };
<a name="l00129"></a>00129 
<a name="l00137"></a>00137   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l00138"></a>00138   <span class="keyword">class </span><a class="code" href="classGecode_1_1VarTypeProcessor.html">VarTypeProcessor</a> : <span class="keyword">public</span> <a class="code" href="classGecode_1_1VarTypeProcessorBase.html">VarTypeProcessorBase</a> {
<a name="l00139"></a>00139   <span class="keyword">public</span>:
<a name="l00141"></a><a class="code" href="classGecode_1_1VarTypeProcessor.html">00141</a>     <a class="code" href="classGecode_1_1VarTypeProcessor.html#0b249d12b07a2cc7b1cd8b78f9004d70">VarTypeProcessor</a>(<span class="keywordtype">void</span>);
<a name="l00148"></a>00148     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1VarTypeProcessor.html#b6a42f852eba68e0e7b8854380a3560b">update</a>(<a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>**&amp; sub);
<a name="l00155"></a>00155     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1VarTypeProcessor.html#0e2d8be6952508562a486b74719b58a7">dispose</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>);
<a name="l00156"></a>00156   };
<a name="l00157"></a>00157 
<a name="l00168"></a>00168   <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a>;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 
<a name="l00178"></a>00178   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l00179"></a>00179   <span class="keyword">class </span><a class="code" href="classGecode_1_1Variable.html">Variable</a> : <span class="keyword">public</span> <a class="code" href="classGecode_1_1VarBase.html">VarBase</a> {
<a name="l00180"></a>00180     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html">Space</a>;
<a name="l00181"></a>00181     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Propagator.html">Propagator</a>;
<a name="l00182"></a><a class="code" href="classGecode_1_1Variable.html">00182</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1VarTypeProcessor.html">VarTypeProcessor</a>&lt;VTI,PC,MED&gt;;
<a name="l00183"></a><a class="code" href="classGecode_1_1Variable.html#d511f8439ecde36647437fbba67a4394">00183</a>   <span class="keyword">private</span>:
<a name="l00184"></a><a class="code" href="classGecode_1_1Variable.html#b832972100d3146333c02679be347d7b">00184</a>     <a class="code" href="classGecode_1_1Variable.html">Variable</a>* _next; 
<a name="l00185"></a><a class="code" href="classGecode_1_1Variable.html#8d726e457d54cd2f0abfcff86800b2b6">00185</a>     <span class="keyword">union </span>{
<a name="l00193"></a>00193       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> free_me;
<a name="l00195"></a>00195       <a class="code" href="classGecode_1_1Variable.html">Variable</a>* fwd;
<a name="l00196"></a>00196     } u;
<a name="l00197"></a>00197     <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>** idx[PC+2]; 
<a name="l00198"></a>00198 
<a name="l00200"></a>00200     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> free(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00202"></a>00202     <span class="keywordtype">void</span> free(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n);
<a name="l00204"></a>00204     <span class="keywordtype">void</span> free_inc(<span class="keywordtype">void</span>);
<a name="l00206"></a>00206     <span class="keywordtype">void</span> free_dec(<span class="keywordtype">void</span>);
<a name="l00207"></a>00207 
<a name="l00214"></a>00214     <span class="keywordtype">void</span> update(<a class="code" href="classGecode_1_1Variable.html">Variable</a>* <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>**&amp; sub);
<a name="l00215"></a>00215 
<a name="l00217"></a>00217     <span class="keywordtype">void</span> resize(<a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219   <span class="keyword">public</span>:
<a name="l00221"></a>00221     <a class="code" href="classGecode_1_1Variable.html#f75396f04a2e212a4524fd0b54f58033">Variable</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00222"></a>00222 
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 
<a name="l00237"></a>00237     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Variable.html#f1875a7e669c1a95b52808e9bd69b467">subscribe</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p, <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc,
<a name="l00238"></a>00238                    <span class="keywordtype">bool</span> assigned, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me, <span class="keywordtype">bool</span> <a class="code" href="classGecode_1_1Variable.html#6c062bdd08a39f4d4547a4863f4eb308">process</a>);
<a name="l00240"></a>00240     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Variable.html#7ea2533d454f950046976ccfa864e3ed">cancel</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p, <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc);
<a name="l00242"></a>00242     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classGecode_1_1Variable.html#df185ec77ac1ae7b6a57c9a9f66ecb9d">degree</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00244"></a>00244     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Variable.html#c6d002de6ed72d43af73a82a29c4a761">notify</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me);
<a name="l00246"></a>00246     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Variable.html#c6d002de6ed72d43af73a82a29c4a761">notify</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00248"></a>00248 
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="keywordtype">bool</span> <a class="code" href="classGecode_1_1Variable.html#f775de2f1cd361c48fe227b63a480177">modified</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00254"></a>00254 
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 
<a name="l00258"></a>00258     <a class="code" href="classGecode_1_1Variable.html#f75396f04a2e212a4524fd0b54f58033">Variable</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <span class="keywordtype">bool</span> share, <a class="code" href="classGecode_1_1Variable.html">Variable</a>&amp; <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>);
<a name="l00260"></a>00260     <span class="keywordtype">bool</span> <a class="code" href="classGecode_1_1Variable.html#caba1c0aa0ec7a601923ae84fecf1fcc">copied</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00262"></a>00262     <a class="code" href="classGecode_1_1Variable.html">Variable</a>* <a class="code" href="classGecode_1_1Variable.html#d67d7709c7bf245a4d11969aa04ecc20">forward</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00264"></a>00264 
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 
<a name="l00268"></a>00268     <span class="keyword">static</span> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a>     <a class="code" href="classGecode_1_1Variable.html#f3f8c70be2bb84b7bd765edc1fdadb0e">pme</a>(<span class="keyword">const</span> <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p);
<a name="l00270"></a>00270     <span class="keyword">static</span> <a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> <a class="code" href="classGecode_1_1Variable.html#f3f8c70be2bb84b7bd765edc1fdadb0e">pme</a>(<a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me);
<a name="l00272"></a>00272     <span class="keyword">static</span> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a>     <a class="code" href="classGecode_1_1Variable.html#199b617cb779e225134bdc1b6de88af9">combine</a>(<a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me1, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me2);
<a name="l00274"></a>00274 
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <a class="code" href="classGecode_1_1Variable.html">Variable</a>* <a class="code" href="classGecode_1_1Variable.html#d19b4c3292343509846c1d3191c879b9">next</a>(<span class="keywordtype">void</span>);
<a name="l00280"></a>00280     <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> <a class="code" href="classGecode_1_1Variable.html#c9a2f4159f0a45abbe24a0c4fa5891f3">modevent</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00282"></a>00282     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Variable.html#c9a2f4159f0a45abbe24a0c4fa5891f3">modevent</a>(<a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me);
<a name="l00284"></a>00284     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Variable.html#6c062bdd08a39f4d4547a4863f4eb308">process</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc1, <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc2, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me);
<a name="l00286"></a>00286     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Variable.html#6c062bdd08a39f4d4547a4863f4eb308">process</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00288"></a>00288 
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 
<a name="l00292"></a>00292     <span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="classGecode_1_1Variable.html#2145fd6396092635258c8f66725013b7">operator new</a>(size_t,<a class="code" href="classGecode_1_1Space.html">Space</a>*);
<a name="l00294"></a>00294     <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classGecode_1_1Variable.html#95fd6e5d7d0415b69936a95302197097">operator delete</a>(<span class="keywordtype">void</span>*,<a class="code" href="classGecode_1_1Space.html">Space</a>*);
<a name="l00296"></a>00296     <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classGecode_1_1Variable.html#95fd6e5d7d0415b69936a95302197097">operator delete</a>(<span class="keywordtype">void</span>*);
<a name="l00298"></a>00298   };
<a name="l00299"></a>00299 
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00307"></a>00307   <span class="keyword">enum</span> <a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">ExecStatus</a> {
<a name="l00308"></a>00308     <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac069a329d63c84180538d49161531a96b9">ES_FAILED</a>          = -1, 
<a name="l00309"></a>00309     <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac0482dbd9002600191558e768e298e90be">ES_NOFIX</a>           =  0, 
<a name="l00310"></a><a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">00310</a>     <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac0cf846a15fc3a0e42ce02d3eff43d4697">ES_OK</a>              =  0, 
<a name="l00311"></a>00311     <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac036e8ff0f33fd9fe5cb5913867925e2e8">ES_FIX</a>             =  1, 
<a name="l00312"></a>00312     <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac0e00c94710e024b39d8a478eaf01bc698">ES_SUBSUMED</a>        =  2, 
<a name="l00313"></a>00313     <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac0b6dcfe630e5f6ebddb4a94636ed323c0">__ES_FIX_PARTIAL</a>   =  3, 
<a name="l00314"></a>00314     <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac00666d8806366a0ff5d6355c8ee970a10">__ES_NOFIX_PARTIAL</a> =  4  
<a name="l00315"></a>00315   };
<a name="l00316"></a>00316 
<a name="l00321"></a>00321   <span class="keyword">enum</span> <a class="code" href="group__TaskActor.html#ge0dba807c57bc3a071b794ab6f985252">PropCost</a> {
<a name="l00322"></a>00322     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f985252375397a26f761724c5d9b4f5176cbf7c">PC_CRAZY_LO</a>     = 0, 
<a name="l00323"></a>00323     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f985252f1b438f13e39c4b0f731bfc416ad55f0">PC_CRAZY_HI</a>     = 0, 
<a name="l00324"></a><a class="code" href="group__TaskActor.html#ge0dba807c57bc3a071b794ab6f985252">00324</a>     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f9852521aea5f304b62af9fe88f0cb9a15b3ef2">PC_CUBIC_LO</a>     = 1, 
<a name="l00325"></a>00325     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f985252413e6f3c4dcff4a29f3d39a4ef2ac9af">PC_CUBIC_HI</a>     = 1, 
<a name="l00326"></a>00326     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f98525273b9fb51d67c5565afdef0f4d15e8812">PC_QUADRATIC_LO</a> = 2, 
<a name="l00327"></a>00327     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f9852522ea3cd6f49a4b39a232d76be48a572df">PC_QUADRATIC_HI</a> = 2, 
<a name="l00328"></a>00328     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f9852529d1a8e1588393020c05d37ae9f45320a">PC_LINEAR_HI</a>    = 3, 
<a name="l00329"></a>00329     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f98525208f579a45e9e7efdefb86dbae08f218f">PC_LINEAR_LO</a>    = 4, 
<a name="l00330"></a>00330     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f985252b7411f53987d25f613d459401eda46e1">PC_TERNARY_HI</a>   = 5, 
<a name="l00331"></a>00331     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f9852522a035d28f3e2122e100d18436a11933d">PC_BINARY_HI</a>    = 6, 
<a name="l00332"></a>00332     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f9852525483ea73d762664937fa3d2d28d5c0fb">PC_TERNARY_LO</a>   = 6, 
<a name="l00333"></a>00333     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f9852521023caf4dfd89c02087cb257a74b85e2">PC_BINARY_LO</a>    = 7, 
<a name="l00334"></a>00334     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f98525250a2d814e0026b3979919b5d5498b730">PC_UNARY_LO</a>     = 7, 
<a name="l00335"></a>00335     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f985252860dfbf49909cb10843aaab8137f3527">PC_UNARY_HI</a>     = 7, 
<a name="l00336"></a>00336     <a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f98525291a465becd817f981aa3b582ec082db0">PC_MAX</a>          = 7  
<a name="l00337"></a>00337   };
<a name="l00338"></a>00338 
<a name="l00346"></a>00346   <span class="keyword">class </span>ActorLink {
<a name="l00347"></a>00347     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1ActorLink.html#1cc84619677de81ee6e44149845270a3">Actor</a>;
<a name="l00348"></a>00348     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1ActorLink.html#d511f8439ecde36647437fbba67a4394">Space</a>;
<a name="l00349"></a><a class="code" href="classGecode_1_1ActorLink.html">00349</a>     <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Variable.html">Variable</a>;
<a name="l00350"></a><a class="code" href="classGecode_1_1ActorLink.html#1cc84619677de81ee6e44149845270a3">00350</a>   <span class="keyword">private</span>:
<a name="l00351"></a><a class="code" href="classGecode_1_1ActorLink.html#d511f8439ecde36647437fbba67a4394">00351</a>     <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* _next; <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* _prev;
<a name="l00352"></a><a class="code" href="classGecode_1_1ActorLink.html#47c14840d8e15331fa420b9b2f757cd9">00352</a>   <span class="keyword">public</span>:
<a name="l00354"></a>00354 
<a name="l00355"></a>00355     <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* <a class="code" href="classGecode_1_1ActorLink.html#bbcad54e03abc06074a5b2fd8d2a436f">prev</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>; <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorLink.html#bbcad54e03abc06074a5b2fd8d2a436f">prev</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>*);
<a name="l00356"></a>00356     <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* <a class="code" href="classGecode_1_1ActorLink.html#faa010f58085b0a40c8ad7110ffe9422">next</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>; <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorLink.html#faa010f58085b0a40c8ad7110ffe9422">next</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>*);
<a name="l00358"></a>00358 
<a name="l00359"></a>00359 
<a name="l00361"></a>00361     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorLink.html#48a8ed9109e3b8c55aac360865834197">init</a>(<span class="keywordtype">void</span>);
<a name="l00363"></a>00363     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorLink.html#82f1e6b5d485da3933593a5cee539289">unlink</a>(<span class="keywordtype">void</span>);
<a name="l00365"></a>00365     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorLink.html#f708ce833fc69ffa1e9839b620c7ed08">head</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* al);
<a name="l00367"></a>00367     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorLink.html#d9ed8c6b096c9106412f2192f5af0e83">tail</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* al);
<a name="l00368"></a>00368   };
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 
<a name="l00381"></a>00381   <span class="keyword">class </span><a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a> : <span class="keyword">public</span> <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a> {
<a name="l00382"></a>00382     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Actor.html">Actor</a>;
<a name="l00383"></a>00383     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html">Space</a>;
<a name="l00384"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html">00384</a>     <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Variable.html">Variable</a>;
<a name="l00385"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#1cc84619677de81ee6e44149845270a3">00385</a>   <span class="keyword">private</span>:
<a name="l00386"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#d511f8439ecde36647437fbba67a4394">00386</a>     <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* _next_d; <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* _prev_d;
<a name="l00387"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#47c14840d8e15331fa420b9b2f757cd9">00387</a>   <span class="keyword">public</span>:
<a name="l00388"></a>00388     <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* <a class="code" href="classGecode_1_1ActorDeleteLink.html#3b96955b477cf873b00016e1139b8fd4">next_delete</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00389"></a>00389     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorDeleteLink.html#3b96955b477cf873b00016e1139b8fd4">next_delete</a>(<a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>*);
<a name="l00390"></a>00390     <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* <a class="code" href="classGecode_1_1ActorDeleteLink.html#7b00d3e66338f10673de9706f33b5fd9">prev_delete</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00391"></a>00391     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorDeleteLink.html#7b00d3e66338f10673de9706f33b5fd9">prev_delete</a>(<a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>*);
<a name="l00392"></a>00392 
<a name="l00394"></a>00394     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorDeleteLink.html#836ff2a7cce469dde9375c93e40a8724">init_delete</a>(<span class="keywordtype">void</span>);
<a name="l00395"></a>00395     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorDeleteLink.html#0f5177771677926a894bb26349a9d3b2">unlink_delete</a>(<span class="keywordtype">void</span>);
<a name="l00396"></a>00396     <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1ActorDeleteLink.html#bdb9307e0311984dd3bc2b52f625f75f">insert_delete</a>(<a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>*,<span class="keywordtype">bool</span>);
<a name="l00397"></a>00397   };
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 
<a name="l00405"></a>00405   <span class="keyword">class </span><a class="code" href="classGecode_1_1Actor.html">Actor</a> : <span class="keyword">private</span> <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a> {
<a name="l00406"></a>00406     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html">Space</a>;
<a name="l00407"></a>00407     <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Variable.html">Variable</a>;
<a name="l00408"></a><a class="code" href="classGecode_1_1Actor.html">00408</a>   <span class="keyword">public</span>:
<a name="l00410"></a><a class="code" href="classGecode_1_1Actor.html#47c14840d8e15331fa420b9b2f757cd9">00410</a>     <span class="keyword">virtual</span> <a class="code" href="classGecode_1_1Actor.html">Actor</a>* <a class="code" href="classGecode_1_1Actor.html#791d635ddb394ff4b4196edc5c04686f">copy</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>*,<span class="keywordtype">bool</span>) = 0;
<a name="l00412"></a>00412     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a>
<a name="l00413"></a>00413     <span class="keyword">virtual</span> size_t <a class="code" href="classGecode_1_1Actor.html#bed65334352086650a85f8190b4bcb5a">dispose</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00414"></a>00414 
<a name="l00416"></a>00416 
<a name="l00417"></a>00417 
<a name="l00418"></a>00418     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classGecode_1_1Actor.html#d6726a37cdc671803562ac4d35439f38">flush</a>(<span class="keywordtype">void</span>);
<a name="l00420"></a>00420     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <span class="keyword">virtual</span> size_t <a class="code" href="classGecode_1_1Actor.html#b97736266fdd5156de67f8ecfb3a506c">cached</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00422"></a>00422     <span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="classGecode_1_1Actor.html#bd6a516250f67d73306f2ceeba9b8c16">operator new</a>(size_t s, <a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00424"></a>00424     <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classGecode_1_1Actor.html#b474ac52c5c7c1bb4074e215da2f0853">operator delete</a>(<span class="keywordtype">void</span>* p, <a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00425"></a>00425   <span class="keyword">private</span>:
<a name="l00426"></a>00426 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00427"></a>00427 <span class="preprocessor"></span>
<a name="l00428"></a>00428     <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classGecode_1_1Actor.html#b474ac52c5c7c1bb4074e215da2f0853">operator delete</a>(<span class="keywordtype">void</span>* p, size_t s);
<a name="l00429"></a>00429 <span class="preprocessor">#endif</span>
<a name="l00430"></a>00430 <span class="preprocessor"></span>
<a name="l00431"></a>00431     <span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="classGecode_1_1Actor.html#bd6a516250f67d73306f2ceeba9b8c16">operator new</a>(size_t s);
<a name="l00433"></a>00433     <span class="keywordtype">void</span> destruct(<a class="code" href="classGecode_1_1Space.html">Space</a>* home);
<a name="l00435"></a>00435 <span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00436"></a>00436 <span class="preprocessor"></span>  <span class="keyword">public</span>:
<a name="l00438"></a>00438     <span class="keyword">virtual</span> ~<a class="code" href="classGecode_1_1Actor.html">Actor</a>(<span class="keywordtype">void</span>) {}
<a name="l00440"></a>00440     <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classGecode_1_1Actor.html#b474ac52c5c7c1bb4074e215da2f0853">operator delete</a>(<span class="keywordtype">void</span>* p, size_t s);
<a name="l00441"></a>00441 <span class="preprocessor">#endif</span>
<a name="l00442"></a>00442 <span class="preprocessor"></span>  };
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 
<a name="l00445"></a>00445 
<a name="l00450"></a>00450   <span class="keyword">class </span>Propagator : <span class="keyword">public</span> Actor {
<a name="l00451"></a>00451     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Propagator.html#d511f8439ecde36647437fbba67a4394">Space</a>;
<a name="l00452"></a>00452     <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Propagator.html#47c14840d8e15331fa420b9b2f757cd9">Variable</a>;
<a name="l00453"></a><a class="code" href="classGecode_1_1Propagator.html">00453</a>   <span class="keyword">private</span>:
<a name="l00454"></a><a class="code" href="classGecode_1_1Propagator.html#d511f8439ecde36647437fbba67a4394">00454</a>     <a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> pme;
<a name="l00455"></a><a class="code" href="classGecode_1_1Propagator.html#47c14840d8e15331fa420b9b2f757cd9">00455</a>   <span class="keyword">protected</span>:
<a name="l00461"></a>00461     <a class="code" href="classGecode_1_1Propagator.html#073ee2f692caed2d41beee81a512f224">Propagator</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <span class="keywordtype">bool</span> fd=<span class="keyword">false</span>);
<a name="l00463"></a>00463     <a class="code" href="classGecode_1_1Propagator.html#073ee2f692caed2d41beee81a512f224">Propagator</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <span class="keywordtype">bool</span> share, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>&amp; p);
<a name="l00464"></a>00464 
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 
<a name="l00477"></a>00477     <a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">ExecStatus</a> <a class="code" href="group__TaskActor.html#g8c74380f630fb2de01a83291ef81738c">ES_FIX_PARTIAL</a>(<a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> pme);
<a name="l00488"></a>00488     <a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">ExecStatus</a> <a class="code" href="group__TaskActor.html#g5a746f97c2bb6a7c9bd9974931085eff">ES_NOFIX_PARTIAL</a>(<a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> pme);
<a name="l00490"></a>00490   <span class="keyword">public</span>:
<a name="l00492"></a>00492 
<a name="l00493"></a>00493 
<a name="l00494"></a>00494     <span class="keyword">virtual</span> <a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">ExecStatus</a> <a class="code" href="classGecode_1_1Propagator.html#43f386d5e72436141eaec5f237f8c440">propagate</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>*) = 0;
<a name="l00496"></a>00496     <span class="keyword">virtual</span> <a class="code" href="group__TaskActor.html#ge0dba807c57bc3a071b794ab6f985252">PropCost</a> <a class="code" href="classGecode_1_1Propagator.html#2368fdea1cfdf17bd905a0ce52ddc1b4">cost</a>(<span class="keywordtype">void</span>) <span class="keyword">const  </span>= 0;
<a name="l00498"></a>00498   };
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 
<a name="l00502"></a>00502   <span class="comment">/*</span>
<a name="l00503"></a>00503 <span class="comment">   * Branchings</span>
<a name="l00504"></a>00504 <span class="comment">   *</span>
<a name="l00505"></a>00505 <span class="comment">   */</span>
<a name="l00506"></a>00506 
<a name="l00507"></a>00507   <span class="keyword">class </span><a class="code" href="classGecode_1_1Branching.html">Branching</a>;
<a name="l00508"></a>00508 
<a name="l00518"></a>00518   <span class="keyword">class </span><a class="code" href="classGecode_1_1BranchingDesc.html">BranchingDesc</a> {
<a name="l00519"></a>00519     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html">Space</a>;
<a name="l00520"></a>00520   <span class="keyword">private</span>:
<a name="l00521"></a><a class="code" href="classGecode_1_1BranchingDesc.html">00521</a>     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> id;  
<a name="l00522"></a><a class="code" href="classGecode_1_1BranchingDesc.html#d511f8439ecde36647437fbba67a4394">00522</a>     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> alt; 
<a name="l00523"></a>00523   <span class="keyword">protected</span>:
<a name="l00525"></a>00525     <a class="code" href="classGecode_1_1BranchingDesc.html#f97809c47cc5fa5ec2213eff6c8afd88">BranchingDesc</a>(<span class="keyword">const</span> <a class="code" href="classGecode_1_1Branching.html">Branching</a>* b, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> a);
<a name="l00526"></a>00526   <span class="keyword">public</span>:
<a name="l00528"></a>00528     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <span class="keyword">virtual</span> <a class="code" href="classGecode_1_1BranchingDesc.html#f558556faf69be0b64513fb3f9720be2">~BranchingDesc</a>(<span class="keywordtype">void</span>);
<a name="l00529"></a>00529 
<a name="l00531"></a>00531     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classGecode_1_1BranchingDesc.html#9756a1e5bcca7e0b10158c15050afe41">alternatives</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00532"></a>00532 
<a name="l00534"></a>00534     <span class="keyword">virtual</span> size_t <a class="code" href="classGecode_1_1BranchingDesc.html#fc57b36b76d8b88f04e5418967b284ac">size</a>(<span class="keywordtype">void</span>) <span class="keyword">const </span>= 0;
<a name="l00536"></a>00536     <span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="classGecode_1_1BranchingDesc.html#bc715659c306f0a65069ac15e7f2d659">operator new</a>(size_t);
<a name="l00538"></a>00538     <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classGecode_1_1BranchingDesc.html#844024794f1319f135424f52cae7a03a">operator delete</a>(<span class="keywordtype">void</span>*);
<a name="l00539"></a>00539   };
<a name="l00540"></a>00540 
<a name="l00550"></a>00550   <span class="keyword">class </span><a class="code" href="classGecode_1_1Branching.html">Branching</a> : <span class="keyword">public</span> <a class="code" href="classGecode_1_1Actor.html">Actor</a> {
<a name="l00551"></a>00551     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html">Space</a>;
<a name="l00552"></a>00552     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1BranchingDesc.html">BranchingDesc</a>;
<a name="l00553"></a><a class="code" href="classGecode_1_1Branching.html">00553</a>   <span class="keyword">private</span>:
<a name="l00554"></a><a class="code" href="classGecode_1_1Branching.html#d511f8439ecde36647437fbba67a4394">00554</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> id; 
<a name="l00555"></a><a class="code" href="classGecode_1_1Branching.html#5562120d2ff31e7e0e685d3c5477205a">00555</a>   <span class="keyword">protected</span>:
<a name="l00557"></a>00557     <a class="code" href="classGecode_1_1Branching.html#718ffa7725c6356d51cd28b862ff9fb2">Branching</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <span class="keywordtype">bool</span> fd=<span class="keyword">false</span>);
<a name="l00559"></a>00559     <a class="code" href="classGecode_1_1Branching.html#718ffa7725c6356d51cd28b862ff9fb2">Branching</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <span class="keywordtype">bool</span> share, <a class="code" href="classGecode_1_1Branching.html">Branching</a>&amp; b);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561   <span class="keyword">public</span>:
<a name="l00563"></a>00563 
<a name="l00564"></a>00564 
<a name="l00572"></a>00572     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classGecode_1_1Branching.html#2f326890e7df629225c7fa6c8659aaac">status</a>(<span class="keyword">const</span> <a class="code" href="classGecode_1_1Space.html">Space</a>* home) <span class="keyword">const </span>= 0;
<a name="l00582"></a>00582     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classGecode_1_1BranchingDesc.html">BranchingDesc</a>* <a class="code" href="classGecode_1_1Branching.html#6adeb976e61575700fac4d35bc604609">description</a>(<span class="keyword">const</span> <a class="code" href="classGecode_1_1Space.html">Space</a>* home) <span class="keyword">const </span>= 0;
<a name="l00590"></a>00590     <span class="keyword">virtual</span> <a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">ExecStatus</a> <a class="code" href="classGecode_1_1Branching.html#a113017d0a618cdd221576bb2f28a7b2">commit</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>* home, <span class="keyword">const</span> <a class="code" href="classGecode_1_1BranchingDesc.html">BranchingDesc</a>* d,
<a name="l00591"></a>00591                               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> a) = 0;
<a name="l00593"></a>00593   };
<a name="l00594"></a>00594 
<a name="l00595"></a>00595 
<a name="l00596"></a>00596 
<a name="l00601"></a>00601   <span class="keyword">enum</span> <a class="code" href="group__TaskSearch.html#g4c57a00c9f0705f3f61db9338cb000c8">SpaceStatus</a> {
<a name="l00602"></a>00602     <a class="code" href="group__TaskSearch.html#gg4c57a00c9f0705f3f61db9338cb000c8a41d7b3e775ec319be1ab3eebbecfe13">SS_FAILED</a>, 
<a name="l00603"></a>00603     <a class="code" href="group__TaskSearch.html#gg4c57a00c9f0705f3f61db9338cb000c826880c416377db968ed0f6feb0604809">SS_SOLVED</a>, 
<a name="l00604"></a><a class="code" href="group__TaskSearch.html#g4c57a00c9f0705f3f61db9338cb000c8">00604</a>     <a class="code" href="group__TaskSearch.html#gg4c57a00c9f0705f3f61db9338cb000c832880b03da842007fc49605c9631acf5">SS_BRANCH</a>  
<a name="l00605"></a>00605   };
<a name="l00606"></a>00606 
<a name="l00610"></a>00610   <span class="keyword">class </span>Space {
<a name="l00611"></a>00611     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html#b832972100d3146333c02679be347d7b">Propagator</a>;
<a name="l00612"></a>00612     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Space.html#cec9f877aea82b580a4bd8292d6fd05b">Branching</a>;
<a name="l00613"></a><a class="code" href="classGecode_1_1Space.html">00613</a>     <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1Variable.html">Variable</a>;
<a name="l00614"></a><a class="code" href="classGecode_1_1Space.html#b832972100d3146333c02679be347d7b">00614</a>     <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGecode_1_1VarTypeProcessor.html">VarTypeProcessor</a>;
<a name="l00615"></a><a class="code" href="classGecode_1_1Space.html#cec9f877aea82b580a4bd8292d6fd05b">00615</a>   <span class="keyword">private</span>:
<a name="l00616"></a><a class="code" href="classGecode_1_1Space.html#47c14840d8e15331fa420b9b2f757cd9">00616</a>     <a class="code" href="classGecode_1_1MemoryManager.html">MemoryManager</a>   mm; 
<a name="l00617"></a><a class="code" href="classGecode_1_1Space.html#0433d48ebdf7299f4b8f18582977ab32">00617</a> 
<a name="l00622"></a>00622 
<a name="l00623"></a>00623     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a>
<a name="l00624"></a>00624     <span class="keyword">static</span> <a class="code" href="classGecode_1_1VarTypeProcessorBase.html">VarTypeProcessorBase</a>* vtp[<a class="code" href="group__TaskVar.html#gg6b203b50acb6d66bce1983ae3e65b88affaf6d5bff567c727bc1de7931b8236e">VTI_LAST</a>];
<a name="l00626"></a>00626     <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* vars[<a class="code" href="group__TaskVar.html#gg6b203b50acb6d66bce1983ae3e65b88affaf6d5bff567c727bc1de7931b8236e">VTI_LAST</a>];
<a name="l00628"></a>00628     <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* vars_dispose[<a class="code" href="group__TaskVar.html#gg6b203b50acb6d66bce1983ae3e65b88affaf6d5bff567c727bc1de7931b8236e">VTI_LAST</a>];
<a name="l00630"></a>00630     <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* vars_noidx;
<a name="l00632"></a>00632     <span class="keywordtype">void</span> process(<span class="keywordtype">void</span>);
<a name="l00634"></a>00634 
<a name="l00639"></a>00639 
<a name="l00640"></a>00640     <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a> pool[<a class="code" href="group__TaskActor.html#gge0dba807c57bc3a071b794ab6f98525291a465becd817f981aa3b582ec082db0">PC_MAX</a>+1];
<a name="l00642"></a>00642     <span class="keywordtype">int</span> pool_next;
<a name="l00644"></a>00644     <span class="keywordtype">void</span> pool_put(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p);
<a name="l00646"></a>00646     <span class="keywordtype">bool</span> pool_get(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>*&amp; p);
<a name="l00648"></a>00648 
<a name="l00655"></a>00655     <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a> a_actors;
<a name="l00664"></a>00664     <a class="code" href="classGecode_1_1Branching.html">Branching</a>*      b_status;
<a name="l00677"></a>00677     <a class="code" href="classGecode_1_1Branching.html">Branching</a>*      b_commit;
<a name="l00679"></a>00679     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    branch_id;
<a name="l00680"></a>00680 
<a name="l00690"></a>00690     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_sub;
<a name="l00698"></a>00698     <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>** sub;
<a name="l00700"></a>00700     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> unused_uli;
<a name="l00701"></a>00701 
<a name="l00703"></a>00703     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> propagate(<span class="keywordtype">void</span>);
<a name="l00704"></a>00704 
<a name="l00706"></a>00706     <span class="keywordtype">void</span> propagator(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p, <span class="keywordtype">bool</span> fd);
<a name="l00708"></a>00708     <span class="keywordtype">void</span> propagator(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>*);
<a name="l00710"></a>00710     <span class="keywordtype">void</span> branching(<a class="code" href="classGecode_1_1Branching.html">Branching</a>* b, <span class="keywordtype">bool</span> fd);
<a name="l00711"></a>00711 
<a name="l00716"></a>00716 
<a name="l00717"></a>00717     <span class="keyword">template</span> &lt;VarTypeId VTI, <span class="keyword">class</span> MED&gt;
<a name="l00718"></a>00718     <span class="keywordtype">void</span> process(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me);
<a name="l00720"></a>00720     <span class="keyword">template</span> &lt;VarTypeId VTI, <span class="keyword">class</span> MED&gt;
<a name="l00721"></a>00721     <span class="keywordtype">void</span> process(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p);
<a name="l00723"></a>00723 
<a name="l00724"></a>00724 
<a name="l00725"></a>00725   <span class="keyword">public</span>:
<a name="l00730"></a>00730     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <a class="code" href="group__TaskIntScript.html#gbaa8e981730cc7e56b042ce413c60642">Space</a>(<span class="keywordtype">void</span>);
<a name="l00735"></a>00735     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <span class="keyword">virtual</span> <a class="code" href="group__TaskIntScript.html#ga54f2de8b286b6d2670e35cb07c571d8">~Space</a>(<span class="keywordtype">void</span>);
<a name="l00746"></a>00746     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> <a class="code" href="group__TaskIntScript.html#gbaa8e981730cc7e56b042ce413c60642">Space</a>(<span class="keywordtype">bool</span> share, <a class="code" href="classGecode_1_1Space.html">Space</a>&amp; s);
<a name="l00753"></a>00753     <span class="keyword">virtual</span> <a class="code" href="classGecode_1_1Space.html">Space</a>* <a class="code" href="group__TaskIntScript.html#gf3f4732bd38f2de927e7082410ec82c0">copy</a>(<span class="keywordtype">bool</span> share) = 0;
<a name="l00758"></a>00758     <span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="group__TaskIntScript.html#gbc715659c306f0a65069ac15e7f2d659">operator new</a>(size_t);
<a name="l00763"></a>00763     <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="group__TaskIntScript.html#g844024794f1319f135424f52cae7a03a">operator delete</a>(<span class="keywordtype">void</span>*);
<a name="l00764"></a>00764 
<a name="l00765"></a>00765 
<a name="l00766"></a>00766 
<a name="l00767"></a>00767 
<a name="l00768"></a>00768     <span class="comment">/*</span>
<a name="l00769"></a>00769 <span class="comment">     * Member functions for search engines</span>
<a name="l00770"></a>00770 <span class="comment">     *</span>
<a name="l00771"></a>00771 <span class="comment">     */</span>
<a name="l00772"></a>00772 
<a name="l00784"></a>00784     <a class="code" href="group__TaskSearch.html#g4c57a00c9f0705f3f61db9338cb000c8">SpaceStatus</a> <a class="code" href="group__TaskSearch.html#g1d8ad12d06bd072e221676ee00dfa63e">status</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>&amp; pn=unused_uli);
<a name="l00785"></a>00785 
<a name="l00801"></a>00801     <span class="keyword">const</span> <a class="code" href="classGecode_1_1BranchingDesc.html">BranchingDesc</a>* <a class="code" href="group__TaskSearch.html#gf605ea6c185f5d43616c38e6a0917f30">description</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00802"></a>00802 
<a name="l00819"></a>00819     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a>
<a name="l00820"></a>00820     <a class="code" href="classGecode_1_1Space.html">Space</a>* <a class="code" href="group__TaskSearch.html#g068f847a1f3957875055ee6aab40c122">clone</a>(<span class="keywordtype">bool</span> share=<span class="keyword">true</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>&amp; pn=unused_uli);
<a name="l00821"></a>00821 
<a name="l00851"></a>00851     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a>
<a name="l00852"></a>00852     <span class="keywordtype">void</span> <a class="code" href="group__TaskSearch.html#gb1e8b44bd579a978a29320aad6ad6f40">commit</a>(<span class="keyword">const</span> <a class="code" href="classGecode_1_1BranchingDesc.html">BranchingDesc</a>* d, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> a);
<a name="l00853"></a>00853 
<a name="l00864"></a>00864     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a>
<a name="l00865"></a>00865     <span class="keywordtype">void</span> <a class="code" href="group__TaskSearch.html#gd6726a37cdc671803562ac4d35439f38">flush</a>(<span class="keywordtype">void</span>);
<a name="l00866"></a>00866 
<a name="l00867"></a>00867 
<a name="l00868"></a>00868     <span class="comment">/*</span>
<a name="l00869"></a>00869 <span class="comment">     * Status checking and failing outside actors</span>
<a name="l00870"></a>00870 <span class="comment">     *</span>
<a name="l00871"></a>00871 <span class="comment">     */</span>
<a name="l00872"></a>00872 
<a name="l00880"></a>00880     <span class="keywordtype">void</span> <a class="code" href="group__TaskActor.html#g1d04fb15e0689433916635835579c5c3">fail</a>(<span class="keywordtype">void</span>);
<a name="l00889"></a>00889     <span class="keywordtype">bool</span> <a class="code" href="group__TaskActor.html#g3b1469c80f27246bef9f6de39fc36f2c">failed</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00899"></a>00899     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a>
<a name="l00900"></a>00900     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classGecode_1_1Space.html#02e57824bb473856250105ff9e3c7459">propagators</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00908"></a>00908     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a>
<a name="l00909"></a>00909     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classGecode_1_1Space.html#1f4b17bf24c036d5370b19efeffb9372">branchings</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00910"></a>00910 
<a name="l00916"></a>00916 
<a name="l00917"></a>00917     <span class="keywordtype">void</span>* <a class="code" href="group__FuncMemSpace.html#gc3733cbd2ae019bd4b2e358f9b9dea3a">alloc</a>(size_t);
<a name="l00919"></a>00919     <span class="keywordtype">void</span>  <a class="code" href="group__FuncMemSpace.html#g4f9665ab06aac4b2b37b73243593be49">reuse</a>(<span class="keywordtype">void</span>*,size_t);
<a name="l00921"></a>00921     <span class="keyword">template</span> &lt;size_t&gt; <span class="keywordtype">void</span>* <a class="code" href="group__FuncMemSpace.html#g26b7222c58e60e369bb2ebc1d1fa4435">fl_alloc</a>(<span class="keywordtype">void</span>);
<a name="l00927"></a>00927     <span class="keyword">template</span> &lt;size_t&gt; <span class="keywordtype">void</span>  <a class="code" href="group__FuncMemSpace.html#ga184fb6c3002ca70175280b2eacc6e7c">fl_dispose</a>(<a class="code" href="classGecode_1_1FreeList.html">FreeList</a>* f, <a class="code" href="classGecode_1_1FreeList.html">FreeList</a>* l);
<a name="l00933"></a>00933     size_t <a class="code" href="group__FuncMemSpace.html#g82d3115bddec916f28012dec195ee9f1">allocated</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00935"></a>00935     <a class="code" href="kernel_8hh.html#6d92e6ddab887f7315becb85e0f8e4bb">GECODE_KERNEL_EXPORT</a> size_t <a class="code" href="group__FuncMemSpace.html#gb97736266fdd5156de67f8ecfb3a506c">cached</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00937"></a>00937     <span class="keyword">template</span> &lt;VarTypeId VTI&gt; <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* <a class="code" href="group__FuncMemSpace.html#ge2a172f4c039fbcad652266780f7ce9d">varsDisposeList</a>(<span class="keywordtype">void</span>);
<a name="l00939"></a>00939     <span class="keyword">template</span> &lt;VarTypeId VTI&gt; <span class="keywordtype">void</span> <a class="code" href="group__FuncMemSpace.html#ge2a172f4c039fbcad652266780f7ce9d">varsDisposeList</a>(<a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* v);
<a name="l00941"></a>00941   };
<a name="l00942"></a>00942 
<a name="l00943"></a>00943 
<a name="l00944"></a>00944 
<a name="l00945"></a>00945 
<a name="l00946"></a>00946   <span class="comment">/***</span>
<a name="l00947"></a>00947 <span class="comment">   *** MEMORY MANAGEMENT</span>
<a name="l00948"></a>00948 <span class="comment">   ***</span>
<a name="l00949"></a>00949 <span class="comment">   ***/</span>
<a name="l00950"></a>00950 
<a name="l00951"></a>00951   <span class="comment">/*</span>
<a name="l00952"></a>00952 <span class="comment">   * Heap allocated: Space, BranchDesc</span>
<a name="l00953"></a>00953 <span class="comment">   *</span>
<a name="l00954"></a>00954 <span class="comment">   */</span>
<a name="l00955"></a>00955 
<a name="l00956"></a>00956   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>*
<a name="l00957"></a>00957   <a class="code" href="group__TaskIntScript.html#gbc715659c306f0a65069ac15e7f2d659">Space::operator new</a>(size_t s) {
<a name="l00958"></a>00958     <span class="keywordflow">return</span> <a class="code" href="group__FuncMemHeap.html#g1dd97f2c0e40251a1180bd54c815027d">Memory::malloc</a>(s);
<a name="l00959"></a>00959   }
<a name="l00960"></a><a class="code" href="group__TaskIntScript.html#gbc715659c306f0a65069ac15e7f2d659">00960</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l00961"></a>00961   <a class="code" href="group__TaskIntScript.html#g844024794f1319f135424f52cae7a03a">Space::operator delete</a>(<span class="keywordtype">void</span>* p) {
<a name="l00962"></a>00962     <a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">Memory::free</a>(p);
<a name="l00963"></a>00963   }
<a name="l00964"></a><a class="code" href="group__TaskIntScript.html#g844024794f1319f135424f52cae7a03a">00964</a> 
<a name="l00965"></a>00965   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l00966"></a>00966   <a class="code" href="classGecode_1_1BranchingDesc.html#844024794f1319f135424f52cae7a03a">BranchingDesc::operator delete</a>(<span class="keywordtype">void</span>* p) {
<a name="l00967"></a>00967     <a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">Memory::free</a>(p);
<a name="l00968"></a>00968   }
<a name="l00969"></a><a class="code" href="classGecode_1_1BranchingDesc.html#844024794f1319f135424f52cae7a03a">00969</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>*
<a name="l00970"></a>00970   <a class="code" href="classGecode_1_1BranchingDesc.html#bc715659c306f0a65069ac15e7f2d659">BranchingDesc::operator new</a>(size_t s) {
<a name="l00971"></a>00971     <span class="keywordflow">return</span> <a class="code" href="group__FuncMemHeap.html#g1dd97f2c0e40251a1180bd54c815027d">Memory::malloc</a>(s);
<a name="l00972"></a>00972   }
<a name="l00973"></a><a class="code" href="classGecode_1_1BranchingDesc.html#bc715659c306f0a65069ac15e7f2d659">00973</a> 
<a name="l00974"></a>00974   <span class="comment">/*</span>
<a name="l00975"></a>00975 <span class="comment">   * Space allocation: general space heaps and free lists</span>
<a name="l00976"></a>00976 <span class="comment">   *</span>
<a name="l00977"></a>00977 <span class="comment">   */</span>
<a name="l00978"></a>00978 
<a name="l00979"></a>00979   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>*
<a name="l00980"></a>00980   <a class="code" href="group__FuncMemSpace.html#gc3733cbd2ae019bd4b2e358f9b9dea3a">Space::alloc</a>(size_t s) {
<a name="l00981"></a>00981     <span class="keywordflow">return</span> mm.alloc(s);
<a name="l00982"></a>00982   }
<a name="l00983"></a><a class="code" href="group__FuncMemSpace.html#gc3733cbd2ae019bd4b2e358f9b9dea3a">00983</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l00984"></a>00984   <a class="code" href="group__FuncMemSpace.html#g4f9665ab06aac4b2b37b73243593be49">Space::reuse</a>(<span class="keywordtype">void</span>* p, size_t s) {
<a name="l00985"></a>00985     <span class="keywordflow">return</span> mm.<a class="code" href="classGecode_1_1MemoryManager.html#242700ef1836fb32e592ae2a7e6683ce">reuse</a>(p,s);
<a name="l00986"></a>00986   }
<a name="l00987"></a><a class="code" href="group__FuncMemSpace.html#g4f9665ab06aac4b2b37b73243593be49">00987</a> 
<a name="l00988"></a>00988   <span class="keyword">template</span> &lt;size_t s&gt;
<a name="l00989"></a>00989   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>*
<a name="l00990"></a>00990   <a class="code" href="group__FuncMemSpace.html#g26b7222c58e60e369bb2ebc1d1fa4435">Space::fl_alloc</a>(<span class="keywordtype">void</span>) {
<a name="l00991"></a>00991     <span class="keywordflow">return</span> mm.template fl_alloc&lt;s&gt;();
<a name="l00992"></a>00992   }
<a name="l00993"></a><a class="code" href="group__FuncMemSpace.html#g26b7222c58e60e369bb2ebc1d1fa4435">00993</a>   template &lt;size_t s&gt;
<a name="l00994"></a>00994   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l00995"></a>00995   <a class="code" href="group__FuncMemSpace.html#ga184fb6c3002ca70175280b2eacc6e7c">Space::fl_dispose</a>(<a class="code" href="classGecode_1_1FreeList.html">FreeList</a>* f, <a class="code" href="classGecode_1_1FreeList.html">FreeList</a>* l) {
<a name="l00996"></a>00996     mm.template fl_dispose&lt;s&gt;(f,l);
<a name="l00997"></a>00997   }
<a name="l00998"></a><a class="code" href="group__FuncMemSpace.html#ga184fb6c3002ca70175280b2eacc6e7c">00998</a> 
<a name="l00999"></a>00999   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> size_t
<a name="l01000"></a>01000   <a class="code" href="group__FuncMemSpace.html#g82d3115bddec916f28012dec195ee9f1">Space::allocated</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> {
<a name="l01001"></a>01001     <span class="keywordflow">return</span> mm.<a class="code" href="classGecode_1_1MemoryManager.html#82d3115bddec916f28012dec195ee9f1">allocated</a>()+n_sub*<span class="keyword">sizeof</span>(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>**);
<a name="l01002"></a>01002   }
<a name="l01003"></a><a class="code" href="group__FuncMemSpace.html#g82d3115bddec916f28012dec195ee9f1">01003</a> 
<a name="l01004"></a>01004   template &lt;VarTypeId VTI&gt;
<a name="l01005"></a>01005   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>*
<a name="l01006"></a>01006   <a class="code" href="group__FuncMemSpace.html#ge2a172f4c039fbcad652266780f7ce9d">Space::varsDisposeList</a>(<span class="keywordtype">void</span>) {
<a name="l01007"></a>01007     <span class="keywordflow">return</span> vars_dispose[VTI];
<a name="l01008"></a>01008   }
<a name="l01009"></a><a class="code" href="group__FuncMemSpace.html#ge2a172f4c039fbcad652266780f7ce9d">01009</a> 
<a name="l01010"></a>01010   <span class="keyword">template</span> &lt;VarTypeId VTI&gt;
<a name="l01011"></a>01011   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01012"></a>01012   <a class="code" href="group__FuncMemSpace.html#ge2a172f4c039fbcad652266780f7ce9d">Space::varsDisposeList</a>(<a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* v) {
<a name="l01013"></a>01013     vars_dispose[VTI]=v;
<a name="l01014"></a>01014   }
<a name="l01015"></a><a class="code" href="group__FuncMemSpace.html#g781837761743f3f93e0e36bca195d2f2">01015</a> 
<a name="l01016"></a>01016   <span class="comment">/*</span>
<a name="l01017"></a>01017 <span class="comment">   * Space allocated entities: Actors and Variables</span>
<a name="l01018"></a>01018 <span class="comment">   *</span>
<a name="l01019"></a>01019 <span class="comment">   */</span>
<a name="l01020"></a>01020 
<a name="l01021"></a>01021   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01022"></a>01022   <a class="code" href="classGecode_1_1Actor.html#b474ac52c5c7c1bb4074e215da2f0853">Actor::operator delete</a>(<span class="keywordtype">void</span>*, size_t) {}
<a name="l01023"></a>01023   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01024"></a>01024   <a class="code" href="classGecode_1_1Actor.html#b474ac52c5c7c1bb4074e215da2f0853">Actor::operator delete</a>(<span class="keywordtype">void</span>*,<a class="code" href="classGecode_1_1Space.html">Space</a>*) {}
<a name="l01025"></a>01025   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>*
<a name="l01026"></a>01026   <a class="code" href="classGecode_1_1Actor.html#bd6a516250f67d73306f2ceeba9b8c16">Actor::operator new</a>(size_t s, Space* home) {
<a name="l01027"></a><a class="code" href="classGecode_1_1Actor.html#b474ac52c5c7c1bb4074e215da2f0853">01027</a>     <span class="keywordflow">return</span> home-&gt;alloc(s);
<a name="l01028"></a>01028   }
<a name="l01029"></a><a class="code" href="classGecode_1_1Actor.html#bd6a516250f67d73306f2ceeba9b8c16">01029</a> 
<a name="l01030"></a>01030   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01031"></a>01031   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01032"></a>01032   Variable&lt;VTI,PC,MED&gt;::operator delete(<span class="keywordtype">void</span>*) {}
<a name="l01033"></a>01033   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01034"></a>01034   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01035"></a><a class="code" href="classGecode_1_1Variable.html#844024794f1319f135424f52cae7a03a">01035</a>   Variable&lt;VTI,PC,MED&gt;::operator delete(<span class="keywordtype">void</span>*, <a class="code" href="classGecode_1_1Space.html">Space</a>*) {}
<a name="l01036"></a>01036   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01037"></a>01037   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>*
<a name="l01038"></a><a class="code" href="classGecode_1_1Variable.html#95fd6e5d7d0415b69936a95302197097">01038</a>   Variable&lt;VTI,PC,MED&gt;::operator new(size_t s, <a class="code" href="classGecode_1_1Space.html">Space</a>* home) {
<a name="l01039"></a>01039     <span class="keywordflow">return</span> home-&gt;alloc(s);
<a name="l01040"></a>01040   }
<a name="l01041"></a><a class="code" href="classGecode_1_1Variable.html#2145fd6396092635258c8f66725013b7">01041</a> 
<a name="l01042"></a>01042 
<a name="l01043"></a>01043 
<a name="l01044"></a>01044   <span class="comment">/*</span>
<a name="l01045"></a>01045 <span class="comment">   * ActorLinks as common subclass for propagators and branchings</span>
<a name="l01046"></a>01046 <span class="comment">   *</span>
<a name="l01047"></a>01047 <span class="comment">   */</span>
<a name="l01048"></a>01048 
<a name="l01049"></a>01049   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>*
<a name="l01050"></a>01050   <a class="code" href="classGecode_1_1ActorLink.html#bbcad54e03abc06074a5b2fd8d2a436f">ActorLink::prev</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _prev; }
<a name="l01051"></a>01051   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>*
<a name="l01052"></a>01052   <a class="code" href="classGecode_1_1ActorLink.html#faa010f58085b0a40c8ad7110ffe9422">ActorLink::next</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _next; }
<a name="l01053"></a><a class="code" href="classGecode_1_1ActorLink.html#bbcad54e03abc06074a5b2fd8d2a436f">01053</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01054"></a>01054   <a class="code" href="classGecode_1_1ActorLink.html#bbcad54e03abc06074a5b2fd8d2a436f">ActorLink::prev</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* al) { _prev = al; }
<a name="l01055"></a><a class="code" href="classGecode_1_1ActorLink.html#faa010f58085b0a40c8ad7110ffe9422">01055</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01056"></a>01056   <a class="code" href="classGecode_1_1ActorLink.html#faa010f58085b0a40c8ad7110ffe9422">ActorLink::next</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* al) { _next = al; }
<a name="l01057"></a><a class="code" href="classGecode_1_1ActorLink.html#8759371599ea9806b505412d0814dfd5">01057</a> 
<a name="l01058"></a>01058   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01059"></a><a class="code" href="classGecode_1_1ActorLink.html#b27807c88980b95dc2ee41fc6da55b76">01059</a>   <a class="code" href="classGecode_1_1ActorLink.html#82f1e6b5d485da3933593a5cee539289">ActorLink::unlink</a>(<span class="keywordtype">void</span>) {
<a name="l01060"></a>01060     <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* p = _prev; <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* n = _next;
<a name="l01061"></a>01061     p-&gt;_next = n; n-&gt;_prev = p;
<a name="l01062"></a><a class="code" href="classGecode_1_1ActorLink.html#82f1e6b5d485da3933593a5cee539289">01062</a>   }
<a name="l01063"></a>01063   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01064"></a>01064   <a class="code" href="classGecode_1_1ActorLink.html#48a8ed9109e3b8c55aac360865834197">ActorLink::init</a>(<span class="keywordtype">void</span>) {
<a name="l01065"></a>01065     _next = <span class="keyword">this</span>; _prev =<span class="keyword">this</span>;
<a name="l01066"></a>01066   }
<a name="l01067"></a><a class="code" href="classGecode_1_1ActorLink.html#48a8ed9109e3b8c55aac360865834197">01067</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01068"></a>01068   <a class="code" href="classGecode_1_1ActorLink.html#f708ce833fc69ffa1e9839b620c7ed08">ActorLink::head</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* a) {
<a name="l01069"></a>01069     <span class="comment">// Inserts al at head of link-chain (that is, after this)</span>
<a name="l01070"></a>01070     <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* n = _next;
<a name="l01071"></a><a class="code" href="classGecode_1_1ActorLink.html#f708ce833fc69ffa1e9839b620c7ed08">01071</a>     this-&gt;_next = a; a-&gt;_prev = <span class="keyword">this</span>;
<a name="l01072"></a>01072     a-&gt;_next = n; n-&gt;_prev = a;
<a name="l01073"></a>01073   }
<a name="l01074"></a>01074   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01075"></a>01075   <a class="code" href="classGecode_1_1ActorLink.html#d9ed8c6b096c9106412f2192f5af0e83">ActorLink::tail</a>(<a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* a) {
<a name="l01076"></a>01076     <span class="comment">// Inserts al at tail of link-chain (that is, before this)</span>
<a name="l01077"></a>01077     <a class="code" href="classGecode_1_1ActorLink.html">ActorLink</a>* p = _prev;
<a name="l01078"></a><a class="code" href="classGecode_1_1ActorLink.html#d9ed8c6b096c9106412f2192f5af0e83">01078</a>     a-&gt;_next = <span class="keyword">this</span>; this-&gt;_prev = a;
<a name="l01079"></a>01079     p-&gt;_next = a; a-&gt;_prev = p;
<a name="l01080"></a>01080   }
<a name="l01081"></a>01081 
<a name="l01082"></a>01082 
<a name="l01083"></a>01083 
<a name="l01084"></a>01084   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>*
<a name="l01085"></a>01085   <a class="code" href="classGecode_1_1ActorDeleteLink.html#3b96955b477cf873b00016e1139b8fd4">ActorDeleteLink::next_delete</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _next_d; }
<a name="l01086"></a>01086   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> ActorDeleteLink*
<a name="l01087"></a>01087   <a class="code" href="classGecode_1_1ActorDeleteLink.html#7b00d3e66338f10673de9706f33b5fd9">ActorDeleteLink::prev_delete</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _prev_d; }
<a name="l01088"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#3b96955b477cf873b00016e1139b8fd4">01088</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01089"></a>01089   <a class="code" href="classGecode_1_1ActorDeleteLink.html#3b96955b477cf873b00016e1139b8fd4">ActorDeleteLink::next_delete</a>(<a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* adl) { _next_d = adl; }
<a name="l01090"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#7b00d3e66338f10673de9706f33b5fd9">01090</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01091"></a>01091   <a class="code" href="classGecode_1_1ActorDeleteLink.html#7b00d3e66338f10673de9706f33b5fd9">ActorDeleteLink::prev_delete</a>(<a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* adl) { _prev_d = adl; }
<a name="l01092"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#c0d6d254aa0757e8e0733970cf7b99a7">01092</a> 
<a name="l01093"></a>01093   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01094"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#731f013ce573404527ed06db59b63a2a">01094</a>   <a class="code" href="classGecode_1_1ActorDeleteLink.html#0f5177771677926a894bb26349a9d3b2">ActorDeleteLink::unlink_delete</a>(<span class="keywordtype">void</span>) {
<a name="l01095"></a>01095     <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* p = _prev_d;
<a name="l01096"></a>01096     <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* n = _next_d;
<a name="l01097"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#0f5177771677926a894bb26349a9d3b2">01097</a>     p-&gt;<a class="code" href="classGecode_1_1ActorDeleteLink.html#ee505b39272e1fcaa4f666b78c47ad05">_next_d</a> = n; n-&gt;<a class="code" href="classGecode_1_1ActorDeleteLink.html#a7c99bdf122525fb1f0a84633717e523">_prev_d</a> = p;
<a name="l01098"></a>01098   }
<a name="l01099"></a>01099 
<a name="l01100"></a>01100   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01101"></a>01101   <a class="code" href="classGecode_1_1ActorDeleteLink.html#bdb9307e0311984dd3bc2b52f625f75f">ActorDeleteLink::insert_delete</a>(<a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* a, <span class="keywordtype">bool</span> fd) {
<a name="l01102"></a>01102     <span class="keywordflow">if</span> (fd) {
<a name="l01103"></a>01103       <span class="comment">// Link a after this</span>
<a name="l01104"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#bdb9307e0311984dd3bc2b52f625f75f">01104</a>       <a class="code" href="classGecode_1_1ActorDeleteLink.html">ActorDeleteLink</a>* n = _next_d;
<a name="l01105"></a>01105       this-&gt;_next_d = a; a-&gt;<a class="code" href="classGecode_1_1ActorDeleteLink.html#a7c99bdf122525fb1f0a84633717e523">_prev_d</a> = <span class="keyword">this</span>;
<a name="l01106"></a>01106       a-&gt;<a class="code" href="classGecode_1_1ActorDeleteLink.html#ee505b39272e1fcaa4f666b78c47ad05">_next_d</a> = n; n-&gt;<a class="code" href="classGecode_1_1ActorDeleteLink.html#a7c99bdf122525fb1f0a84633717e523">_prev_d</a> = a;
<a name="l01107"></a>01107     } <span class="keywordflow">else</span> {
<a name="l01108"></a>01108       <span class="comment">// Just link to itself</span>
<a name="l01109"></a>01109       a-&gt;<a class="code" href="classGecode_1_1ActorDeleteLink.html#a7c99bdf122525fb1f0a84633717e523">_prev_d</a> = a; a-&gt;<a class="code" href="classGecode_1_1ActorDeleteLink.html#ee505b39272e1fcaa4f666b78c47ad05">_next_d</a> = a;
<a name="l01110"></a>01110     }
<a name="l01111"></a>01111   }
<a name="l01112"></a>01112 
<a name="l01113"></a>01113   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01114"></a>01114   <a class="code" href="classGecode_1_1ActorDeleteLink.html#836ff2a7cce469dde9375c93e40a8724">ActorDeleteLink::init_delete</a>(<span class="keywordtype">void</span>) {
<a name="l01115"></a>01115     _next_d = <span class="keyword">this</span>; _prev_d = <span class="keyword">this</span>;
<a name="l01116"></a>01116   }
<a name="l01117"></a><a class="code" href="classGecode_1_1ActorDeleteLink.html#836ff2a7cce469dde9375c93e40a8724">01117</a> 
<a name="l01118"></a>01118 
<a name="l01119"></a>01119 
<a name="l01120"></a>01120 
<a name="l01121"></a>01121   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> size_t
<a name="l01122"></a>01122   <a class="code" href="classGecode_1_1Actor.html#bed65334352086650a85f8190b4bcb5a">Actor::dispose</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>*) {
<a name="l01123"></a>01123     <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(*this);
<a name="l01124"></a>01124   }
<a name="l01125"></a><a class="code" href="classGecode_1_1Actor.html#bed65334352086650a85f8190b4bcb5a">01125</a> 
<a name="l01126"></a>01126   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01127"></a>01127   Actor::destruct(<a class="code" href="classGecode_1_1Space.html">Space</a>* home) {
<a name="l01128"></a>01128     <a class="code" href="classGecode_1_1ActorDeleteLink.html#0f5177771677926a894bb26349a9d3b2">unlink_delete</a>();
<a name="l01129"></a>01129     size_t s = <a class="code" href="classGecode_1_1Actor.html#bed65334352086650a85f8190b4bcb5a">dispose</a>(home);
<a name="l01130"></a>01130     home-&gt;reuse(<span class="keyword">this</span>,s);
<a name="l01131"></a>01131   }
<a name="l01132"></a>01132 
<a name="l01133"></a>01133 
<a name="l01134"></a>01134   <span class="comment">/*</span>
<a name="l01135"></a>01135 <span class="comment">   * Spaces</span>
<a name="l01136"></a>01136 <span class="comment">   *</span>
<a name="l01137"></a>01137 <span class="comment">   */</span>
<a name="l01138"></a>01138 
<a name="l01139"></a>01139   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keyword">const</span> <a class="code" href="classGecode_1_1BranchingDesc.html">BranchingDesc</a>*
<a name="l01140"></a>01140   <a class="code" href="group__TaskSearch.html#gf605ea6c185f5d43616c38e6a0917f30">Space::description</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l01141"></a>01141     <span class="keywordflow">return</span> b_status-&gt;description(<span class="keyword">this</span>);
<a name="l01142"></a>01142   }
<a name="l01143"></a><a class="code" href="group__TaskSearch.html#gf605ea6c185f5d43616c38e6a0917f30">01143</a> 
<a name="l01144"></a>01144   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">bool</span>
<a name="l01145"></a>01145   <a class="code" href="group__TaskActor.html#g3b1469c80f27246bef9f6de39fc36f2c">Space::failed</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l01146"></a>01146     <span class="keywordflow">return</span> b_status == NULL;
<a name="l01147"></a>01147   }
<a name="l01148"></a><a class="code" href="group__TaskActor.html#g3b1469c80f27246bef9f6de39fc36f2c">01148</a> 
<a name="l01149"></a>01149   <span class="comment">/*</span>
<a name="l01150"></a>01150 <span class="comment">   * Main control for propagation and branching</span>
<a name="l01151"></a>01151 <span class="comment">   *  - a space only propagates and branches if requested by</span>
<a name="l01152"></a>01152 <span class="comment">   *    either a status, commit, or clone operation</span>
<a name="l01153"></a>01153 <span class="comment">   *  - for all of the operations the number of propagation</span>
<a name="l01154"></a>01154 <span class="comment">   *    steps performed is returned in the last (optional)</span>
<a name="l01155"></a>01155 <span class="comment">   *    reference argument</span>
<a name="l01156"></a>01156 <span class="comment">   *</span>
<a name="l01157"></a>01157 <span class="comment">   */</span>
<a name="l01158"></a>01158   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="group__TaskSearch.html#g4c57a00c9f0705f3f61db9338cb000c8">SpaceStatus</a>
<a name="l01159"></a>01159   <a class="code" href="group__TaskSearch.html#g1d8ad12d06bd072e221676ee00dfa63e">Space::status</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>&amp; pn) {
<a name="l01160"></a>01160     <span class="comment">// Perform propagation and do not continue when failed</span>
<a name="l01161"></a>01161     pn += propagate();
<a name="l01162"></a><a class="code" href="group__TaskSearch.html#g1d8ad12d06bd072e221676ee00dfa63e">01162</a>     <span class="keywordflow">if</span> (<a class="code" href="group__TaskActor.html#g3b1469c80f27246bef9f6de39fc36f2c">failed</a>())
<a name="l01163"></a>01163       <span class="keywordflow">return</span> <a class="code" href="group__TaskSearch.html#gg4c57a00c9f0705f3f61db9338cb000c8a41d7b3e775ec319be1ab3eebbecfe13">SS_FAILED</a>;
<a name="l01164"></a>01164     <span class="comment">/*</span>
<a name="l01165"></a>01165 <span class="comment">     * Find the next branching that has still alternatives left</span>
<a name="l01166"></a>01166 <span class="comment">     *</span>
<a name="l01167"></a>01167 <span class="comment">     * It is important to note that branchings reporting to have no more</span>
<a name="l01168"></a>01168 <span class="comment">     * alternatives left can not be deleted. They can not be deleted</span>
<a name="l01169"></a>01169 <span class="comment">     * as there might be branching descriptions to be used in commit</span>
<a name="l01170"></a>01170 <span class="comment">     * that refer to one of these branchings.</span>
<a name="l01171"></a>01171 <span class="comment">     *</span>
<a name="l01172"></a>01172 <span class="comment">     * A branching reporting that no more alternatives exist will eventually</span>
<a name="l01173"></a>01173 <span class="comment">     * be deleted in commit. It will be deleted if the first branching</span>
<a name="l01174"></a>01174 <span class="comment">     * description is used in commit that does not refer to this branching.</span>
<a name="l01175"></a>01175 <span class="comment">     * As we insist that branching descriptions are used in order of</span>
<a name="l01176"></a>01176 <span class="comment">     * creation, all further branching descriptions cannot refer to this</span>
<a name="l01177"></a>01177 <span class="comment">     * branching.</span>
<a name="l01178"></a>01178 <span class="comment">     *</span>
<a name="l01179"></a>01179 <span class="comment">     */</span>
<a name="l01180"></a>01180     <span class="keywordflow">while</span> (b_status != &amp;a_actors) {
<a name="l01181"></a>01181       <span class="keywordflow">if</span> (b_status-&gt;<a class="code" href="classGecode_1_1Branching.html#2f326890e7df629225c7fa6c8659aaac">status</a>(<span class="keyword">this</span>))
<a name="l01182"></a>01182         <span class="keywordflow">return</span> <a class="code" href="group__TaskSearch.html#gg4c57a00c9f0705f3f61db9338cb000c832880b03da842007fc49605c9631acf5">SS_BRANCH</a>;
<a name="l01183"></a>01183       b_status = static_cast&lt;Branching*&gt;(b_status-&gt;next());
<a name="l01184"></a>01184     }
<a name="l01185"></a>01185     <span class="comment">// No branching with alternatives left, space is solved</span>
<a name="l01186"></a>01186     <span class="keywordflow">return</span> <a class="code" href="group__TaskSearch.html#gg4c57a00c9f0705f3f61db9338cb000c826880c416377db968ed0f6feb0604809">SS_SOLVED</a>;
<a name="l01187"></a>01187   }
<a name="l01188"></a>01188 
<a name="l01189"></a>01189 
<a name="l01190"></a>01190   <span class="comment">/*</span>
<a name="l01191"></a>01191 <span class="comment">   * Variables</span>
<a name="l01192"></a>01192 <span class="comment">   *</span>
<a name="l01193"></a>01193 <span class="comment">   */</span>
<a name="l01194"></a>01194 
<a name="l01195"></a>01195   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01196"></a>01196   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01197"></a>01197   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1Space.html#47c14840d8e15331fa420b9b2f757cd9">Variable</a>(<a class="code" href="classGecode_1_1Space.html">Space</a>*) :
<a name="l01198"></a>01198     _next(<span class="keyword">reinterpret_cast</span>&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(1)) {
<a name="l01199"></a>01199     u.free_me = 0;
<a name="l01200"></a><a class="code" href="classGecode_1_1Variable.html#f75396f04a2e212a4524fd0b54f58033">01200</a>     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=PC+2; i--; )
<a name="l01201"></a>01201       idx[i] = NULL;
<a name="l01202"></a>01202   }
<a name="l01203"></a>01203 
<a name="l01204"></a>01204 
<a name="l01205"></a>01205   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01206"></a>01206   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l01207"></a>01207   Variable&lt;VTI,PC,MED&gt;::degree(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l01208"></a>01208     <span class="keywordflow">return</span> static_cast&lt;unsigned int&gt;(idx[PC+1] - idx[0]);
<a name="l01209"></a>01209   }
<a name="l01210"></a><a class="code" href="classGecode_1_1Variable.html#df185ec77ac1ae7b6a57c9a9f66ecb9d">01210</a> 
<a name="l01211"></a>01211 
<a name="l01212"></a>01212 
<a name="l01213"></a>01213   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01214"></a>01214   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a>
<a name="l01215"></a>01215   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1Variable.html#c9a2f4159f0a45abbe24a0c4fa5891f3">modevent</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> {
<a name="l01216"></a>01216     <span class="keywordflow">return</span> u.free_me &amp; 15;
<a name="l01217"></a>01217   }
<a name="l01218"></a><a class="code" href="classGecode_1_1Variable.html#c9a2f4159f0a45abbe24a0c4fa5891f3">01218</a> 
<a name="l01219"></a>01219   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01220"></a>01220   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01221"></a>01221   Variable&lt;VTI,PC,MED&gt;::modevent(<a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me) {
<a name="l01222"></a>01222     u.free_me = (u.free_me &amp; ~15) | me;
<a name="l01223"></a>01223   }
<a name="l01224"></a><a class="code" href="classGecode_1_1Variable.html#660aa48566e91248929410b297b47275">01224</a>   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01225"></a>01225   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l01226"></a>01226   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">free</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> {
<a name="l01227"></a>01227     <span class="keywordflow">return</span> u.free_me &gt;&gt; 4;
<a name="l01228"></a>01228   }
<a name="l01229"></a>01229 
<a name="l01230"></a>01230   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01231"></a>01231   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01232"></a>01232   <a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">Variable&lt;VTI,PC,MED&gt;::free</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n) {
<a name="l01233"></a>01233     u.free_me = (u.free_me &amp; 15) | (n &lt;&lt; 4);
<a name="l01234"></a>01234   }
<a name="l01235"></a>01235 
<a name="l01236"></a>01236   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01237"></a>01237   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01238"></a>01238   Variable&lt;VTI,PC,MED&gt;::free_inc(<span class="keywordtype">void</span>) {
<a name="l01239"></a>01239     u.free_me += (1 &lt;&lt; 4);
<a name="l01240"></a>01240   }
<a name="l01241"></a>01241 
<a name="l01242"></a>01242   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01243"></a>01243   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01244"></a>01244   Variable&lt;VTI,PC,MED&gt;::free_dec(<span class="keywordtype">void</span>) {
<a name="l01245"></a>01245     u.free_me -= (1 &lt;&lt; 4);
<a name="l01246"></a>01246   }
<a name="l01247"></a>01247 
<a name="l01248"></a>01248   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01249"></a>01249   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">bool</span>
<a name="l01250"></a>01250   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1Variable.html#f775de2f1cd361c48fe227b63a480177">modified</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> {
<a name="l01251"></a>01251     <span class="keywordflow">return</span> _next != reinterpret_cast&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(1);
<a name="l01252"></a>01252   }
<a name="l01253"></a><a class="code" href="classGecode_1_1Variable.html#f775de2f1cd361c48fe227b63a480177">01253</a> 
<a name="l01254"></a>01254 
<a name="l01255"></a>01255 
<a name="l01256"></a>01256   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01257"></a>01257   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> Variable&lt;VTI,PC,MED&gt;*
<a name="l01258"></a>01258   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1Variable.html#d19b4c3292343509846c1d3191c879b9">next</a>(<span class="keywordtype">void</span>) {
<a name="l01259"></a>01259     Variable&lt;VTI,PC,MED&gt;* n = _next;
<a name="l01260"></a>01260     _next = reinterpret_cast&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(1);
<a name="l01261"></a><a class="code" href="classGecode_1_1Variable.html#d19b4c3292343509846c1d3191c879b9">01261</a>     <span class="keywordflow">return</span> n;
<a name="l01262"></a>01262   }
<a name="l01263"></a>01263 
<a name="l01264"></a>01264   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01265"></a>01265   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">bool</span>
<a name="l01266"></a>01266   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1Variable.html#caba1c0aa0ec7a601923ae84fecf1fcc">copied</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span> {
<a name="l01267"></a>01267     <span class="keywordflow">return</span> _next != reinterpret_cast&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(1);
<a name="l01268"></a>01268   }
<a name="l01269"></a><a class="code" href="classGecode_1_1Variable.html#caba1c0aa0ec7a601923ae84fecf1fcc">01269</a> 
<a name="l01270"></a>01270   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01271"></a>01271   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01272"></a>01272   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1Variable.html#f75396f04a2e212a4524fd0b54f58033">Variable</a>(Space* home, <span class="keywordtype">bool</span>, Variable&lt;VTI,PC,MED&gt;&amp; <a class="code" href="namespaceGecode_1_1Int_1_1Arithmetic.html#88f54250e65a3cfd9a4cf9b15780f24b">x</a>)
<a name="l01273"></a>01273     : _next(<span class="keyword">reinterpret_cast</span>&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(1)) {
<a name="l01274"></a>01274     <a class="code" href="classGecode_1_1VarBase.html">VarBase</a>** reg;
<a name="l01275"></a>01275     <span class="keywordflow">if</span> (x.<a class="code" href="classGecode_1_1Variable.html#7e298776a64e88a83b35d920c89dc8e1">idx</a>[0] == NULL) {
<a name="l01276"></a>01276       <span class="comment">// Variable needs no index structure</span>
<a name="l01277"></a>01277       u.free_me = 0;
<a name="l01278"></a>01278       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=PC+2; i--; )
<a name="l01279"></a>01279         idx[i] = NULL;
<a name="l01280"></a>01280       reg = &amp;home-&gt;vars_noidx;
<a name="l01281"></a>01281     } <span class="keywordflow">else</span> {
<a name="l01282"></a>01282       <span class="comment">// Recover original value in copy</span>
<a name="l01283"></a>01283       u.free_me = x.<a class="code" href="classGecode_1_1Variable.html#7b774effe4a349c6dd82ad4f4f21d34c">u</a>.free_me;
<a name="l01284"></a>01284       reg = &amp;home-&gt;vars[VTI];
<a name="l01285"></a>01285     }
<a name="l01286"></a>01286     <span class="comment">// Set forwarding pointer</span>
<a name="l01287"></a>01287     x.<a class="code" href="classGecode_1_1Variable.html#7b774effe4a349c6dd82ad4f4f21d34c">u</a>.fwd = <span class="keyword">this</span>;
<a name="l01288"></a>01288     <span class="comment">// Register original</span>
<a name="l01289"></a>01289     x.<a class="code" href="classGecode_1_1Variable.html#347499bebd2e1fec2e6b542692651191">_next</a> = static_cast&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(*reg); *reg = &amp;x;
<a name="l01290"></a>01290   }
<a name="l01291"></a>01291 
<a name="l01292"></a>01292   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01293"></a>01293   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> Variable&lt;VTI,PC,MED&gt;*
<a name="l01294"></a>01294   Variable&lt;VTI,PC,MED&gt;::forward(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l01295"></a>01295     <span class="keywordflow">return</span> u.fwd;
<a name="l01296"></a>01296   }
<a name="l01297"></a><a class="code" href="classGecode_1_1Variable.html#d67d7709c7bf245a4d11969aa04ecc20">01297</a> 
<a name="l01298"></a>01298   <span class="comment">/*</span>
<a name="l01299"></a>01299 <span class="comment">   * Propagator modification events</span>
<a name="l01300"></a>01300 <span class="comment">   *</span>
<a name="l01301"></a>01301 <span class="comment">   */</span>
<a name="l01302"></a>01302 
<a name="l01303"></a>01303   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01304"></a>01304   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a>
<a name="l01305"></a>01305   Variable&lt;VTI,PC,MED&gt;::pme(<span class="keyword">const</span> <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p) {
<a name="l01306"></a>01306     <span class="keywordflow">return</span> static_cast&lt;ModEvent&gt;((p-&gt;pme &gt;&gt; (VTI &lt;&lt; 2)) &amp; 15);
<a name="l01307"></a>01307   }
<a name="l01308"></a><a class="code" href="classGecode_1_1Variable.html#f3f8c70be2bb84b7bd765edc1fdadb0e">01308</a> 
<a name="l01309"></a>01309   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01310"></a>01310   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a>
<a name="l01311"></a>01311   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1Variable.html#f3f8c70be2bb84b7bd765edc1fdadb0e">pme</a>(<a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me) {
<a name="l01312"></a>01312     <span class="keywordflow">return</span> static_cast&lt;PropModEvent&gt;(me &lt;&lt; (VTI &lt;&lt; 2));
<a name="l01313"></a>01313   }
<a name="l01314"></a><a class="code" href="classGecode_1_1Variable.html#f2708453b3582c1972a531a8206c6e24">01314</a> 
<a name="l01315"></a>01315   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01316"></a>01316   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a>
<a name="l01317"></a>01317   Variable&lt;VTI,PC,MED&gt;::combine(<a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me1, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me2) {
<a name="l01318"></a>01318     MED med;
<a name="l01319"></a>01319     <span class="keywordflow">return</span> me2^med(me1,me2);
<a name="l01320"></a><a class="code" href="classGecode_1_1Variable.html#199b617cb779e225134bdc1b6de88af9">01320</a>   }
<a name="l01321"></a>01321 
<a name="l01322"></a>01322   <span class="comment">/*</span>
<a name="l01323"></a>01323 <span class="comment">   * Propagators</span>
<a name="l01324"></a>01324 <span class="comment">   *</span>
<a name="l01325"></a>01325 <span class="comment">   */</span>
<a name="l01326"></a>01326 
<a name="l01327"></a>01327   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01328"></a>01328   Space::propagator(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p, <span class="keywordtype">bool</span> fd) {
<a name="l01329"></a>01329     <span class="comment">// Propagators are put at the front of the link of actors</span>
<a name="l01330"></a>01330     a_actors.head(p);
<a name="l01331"></a>01331     a_actors.insert_delete(p,fd);
<a name="l01332"></a>01332   }
<a name="l01333"></a>01333 
<a name="l01334"></a>01334   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01335"></a>01335   Space::propagator(Propagator* p) {
<a name="l01336"></a>01336     a_actors.head(p);
<a name="l01337"></a>01337   }
<a name="l01338"></a>01338 
<a name="l01339"></a>01339   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01340"></a>01340   Space::branching(Branching* b, <span class="keywordtype">bool</span> fd) {
<a name="l01341"></a>01341     <span class="comment">// Propagators are put at the tail of the link of actors</span>
<a name="l01342"></a>01342     b-&gt;id = branch_id++;
<a name="l01343"></a>01343     <span class="comment">// If no branching available, make it the first one</span>
<a name="l01344"></a>01344     <span class="keywordflow">if</span> (b_status == &amp;a_actors) {
<a name="l01345"></a>01345       b_status = b;
<a name="l01346"></a>01346       <span class="keywordflow">if</span> (b_commit == &amp;a_actors)
<a name="l01347"></a>01347         b_commit = b;
<a name="l01348"></a>01348     }
<a name="l01349"></a>01349     a_actors.tail(b);
<a name="l01350"></a>01350     a_actors.insert_delete(b,fd);
<a name="l01351"></a>01351   }
<a name="l01352"></a>01352 
<a name="l01353"></a>01353 
<a name="l01354"></a>01354 
<a name="l01355"></a>01355   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01356"></a>01356   <a class="code" href="classGecode_1_1Propagator.html#073ee2f692caed2d41beee81a512f224">Propagator::Propagator</a>(Space* home, <span class="keywordtype">bool</span> fd)
<a name="l01357"></a>01357     : pme(0) {
<a name="l01358"></a>01358     home-&gt;propagator(<span class="keyword">this</span>,fd);
<a name="l01359"></a><a class="code" href="classGecode_1_1Propagator.html#073ee2f692caed2d41beee81a512f224">01359</a>   }
<a name="l01360"></a>01360 
<a name="l01361"></a>01361   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01362"></a>01362   Propagator::Propagator(Space*, <span class="keywordtype">bool</span>, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>&amp;)
<a name="l01363"></a>01363     : pme(0) {}
<a name="l01364"></a>01364 
<a name="l01365"></a><a class="code" href="classGecode_1_1Propagator.html#3e7e07f018ee8ac6b73af7b1a77f9b9a">01365</a> 
<a name="l01366"></a>01366   <span class="comment">/*</span>
<a name="l01367"></a>01367 <span class="comment">   * Branchings</span>
<a name="l01368"></a>01368 <span class="comment">   *</span>
<a name="l01369"></a>01369 <span class="comment">   */</span>
<a name="l01370"></a>01370 
<a name="l01371"></a>01371   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01372"></a>01372   <a class="code" href="classGecode_1_1Branching.html#718ffa7725c6356d51cd28b862ff9fb2">Branching::Branching</a>(Space* home, <span class="keywordtype">bool</span> fd) {
<a name="l01373"></a>01373     home-&gt;branching(<span class="keyword">this</span>,fd);
<a name="l01374"></a>01374   }
<a name="l01375"></a><a class="code" href="classGecode_1_1Branching.html#718ffa7725c6356d51cd28b862ff9fb2">01375</a> 
<a name="l01376"></a>01376   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01377"></a>01377   <a class="code" href="classGecode_1_1Branching.html#718ffa7725c6356d51cd28b862ff9fb2">Branching::Branching</a>(Space*, <span class="keywordtype">bool</span>, <a class="code" href="classGecode_1_1Branching.html">Branching</a>&amp; b)
<a name="l01378"></a>01378     : id(b.id)  {}
<a name="l01379"></a>01379 
<a name="l01380"></a><a class="code" href="classGecode_1_1Branching.html#01d67f5d419675ff985e0eb8183eae6e">01380</a> 
<a name="l01381"></a>01381 
<a name="l01382"></a>01382   <span class="comment">/*</span>
<a name="l01383"></a>01383 <span class="comment">   * Branching descriptions</span>
<a name="l01384"></a>01384 <span class="comment">   *</span>
<a name="l01385"></a>01385 <span class="comment">   */</span>
<a name="l01386"></a>01386 
<a name="l01387"></a>01387   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01388"></a>01388   <a class="code" href="classGecode_1_1BranchingDesc.html#f97809c47cc5fa5ec2213eff6c8afd88">BranchingDesc::BranchingDesc</a>(<span class="keyword">const</span> <a class="code" href="classGecode_1_1Branching.html">Branching</a>* b, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> a)
<a name="l01389"></a>01389     : id(b-&gt;id), alt(a) {}
<a name="l01390"></a>01390 
<a name="l01391"></a><a class="code" href="classGecode_1_1BranchingDesc.html#f97809c47cc5fa5ec2213eff6c8afd88">01391</a>   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>
<a name="l01392"></a>01392   <a class="code" href="classGecode_1_1BranchingDesc.html#9756a1e5bcca7e0b10158c15050afe41">BranchingDesc::alternatives</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{
<a name="l01393"></a>01393     <span class="keywordflow">return</span> alt;
<a name="l01394"></a>01394   }
<a name="l01395"></a><a class="code" href="classGecode_1_1BranchingDesc.html#9756a1e5bcca7e0b10158c15050afe41">01395</a> 
<a name="l01396"></a>01396   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a>
<a name="l01397"></a>01397   <a class="code" href="classGecode_1_1BranchingDesc.html#f558556faf69be0b64513fb3f9720be2">BranchingDesc::~BranchingDesc</a>(<span class="keywordtype">void</span>) {}
<a name="l01398"></a>01398 
<a name="l01399"></a>01399 
<a name="l01400"></a><a class="code" href="classGecode_1_1BranchingDesc.html#f558556faf69be0b64513fb3f9720be2">01400</a> 
<a name="l01401"></a>01401 
<a name="l01402"></a>01402 
<a name="l01403"></a>01403   <span class="comment">/*</span>
<a name="l01404"></a>01404 <span class="comment">   * Propagator pools</span>
<a name="l01405"></a>01405 <span class="comment">   *</span>
<a name="l01406"></a>01406 <span class="comment">   */</span>
<a name="l01407"></a>01407 
<a name="l01408"></a>01408   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01409"></a>01409   Space::pool_put(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p) {
<a name="l01410"></a>01410     <span class="keywordtype">int</span> c = p-&gt;cost();
<a name="l01411"></a>01411     pool[c].tail(p);
<a name="l01412"></a>01412     <span class="keywordflow">if</span> (c &gt; pool_next)
<a name="l01413"></a>01413       pool_next = c;
<a name="l01414"></a>01414   }
<a name="l01415"></a>01415 
<a name="l01416"></a>01416   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01417"></a>01417   <a class="code" href="group__TaskActor.html#g1d04fb15e0689433916635835579c5c3">Space::fail</a>(<span class="keywordtype">void</span>) {
<a name="l01418"></a>01418     b_status = NULL;
<a name="l01419"></a>01419   }
<a name="l01420"></a><a class="code" href="group__TaskActor.html#g1d04fb15e0689433916635835579c5c3">01420</a> 
<a name="l01421"></a>01421   <span class="keyword">template</span> &lt;VarTypeId VTI, <span class="keyword">class</span> MED&gt;
<a name="l01422"></a>01422   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01423"></a>01423   Space::process(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p) {
<a name="l01424"></a>01424     <span class="comment">// The new event is ME_GEN_ASSIGNED</span>
<a name="l01425"></a>01425     <a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> old_pme = p-&gt;pme;
<a name="l01426"></a>01426     <span class="comment">// Compute old modification event</span>
<a name="l01427"></a>01427     <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> old_me = old_pme &amp; (<a class="code" href="group__TaskVarMEPC.html#gc57a16dfea0c407dc4a78cc7ccec771a">ME_GEN_MAX</a> &lt;&lt; (VTI &lt;&lt; 2));
<a name="l01428"></a>01428     <span class="comment">// Check whether old event is already ME_GEN_ASSIGNED</span>
<a name="l01429"></a>01429     <span class="keywordflow">if</span> (old_me == (<a class="code" href="group__TaskVarMEPC.html#g8451dafe874597cb12934fa5cb3adef7">ME_GEN_ASSIGNED</a> &lt;&lt; (VTI &lt;&lt; 2)))
<a name="l01430"></a>01430       <span class="keywordflow">return</span>;
<a name="l01431"></a>01431     <span class="comment">// Update event</span>
<a name="l01432"></a>01432     p-&gt;pme ^= old_me ^ (<a class="code" href="group__TaskVarMEPC.html#g8451dafe874597cb12934fa5cb3adef7">ME_GEN_ASSIGNED</a> &lt;&lt; (VTI &lt;&lt; 2));
<a name="l01433"></a>01433     <span class="comment">// Put propagator into right queue</span>
<a name="l01434"></a>01434     p-&gt;unlink();
<a name="l01435"></a>01435     pool_put(p);
<a name="l01436"></a>01436   }
<a name="l01437"></a>01437 
<a name="l01438"></a>01438   <span class="keyword">template</span> &lt;VarTypeId VTI, <span class="keyword">class</span> MED&gt;
<a name="l01439"></a>01439   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01440"></a>01440   Space::process(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> new_me) {
<a name="l01441"></a>01441     MED med;
<a name="l01442"></a>01442     <a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> old_pme = p-&gt;pme;
<a name="l01443"></a>01443     <span class="comment">// Compute the old modification event</span>
<a name="l01444"></a>01444     <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> old_me = ((old_pme &gt;&gt; (VTI &lt;&lt; 2)) &amp; <a class="code" href="group__TaskVarMEPC.html#gc57a16dfea0c407dc4a78cc7ccec771a">ME_GEN_MAX</a>);
<a name="l01445"></a>01445     <span class="comment">// Get the new modification event (xor-ed with the old one)</span>
<a name="l01446"></a>01446     <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> com_me = med(new_me,old_me);
<a name="l01447"></a>01447     <span class="comment">// Event has not changed, do not nothing</span>
<a name="l01448"></a>01448     <span class="keywordflow">if</span> (com_me == 0)
<a name="l01449"></a>01449       <span class="keywordflow">return</span>;
<a name="l01450"></a>01450     <span class="comment">// Update modification event for propagator (use xor)</span>
<a name="l01451"></a>01451     p-&gt;pme ^= (com_me &lt;&lt; (VTI &lt;&lt; 2));
<a name="l01452"></a>01452     <span class="comment">// Put propagator into right queue</span>
<a name="l01453"></a>01453     p-&gt;unlink();
<a name="l01454"></a>01454     pool_put(p);
<a name="l01455"></a>01455   }
<a name="l01456"></a>01456 
<a name="l01457"></a>01457   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">ExecStatus</a>
<a name="l01458"></a>01458   <a class="code" href="group__TaskActor.html#g8c74380f630fb2de01a83291ef81738c">Propagator::ES_FIX_PARTIAL</a>(<a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> pme) {
<a name="l01459"></a>01459     this-&gt;pme = pme; <span class="keywordflow">return</span> <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac0b6dcfe630e5f6ebddb4a94636ed323c0">__ES_FIX_PARTIAL</a>;
<a name="l01460"></a>01460   }
<a name="l01461"></a><a class="code" href="group__TaskActor.html#g8c74380f630fb2de01a83291ef81738c">01461</a> 
<a name="l01462"></a>01462   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <a class="code" href="group__TaskActor.html#g91f873ffe019e572977feaaad10a1ac0">ExecStatus</a>
<a name="l01463"></a>01463   <a class="code" href="group__TaskActor.html#g5a746f97c2bb6a7c9bd9974931085eff">Propagator::ES_NOFIX_PARTIAL</a>(<a class="code" href="group__TaskActor.html#gc376920fabb8ad83c00cf1cf537c6f25">PropModEvent</a> pme) {
<a name="l01464"></a>01464     this-&gt;pme = pme; <span class="keywordflow">return</span> <a class="code" href="group__TaskActor.html#gg91f873ffe019e572977feaaad10a1ac00666d8806366a0ff5d6355c8ee970a10">__ES_NOFIX_PARTIAL</a>;
<a name="l01465"></a>01465   }
<a name="l01466"></a><a class="code" href="group__TaskActor.html#g5a746f97c2bb6a7c9bd9974931085eff">01466</a> 
<a name="l01467"></a>01467 
<a name="l01468"></a>01468   <span class="comment">/*</span>
<a name="l01469"></a>01469 <span class="comment">   * Subscribing to a variable</span>
<a name="l01470"></a>01470 <span class="comment">   *</span>
<a name="l01471"></a>01471 <span class="comment">   */</span>
<a name="l01472"></a>01472 
<a name="l01473"></a>01473   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01474"></a>01474   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01475"></a>01475   Variable&lt;VTI,PC,MED&gt;::subscribe(Space* home, <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>* p, <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc,
<a name="l01476"></a>01476                                   <span class="keywordtype">bool</span> assigned, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me, <span class="keywordtype">bool</span> process) {
<a name="l01477"></a>01477     <span class="keywordflow">if</span> (assigned) {
<a name="l01478"></a><a class="code" href="classGecode_1_1Variable.html#f1875a7e669c1a95b52808e9bd69b467">01478</a>       <span class="comment">// Do not subscribe, just process the propagator</span>
<a name="l01479"></a>01479       <span class="keywordflow">if</span> (process)
<a name="l01480"></a>01480         home-&gt;process&lt;VTI,MED&gt;(p);
<a name="l01481"></a>01481     } <span class="keywordflow">else</span> {
<a name="l01482"></a>01482       <span class="comment">// Count one new subscription</span>
<a name="l01483"></a>01483       home-&gt;n_sub += 1;
<a name="l01484"></a>01484       if (<a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">free</a>() == 0)
<a name="l01485"></a>01485         resize(home);
<a name="l01486"></a>01486       free_dec();
<a name="l01487"></a>01487       <span class="comment">// Enter propagator</span>
<a name="l01488"></a>01488       --idx[0];
<a name="l01489"></a>01489       <span class="keywordflow">for</span> (<a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> i = 0; i &lt; pc; i++)
<a name="l01490"></a>01490         *(idx[i]) = *(--idx[i+1]);
<a name="l01491"></a>01491       *idx[pc]=p;
<a name="l01492"></a>01492       <span class="comment">// Process propagator</span>
<a name="l01493"></a>01493       <span class="keywordflow">if</span> (process &amp;&amp; (pc != <a class="code" href="group__TaskVarMEPC.html#g63cb0abb62951373c77aa2c78fcabcc8">PC_GEN_ASSIGNED</a>))
<a name="l01494"></a>01494         home-&gt;process&lt;VTI,MED&gt;(p,me);
<a name="l01495"></a>01495     }
<a name="l01496"></a>01496   }
<a name="l01497"></a>01497 
<a name="l01498"></a>01498   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01499"></a>01499   <span class="keywordtype">void</span>
<a name="l01500"></a>01500   Variable&lt;VTI,PC,MED&gt;::resize(Space* home) {
<a name="l01501"></a>01501     assert(<a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">free</a>() == 0);
<a name="l01502"></a>01502     <span class="keywordflow">if</span> (idx[0] == NULL) {
<a name="l01503"></a>01503       <span class="comment">// Count the one new free entry</span>
<a name="l01504"></a>01504       home-&gt;n_sub += 1;
<a name="l01505"></a>01505       <span class="comment">// Create fresh dependency array</span>
<a name="l01506"></a>01506       <a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">free</a>(4);
<a name="l01507"></a>01507       <a class="code" href="classGecode_1_1Propagator.html">Propagator</a>** prop = reinterpret_cast&lt;Propagator**&gt;
<a name="l01508"></a>01508         (home-&gt;alloc(4*<span class="keyword">sizeof</span>(<a class="code" href="classGecode_1_1Propagator.html">Propagator</a>*))) + 4;
<a name="l01509"></a>01509       <span class="keywordflow">for</span> (<a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> i = PC+2; i--; )
<a name="l01510"></a>01510         idx[i] = prop;
<a name="l01511"></a>01511     } else {
<a name="l01512"></a>01512       <span class="comment">// Resize dependency array</span>
<a name="l01513"></a>01513       <span class="keywordtype">int</span> n = static_cast&lt;int&gt;(idx[PC+1] - idx[0]);
<a name="l01514"></a>01514       Propagator** prop = reinterpret_cast&lt;Propagator**&gt;
<a name="l01515"></a>01515         (home-&gt;alloc(2*n*<span class="keyword">sizeof</span>(Propagator*))) + n;
<a name="l01516"></a>01516       <a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">free</a>(n);
<a name="l01517"></a>01517       <span class="comment">// Copy entries</span>
<a name="l01518"></a>01518       memcpy(prop, idx[0], n*<span class="keyword">sizeof</span>(Propagator*));
<a name="l01519"></a>01519       home-&gt;reuse(idx[0], n*<span class="keyword">sizeof</span>(Propagator*));
<a name="l01520"></a>01520       <span class="comment">// Update index pointers</span>
<a name="l01521"></a>01521       ptrdiff_t o = prop - idx[0];
<a name="l01522"></a>01522       idx[0] = prop;
<a name="l01523"></a>01523       <span class="keywordflow">for</span> (<a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> i = PC+1; i &gt; 0; i--)
<a name="l01524"></a>01524         idx[i] += o;
<a name="l01525"></a>01525     }
<a name="l01526"></a>01526   }
<a name="l01527"></a>01527 
<a name="l01528"></a>01528 
<a name="l01529"></a>01529   <span class="comment">/*</span>
<a name="l01530"></a>01530 <span class="comment">   * Cancelling a subscription</span>
<a name="l01531"></a>01531 <span class="comment">   *</span>
<a name="l01532"></a>01532 <span class="comment">   */</span>
<a name="l01533"></a>01533 
<a name="l01534"></a>01534   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01535"></a>01535   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01536"></a>01536   Variable&lt;VTI,PC,MED&gt;::cancel(Space* home, Propagator* p, <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc) {
<a name="l01537"></a>01537     <span class="keywordflow">if</span> (idx[0] != NULL) {
<a name="l01538"></a>01538       Propagator** f = idx[pc];
<a name="l01539"></a><a class="code" href="classGecode_1_1Variable.html#7ea2533d454f950046976ccfa864e3ed">01539</a> <span class="preprocessor">#ifdef GECODE_AUDIT</span>
<a name="l01540"></a>01540 <span class="preprocessor"></span>      <span class="keywordflow">while</span> (f &lt; idx[pc+1])
<a name="l01541"></a>01541         <span class="keywordflow">if</span> (*f == p)
<a name="l01542"></a>01542           <span class="keywordflow">goto</span> found;
<a name="l01543"></a>01543         <span class="keywordflow">else</span>
<a name="l01544"></a>01544           f++;
<a name="l01545"></a>01545       <a class="code" href="macros_8icc.html#273bb1ba8750b79aa78eedeab251cfc4">GECODE_NEVER</a>;
<a name="l01546"></a>01546     found: ;
<a name="l01547"></a>01547 <span class="preprocessor">#else</span>
<a name="l01548"></a>01548 <span class="preprocessor"></span>      <span class="keywordflow">while</span> (*f != p) f++;
<a name="l01549"></a>01549 <span class="preprocessor">#endif</span>
<a name="l01550"></a>01550 <span class="preprocessor"></span>      *f=*idx[pc];
<a name="l01551"></a>01551       <span class="keywordflow">for</span> (<a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> i=pc; i&gt;0; i--)
<a name="l01552"></a>01552         *(idx[i]++)=*(idx[i-1]);
<a name="l01553"></a>01553       idx[0]++;
<a name="l01554"></a>01554       free_inc();
<a name="l01555"></a>01555       home-&gt;n_sub -= 1;
<a name="l01556"></a>01556     }
<a name="l01557"></a>01557   }
<a name="l01558"></a>01558 
<a name="l01559"></a>01559   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01560"></a>01560   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01561"></a>01561   Variable&lt;VTI,PC,MED&gt;::notify(Space* home, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> new_me) {
<a name="l01562"></a>01562     <span class="keywordflow">if</span> (<a class="code" href="classGecode_1_1Variable.html#f775de2f1cd361c48fe227b63a480177">modified</a>()) {
<a name="l01563"></a>01563       MED med;
<a name="l01564"></a><a class="code" href="classGecode_1_1Variable.html#c6d002de6ed72d43af73a82a29c4a761">01564</a>       u.free_me ^= med(new_me,<a class="code" href="classGecode_1_1Variable.html#c9a2f4159f0a45abbe24a0c4fa5891f3">modevent</a>());
<a name="l01565"></a>01565     } <span class="keywordflow">else</span> {
<a name="l01566"></a>01566       _next = static_cast&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(home-&gt;vars[VTI]);
<a name="l01567"></a>01567       home-&gt;vars[VTI] = <span class="keyword">this</span>;
<a name="l01568"></a>01568       <a class="code" href="classGecode_1_1Variable.html#c9a2f4159f0a45abbe24a0c4fa5891f3">modevent</a>(new_me);
<a name="l01569"></a>01569     }
<a name="l01570"></a>01570   }
<a name="l01571"></a>01571 
<a name="l01572"></a>01572   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01573"></a>01573   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01574"></a>01574   Variable&lt;VTI,PC,MED&gt;::notify(Space* home) {
<a name="l01575"></a>01575     assert(!<a class="code" href="classGecode_1_1Variable.html#f775de2f1cd361c48fe227b63a480177">modified</a>());
<a name="l01576"></a>01576     _next = static_cast&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(home-&gt;vars[VTI]);
<a name="l01577"></a><a class="code" href="classGecode_1_1Variable.html#d41942b0c9f89848a985f3cb2b5b2deb">01577</a>     home-&gt;vars[VTI] = <span class="keyword">this</span>;
<a name="l01578"></a>01578     <a class="code" href="classGecode_1_1Variable.html#c9a2f4159f0a45abbe24a0c4fa5891f3">modevent</a>(<a class="code" href="group__TaskVarMEPC.html#g8451dafe874597cb12934fa5cb3adef7">ME_GEN_ASSIGNED</a>);
<a name="l01579"></a>01579   }
<a name="l01580"></a>01580 
<a name="l01581"></a>01581 
<a name="l01582"></a>01582   <span class="comment">/*</span>
<a name="l01583"></a>01583 <span class="comment">   * PROCESSING</span>
<a name="l01584"></a>01584 <span class="comment">   *</span>
<a name="l01585"></a>01585 <span class="comment">   */</span>
<a name="l01586"></a>01586 
<a name="l01587"></a>01587   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01588"></a>01588   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01589"></a>01589   Variable&lt;VTI,PC,MED&gt;::update(Variable&lt;VTI,PC,MED&gt;* x, Propagator**&amp; sub) {
<a name="l01590"></a>01590     <span class="comment">// this refers to the variable to be updated (clone)</span>
<a name="l01591"></a>01591     <span class="comment">// x refers to the original</span>
<a name="l01592"></a>01592     <span class="comment">// Recover from copy (also overwrites forwarding pointer)</span>
<a name="l01593"></a>01593     x-&gt;<a class="code" href="classGecode_1_1Variable.html#7b774effe4a349c6dd82ad4f4f21d34c">u</a>.free_me = u.free_me;
<a name="l01594"></a>01594     Propagator** f = x-&gt;<a class="code" href="classGecode_1_1Variable.html#7e298776a64e88a83b35d920c89dc8e1">idx</a>[0];
<a name="l01595"></a>01595     <span class="keywordtype">int</span> n = static_cast&lt;int&gt;(x-&gt;<a class="code" href="classGecode_1_1Variable.html#7e298776a64e88a83b35d920c89dc8e1">idx</a>[PC+1] - f);
<a name="l01596"></a>01596     u.free_me = 1 &lt;&lt; 4;
<a name="l01597"></a>01597     Propagator** t = sub + 1;
<a name="l01598"></a>01598     sub += n+1;
<a name="l01599"></a>01599     idx[0] = t;
<a name="l01600"></a>01600     ptrdiff_t o = t - f;
<a name="l01601"></a>01601     for (<a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> i = PC+1; i&gt;0; i--)
<a name="l01602"></a>01602       idx[i] = x-&gt;<a class="code" href="classGecode_1_1Variable.html#7e298776a64e88a83b35d920c89dc8e1">idx</a>[i]+o;
<a name="l01603"></a>01603     <span class="keywordflow">while</span> ((n-4) &gt;= 0) {
<a name="l01604"></a>01604       n -= 4;
<a name="l01605"></a>01605       t[0] = static_cast&lt;Propagator*&gt;(f[0]-&gt;prev());;
<a name="l01606"></a>01606       t[1] = static_cast&lt;Propagator*&gt;(f[1]-&gt;prev());;
<a name="l01607"></a>01607       t[2] = static_cast&lt;Propagator*&gt;(f[2]-&gt;prev());;
<a name="l01608"></a>01608       t[3] = static_cast&lt;Propagator*&gt;(f[3]-&gt;prev());;
<a name="l01609"></a>01609       t += 4; f += 4;
<a name="l01610"></a>01610     }
<a name="l01611"></a>01611     <span class="keywordflow">if</span> ((n-2) &gt;= 0) {
<a name="l01612"></a>01612       n -= 2;
<a name="l01613"></a>01613       t[0] = static_cast&lt;Propagator*&gt;(f[0]-&gt;prev());;
<a name="l01614"></a>01614       t[1] = static_cast&lt;Propagator*&gt;(f[1]-&gt;prev());;
<a name="l01615"></a>01615       t += 2; f += 2;
<a name="l01616"></a>01616     }
<a name="l01617"></a>01617     <span class="keywordflow">if</span> (n &gt; 0) {
<a name="l01618"></a>01618       t[0] = static_cast&lt;Propagator*&gt;(f[0]-&gt;prev());;
<a name="l01619"></a>01619     }
<a name="l01620"></a>01620   }
<a name="l01621"></a>01621 
<a name="l01622"></a>01622   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01623"></a>01623   <a class="code" href="classGecode_1_1Variable.html#8d726e457d54cd2f0abfcff86800b2b6">VarTypeProcessor&lt;VTI,PC,MED&gt;</a>::VarTypeProcessor(<span class="keywordtype">void</span>) {
<a name="l01624"></a>01624     Space::vtp[VTI] = <span class="keyword">this</span>;
<a name="l01625"></a>01625   }
<a name="l01626"></a><a class="code" href="classGecode_1_1VarTypeProcessor.html#0b249d12b07a2cc7b1cd8b78f9004d70">01626</a> 
<a name="l01627"></a>01627   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01628"></a>01628   <span class="keywordtype">void</span>
<a name="l01629"></a>01629   VarTypeProcessor&lt;VTI,PC,MED&gt;::update(<a class="code" href="classGecode_1_1VarBase.html">VarBase</a>* vb, Propagator**&amp; sub) {
<a name="l01630"></a>01630     Variable&lt;VTI,PC,MED&gt;* x = static_cast&lt;Variable&lt;VTI,PC,MED&gt;*&gt;(vb);
<a name="l01631"></a>01631     <span class="keywordflow">do</span> {
<a name="l01632"></a><a class="code" href="classGecode_1_1VarTypeProcessor.html#b6a42f852eba68e0e7b8854380a3560b">01632</a>       x-&gt;<a class="code" href="classGecode_1_1Variable.html#d67d7709c7bf245a4d11969aa04ecc20">forward</a>()-&gt;<a class="code" href="classGecode_1_1Variable.html#b8acb2cd3619373f367156c79a2a480c">update</a>(x,sub); x = x-&gt;<a class="code" href="classGecode_1_1Variable.html#d19b4c3292343509846c1d3191c879b9">next</a>();
<a name="l01633"></a>01633     } <span class="keywordflow">while</span> (x != NULL);
<a name="l01634"></a>01634   }
<a name="l01635"></a>01635 
<a name="l01636"></a>01636   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01637"></a>01637   <span class="keywordtype">void</span>
<a name="l01638"></a>01638   VarTypeProcessor&lt;VTI,PC,MED&gt;::dispose(Space* home, VarBase* x) {}
<a name="l01639"></a>01639 
<a name="l01640"></a>01640   <span class="comment">/*</span>
<a name="l01641"></a><a class="code" href="classGecode_1_1VarTypeProcessor.html#0e2d8be6952508562a486b74719b58a7">01641</a> <span class="comment">   * Processing a single modified variable</span>
<a name="l01642"></a>01642 <span class="comment">   *</span>
<a name="l01643"></a>01643 <span class="comment">   */</span>
<a name="l01644"></a>01644   <span class="keyword">template</span> &lt;VarTypeId VTI, PropCond PC, <span class="keyword">class</span> MED&gt;
<a name="l01645"></a>01645   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01646"></a>01646   Variable&lt;VTI,PC,MED&gt;::process(Space* home,
<a name="l01647"></a>01647                                 <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc1, <a class="code" href="group__TaskVarMEPC.html#g65a6ffeb62c1fb1dbc15b1f7f00ea17a">PropCond</a> pc2, <a class="code" href="group__TaskVarMEPC.html#gf78dd51aaed6720edc7a2fb5526b94af">ModEvent</a> me) {
<a name="l01648"></a>01648     Propagator** b = idx[pc1];
<a name="l01649"></a><a class="code" href="classGecode_1_1Variable.html#6c062bdd08a39f4d4547a4863f4eb308">01649</a>     Propagator** p = idx[pc2+1];
<a name="l01650"></a>01650     <span class="keywordflow">while</span> (p-- &gt; b)
<a name="l01651"></a>01651       home-&gt;process&lt;VTI,MED&gt;(*p,me);
<a name="l01652"></a>01652   }
<a name="l01653"></a>01653 
<a name="l01654"></a>01654   template &lt;VarTypeId VTI, PropCond PC, class MED&gt;
<a name="l01655"></a>01655   <a class="code" href="config_8icc.html#4d7f586ddca2f6a9155ccfc134fdd0fc">forceinline</a> <span class="keywordtype">void</span>
<a name="l01656"></a>01656   Variable&lt;VTI,PC,MED&gt;::<a class="code" href="classGecode_1_1VarTypeProcessorBase.html#c60f2b0d0f52da7796e49d10d1778d9c">process</a>(Space* home) {
<a name="l01657"></a>01657     <span class="comment">// Entries in index structure are disabled. However they</span>
<a name="l01658"></a>01658     <span class="comment">// must still work for cloning (idx[0]) and degree (idx[PC+1])</span>
<a name="l01659"></a><a class="code" href="classGecode_1_1Variable.html#3bd4e7271c18cfa47037de74eac64cbe">01659</a>     Propagator** b = idx[0];    idx[0] = NULL;
<a name="l01660"></a>01660     Propagator** p = idx[PC+1]; idx[PC+1] = NULL;
<a name="l01661"></a>01661     <span class="comment">/*</span>
<a name="l01662"></a>01662 <span class="comment">     * Decrement for p-b subscriptions</span>
<a name="l01663"></a>01663 <span class="comment">     *</span>
<a name="l01664"></a>01664 <span class="comment">     * Note that one would like to also decrement for the additional</span>
<a name="l01665"></a>01665 <span class="comment">     * single free slot that was counted initially. However, this</span>
<a name="l01666"></a>01666 <span class="comment">     * is not possible as there might be no free slot. So the number</span>
<a name="l01667"></a>01667 <span class="comment">     * of subscriptions is a conservative estimate and will be corrected</span>
<a name="l01668"></a>01668 <span class="comment">     * upon cloning.</span>
<a name="l01669"></a>01669 <span class="comment">     */</span>
<a name="l01670"></a>01670     home-&gt;n_sub -= p-b;
<a name="l01671"></a>01671     <span class="comment">// Information needed to release the dependency array</span>
<a name="l01672"></a>01672     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n = <a class="code" href="group__FuncMemHeap.html#gcbbdc8e9371d6fc569c45f0a68c2c4c9">free</a>() + (p-b);
<a name="l01673"></a>01673     Propagator** s = p-n;
<a name="l01674"></a>01674     <span class="keywordflow">while</span> (p-- &gt; b)
<a name="l01675"></a>01675       home-&gt;process&lt;VTI,MED&gt;(*p);
<a name="l01676"></a>01676     home-&gt;reuse(s,n*<span class="keyword">sizeof</span>(Propagator*));
<a name="l01677"></a>01677   }
<a name="l01678"></a>01678 
<a name="l01679"></a>01679 }
<a name="l01680"></a>01680 
<a name="l01681"></a>01681 <span class="comment">// STATISTICS: kernel-core</span>
</pre></div></div></div>
</body>
</html>
