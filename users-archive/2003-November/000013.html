<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Gecode] Static post methods again...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5BGecode%5D%20Static%20post%20methods%20again...&In-Reply-To=%3C3FBC8D23.7070905%40ps.uni-sb.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000011.html">
   <LINK REL="Next"  HREF="000012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gecode] Static post methods again...</H1>
    <B>Gabor Szokoli</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5BGecode%5D%20Static%20post%20methods%20again...&In-Reply-To=%3C3FBC8D23.7070905%40ps.uni-sb.de%3E"
       TITLE="[Gecode] Static post methods again...">szokoli at ps.uni-sb.de
       </A><BR>
    <I>Thu Nov 20 10:45:07 CET 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000011.html">[Gecode] Static post methods again...
</A></li>
        <LI>Next message: <A HREF="000012.html">[Gecode] gecode/Mercury/HAL interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13">[ date ]</a>
              <a href="thread.html#13">[ thread ]</a>
              <a href="subject.html#13">[ subject ]</a>
              <a href="author.html#13">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello! A weeks traffic just arrived :-/

Christian Schulte wrote:

&gt;<i>Dear all,
</I>&gt;<i>
</I>&gt;<i>I am not yet convinced that the introduction for static post method for each
</I>&gt;<i>class really makes sense: in many cases the simplification of propagators
</I>&gt;<i>according to certain variable domains will be done anyway upon first
</I>&gt;<i>invocation of the propagator.
</I>&gt;<i>
</I>I'm not sure myself sometimes...
The justification was this:
1,
Propagators have to take advantage of variable equality among parameters 
in a one-shot, posting time manner, because variables can not be unified 
and it is a waste to check for this in the propagate method. It is often 
possible to use a simpler propagator with less arguments based on the 
equality information.
Possible places to put this logic:
-Constructor (dunno, why not?)
-API function in post.cc (Christian was against calling those from 
propagate methods for self-replacement)
-something in between (static void post)

2, If an inline static void  post does nothing just instantiates the 
propagator, it'll be optimised away by the compiler.

3, If there is a well-defined point to put the var_same based smartness, 
that increases the chances of it being actually implemented :-)

&gt;<i> So putting this decision making again in the
</I>&gt;<i>post method will lead to a code blowup while it is not likely that
</I>&gt;<i>performance will noticable imptove (it might decrease do to increasing code
</I>&gt;<i>size).
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Probably no performace gain for well-crafted examples, but real life 
users sometimes formulate problems in some fsckd up ways :-)

&gt;<i>So I suggest that while this is not yet clear we refrain from adding this
</I>&gt;<i>stuff without feeling a clear necessitiy to do so.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Acknoledged. Too bad I added a dozen since you wrote this. Was the list 
server down, or is it just me who got everything late?


I'll look at the issues you mention in your previous mail.


Gabor Szokoli


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000011.html">[Gecode] Static post methods again...
</A></li>
	<LI>Next message: <A HREF="000012.html">[Gecode] gecode/Mercury/HAL interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13">[ date ]</a>
              <a href="thread.html#13">[ thread ]</a>
              <a href="subject.html#13">[ subject ]</a>
              <a href="author.html#13">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
