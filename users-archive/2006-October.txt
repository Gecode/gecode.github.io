From tack at ps.uni-sb.de  Sun Oct  1 16:49:23 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sun, 1 Oct 2006 16:49:23 +0200
Subject: [gecode-users] Compiling Gecode/J 1.0.0 on Windows
In-Reply-To: <451E9641.3090006@coli.uni-sb.de>
References: <451E9641.3090006@coli.uni-sb.de>
Message-ID: <6F781DC6-A2BF-4BD4-BB6E-0519C5570FE8@ps.uni-sb.de>

Hi Alexander.

> I just had some trouble compiling Gecode/J 1.0.0 under Windows, and I
> thought I'd share my experiences. I'm using the free MS Visual C++
> compiler (although it might an older version; this is 13.10.3077),
> Cygwin, and the binary distribution of Gecode 1.3.0.
>
> When I ran "configure", it complained that it couldn't find the  
> packages
> gecode, gecode-search, and gecode-minimodel. I didn't know how to use
> the PKG_CONFIG_PATH variable, so I tried to go for setting the
> Gecode_LIBS and Gecode_CFLAGS variables.

Sorry, the compilation instructions in the documentation were  
incomplete. I've updated them now, the changes will be included in  
Gecode/J 1.0.1, which will be released soon.

The intended way to compile Gecode/J is to use pkg-config. I have  
changed the docs to explicitly say that you must have pkg-config  
installed. Unfortunately, the binary packages for Gecode don't  
contain the pkg-config files, and as those files refer to some  
absolute path, this is tricky to add. I'll try to come up with a more  
convenient solution than what you found out.

So, for the moment, you can only install Gecode/J if you have  
compiled Gecode yourself and set the PKG_CONFIG_PATH accordingly. But  
stay tuned... With the next release, we will provide binary packages.

Cheers,
	Guido



From schulte at imit.kth.se  Mon Oct  2 11:48:35 2006
From: schulte at imit.kth.se (Christian Schulte)
Date: Mon, 2 Oct 2006 11:48:35 +0200
Subject: [gecode-users] building 1.3.0 on WinXp with Bloodshed Dev-C++
In-Reply-To: <20060928184539.k7fbk3y7ks4o4gkw@webmail.polimi.it>
Message-ID: <001501c6e607$edd49790$acd4ed82@beule>

Dear Andrea,

did you run configure before compiling? Did you use the Makefile? In
principle it should work as Bloodshed uses the mingw of gcc.

Christian

--
Christian Schulte, http://www.imit.kth.se/~schulte/ 

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of andrea.brambilla at polimi.it
Sent: Thursday, September 28, 2006 6:46 PM
To: users at gecode.org
Subject: [gecode-users] building 1.3.0 on WinXp with Bloodshed Dev-C++


Hi!
This is the first time I've tried to build gecode. My set-up is  
version 1.3.0 on WinXP with cygwin and Bloodshed Dev-C++.
In the source file .cpp I included "kernel.hh".
"kernel.hh" includes "memory.icc".
In "memory.icc" there is the following line:

> forceinline void*

Output reports: 'expected constructor, destructor or type conversion  
before void'  referred to the line above
Thanks
Andrea



_______________________________________________
Gecode users mailing list
users at gecode.org https://www.gecode.org/mailman/listinfo/gecode-users




From schulte at imit.kth.se  Mon Oct  2 11:54:34 2006
From: schulte at imit.kth.se (Christian Schulte)
Date: Mon, 2 Oct 2006 11:54:34 +0200
Subject: [gecode-users] Optimization in GECODE
In-Reply-To: <130.194.72.94.1159408657@my.monash.edu.au>
Message-ID: <001c01c6e608$c408dd80$acd4ed82@beule>

Hi,

I am sorry but I have to admit that I do not understand your question. Could
you please try to rephrase?

Thanks
Christian

--
Christian Schulte, http://www.imit.kth.se/~schulte/ 

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Dhananjay Thiruvady
Sent: Thursday, September 28, 2006 4:06 AM
To: users at gecode.org
Subject: [gecode-users] Optimization in GECODE


Hi all,

I'm implementing a scheduling problem with start (s), duration (d), end(e),
setup times, for n jobs. I would like to find the minimum scheduling time
from s[0] to s[n-1] and e[0] to e[n-1]. I have set it up such that e[n-1]
contains the largest time point and I have attempted BAB with constrain to
minimize e[n-1]. I realize that this only attempts different values for
e[n-1] and does not try different branchings for the s and e variables. How
can I do this, i.e., try different branchings to find a minimum?

Regards,

Dhananjay

_______________________________________________
Gecode users mailing list
users at gecode.org https://www.gecode.org/mailman/listinfo/gecode-users




From tack at ps.uni-sb.de  Mon Oct  2 11:56:42 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Mon, 2 Oct 2006 11:56:42 +0200
Subject: [gecode-users] Bug in Utool/J, IntVar.toString?
In-Reply-To: <451E9AD4.9020703@cs.columbia.edu>
References: <451E9AD4.9020703@cs.columbia.edu>
Message-ID: <C5D39566-D7B1-4FDF-A3A3-F97A61C399ED@ps.uni-sb.de>

Hi.

> also when I run the "Money" and "MagicSquare" examples in the Utool/J
> 1.0.0 distribution, the Explorer runs fine and displays a green leaf.
> But when I double-click on the green leaf to display the solution,  
> Java
> crashes because of an EXCEPTION_ACCESS_VIOLATION in the C++ library.

Hm, I can't reproduce that here. Maybe it's because you're using the  
binary distribution of Gecode, but I really can't see what goes wrong.

Cheers,
	Guido

-- 
Guido Tack
Programming Systems Lab, Saarland University, Germany
http://www.ps.uni-sb.de/~tack






From tack at ps.uni-sb.de  Mon Oct  2 11:59:02 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Mon, 2 Oct 2006 11:59:02 +0200
Subject: [gecode-users] Optimization in GECODE
In-Reply-To: <130.194.72.94.1159408657@my.monash.edu.au>
References: <130.194.72.94.1159408657@my.monash.edu.au>
Message-ID: <125ED0DD-3C97-4F71-A112-41FA6787B5CE@ps.uni-sb.de>

Hi.

> I'm implementing a scheduling problem with start (s), duration (d),  
> end(e), setup times, for n jobs. I would like to find the minimum  
> scheduling time from s[0] to s[n-1] and e[0] to e[n-1]. I have set  
> it up such that e[n-1] contains the largest time point and I have  
> attempted BAB with constrain to minimize e[n-1]. I realize that  
> this only attempts different values for e[n-1] and does not try  
> different branchings for the s and e variables. How can I do this,  
> i.e., try different branchings to find a minimum?

Do you use a branching in your problem script? The Gecode search  
engines do not automatically instantiate variables, you must have a  
call to "branch" in order to set up the variable and value selection  
strategy. Also, you have to make sure that the branching instantiates  
all variables which are not necessarlily instantiated through  
propagation.

Cheers,
	Guido

-- 
Guido Tack
Programming Systems Lab, Saarland University, Germany
http://www.ps.uni-sb.de/~tack






From Stephane.Zampelli at info.ucl.ac.be  Mon Oct  2 13:44:32 2006
From: Stephane.Zampelli at info.ucl.ac.be (Zampelli Stephane)
Date: Mon, 02 Oct 2006 13:44:32 +0200
Subject: [gecode-users] Graphical java search under c++.
Message-ID: <4520FBA0.3050800@info.ucl.ac.be>

Hello,

One question : is it possible to use the graphical search from GecodeJ 
inside a C++ gecode script ?

Thanks,

St?phane.

-- 
Zampelli St?phane
PhD Student
D?partement d'Ing?nierie Informatique,
Universit? Catholique de Louvain
R?aumur a.337.30
2, place Sainte Barbe
B-1348 Louvain-la-Neuve
tel: +32 10 47.91.02
Homepage : http://www.info.ucl.ac.be/~sz/ 




From tack at ps.uni-sb.de  Mon Oct  2 14:41:38 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Mon, 2 Oct 2006 14:41:38 +0200
Subject: [gecode-users] Graphical java search under c++.
In-Reply-To: <4520FBA0.3050800@info.ucl.ac.be>
References: <4520FBA0.3050800@info.ucl.ac.be>
Message-ID: <7DE22C78-8C70-4AC1-9DC3-3F177844D229@ps.uni-sb.de>

Hi St?phane.

> One question : is it possible to use the graphical search from  
> GecodeJ inside a C++ gecode script ?

I've had a wrapper in that direction working, but only under Linux. I  
certainly won't work under Mac OS, and I've never tried hard to make  
it work under Windows. It was a bit difficult to set up, too... If  
you want, I can dig out the sources.

Depending on what exactly you need, help might be on the way ;-) I'm  
hacking together a simplistic visualization, probably without too  
many interactive features at the beginning. And you could ask  
Gr?goire to finish his Python explorer, because that should be a lot  
easier to call from C++.

Cheers,
	Guido

-- 
Guido Tack
Programming Systems Lab, Saarland University, Germany
http://www.ps.uni-sb.de/~tack






From Stephane.Zampelli at info.ucl.ac.be  Mon Oct  2 14:50:49 2006
From: Stephane.Zampelli at info.ucl.ac.be (Zampelli Stephane)
Date: Mon, 02 Oct 2006 14:50:49 +0200
Subject: [gecode-users] Graphical java search under c++.
In-Reply-To: <7DE22C78-8C70-4AC1-9DC3-3F177844D229@ps.uni-sb.de>
References: <4520FBA0.3050800@info.ucl.ac.be>
	<7DE22C78-8C70-4AC1-9DC3-3F177844D229@ps.uni-sb.de>
Message-ID: <45210B29.4000704@info.ucl.ac.be>

Guido Tack wrote:

> Hi St?phane.
>
>> One question : is it possible to use the graphical search from  
>> GecodeJ inside a C++ gecode script ?
>
>
> I've had a wrapper in that direction working, but only under Linux. I  
> certainly won't work under Mac OS, and I've never tried hard to make  
> it work under Windows. It was a bit difficult to set up, too... If  
> you want, I can dig out the sources.

Actually I do not care about portability for now. All I want is a 
research tool to track propagation and displays the state of my graphs 
in C++. I am working under linux so this is fine. Please let me know if 
you can send me the sources.

>
> Depending on what exactly you need, help might be on the way ;-) I'm  
> hacking together a simplistic visualization, probably without too  
> many interactive features at the beginning. And you could ask  
> Gr?goire to finish his Python explorer, because that should be a lot  
> easier to call from C++.

Sure, using Gr?goire's python explorer would be nice, but it is still 
young, and I need graph variables (not yet available in python gecode).

>
> Cheers,
>     Guido
>
Cheers,

St?phane.

-- 
Zampelli St?phane
PhD Student
D?partement d'Ing?nierie Informatique,
Universit? Catholique de Louvain
R?aumur a.337.30
2, place Sainte Barbe
B-1348 Louvain-la-Neuve
tel: +32 10 47.91.02
Homepage : http://www.info.ucl.ac.be/~sz/ 




From tack at ps.uni-sb.de  Mon Oct  2 15:21:44 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Mon, 2 Oct 2006 15:21:44 +0200
Subject: [gecode-users] Graphical java search under c++.
In-Reply-To: <45210B29.4000704@info.ucl.ac.be>
References: <4520FBA0.3050800@info.ucl.ac.be>
	<7DE22C78-8C70-4AC1-9DC3-3F177844D229@ps.uni-sb.de>
	<45210B29.4000704@info.ucl.ac.be>
Message-ID: <E06AA8D8-25E8-4BF3-85FE-45D48EA198F2@ps.uni-sb.de>

Hi St?phane.

> Actually I do not care about portability for now. All I want is a  
> research tool to track propagation and displays the state of my  
> graphs in C++. I am working under linux so this is fine. Please let  
> me know if you can send me the sources.

Sure, no problem. You find them attached to this email. I have not  
tried them in a while, and I do not remember exactly how to compile  
them. Using them is easy: instead of inheriting from Space, you must  
inherit from GecodeSpace (from the Gecode/J sources). The you just  
create an object of type Explorer and give it your root space - this  
should display the Java explorer.

It is very well possible that the version I'm sending you is not  
compatible with the latest version of Gecode and Gecode/J, please try  
it out. To compile, you will need the path to your JDK, and you will  
need to link against some Java libraries (I don't know exactly which,  
probably libjvm.so).

If you can get it to work, please let me know.

Cheers,
	Guido

-------------- next part --------------
A non-text attachment was scrubbed...
Name: explorer.cxx
Type: application/octet-stream
Size: 3452 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061002/8c72f27c/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: explorer.hh
Type: application/octet-stream
Size: 649 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061002/8c72f27c/attachment-0001.obj>
-------------- next part --------------

-- 
Guido Tack
Programming Systems Lab, Saarland University, Germany
http://www.ps.uni-sb.de/~tack




From Stephane.Zampelli at info.ucl.ac.be  Mon Oct  2 16:20:52 2006
From: Stephane.Zampelli at info.ucl.ac.be (Zampelli Stephane)
Date: Mon, 02 Oct 2006 16:20:52 +0200
Subject: [gecode-users] Graphical java search under c++.
In-Reply-To: <E06AA8D8-25E8-4BF3-85FE-45D48EA198F2@ps.uni-sb.de>
References: <4520FBA0.3050800@info.ucl.ac.be>	<7DE22C78-8C70-4AC1-9DC3-3F177844D229@ps.uni-sb.de>	<45210B29.4000704@info.ucl.ac.be>
	<E06AA8D8-25E8-4BF3-85FE-45D48EA198F2@ps.uni-sb.de>
Message-ID: <45212044.3040203@info.ucl.ac.be>

Hi Guido,

Thanks a lot, I will have a try very soon and will let you know.

St?phane.

Guido Tack wrote:

> Hi St?phane.
>
>> Actually I do not care about portability for now. All I want is a  
>> research tool to track propagation and displays the state of my  
>> graphs in C++. I am working under linux so this is fine. Please let  
>> me know if you can send me the sources.
>
>
> Sure, no problem. You find them attached to this email. I have not  
> tried them in a while, and I do not remember exactly how to compile  
> them. Using them is easy: instead of inheriting from Space, you must  
> inherit from GecodeSpace (from the Gecode/J sources). The you just  
> create an object of type Explorer and give it your root space - this  
> should display the Java explorer.
>
> It is very well possible that the version I'm sending you is not  
> compatible with the latest version of Gecode and Gecode/J, please try  
> it out. To compile, you will need the path to your JDK, and you will  
> need to link against some Java libraries (I don't know exactly which,  
> probably libjvm.so).
>
> If you can get it to work, please let me know.
>
> Cheers,
>     Guido
>
>
>------------------------------------------------------------------------
>
>_______________________________________________
>Gecode users mailing list
>users at gecode.org
>https://www.gecode.org/mailman/listinfo/gecode-users
>  
>


-- 
Zampelli St?phane
PhD Student
D?partement d'Ing?nierie Informatique,
Universit? Catholique de Louvain
R?aumur a.337.30
2, place Sainte Barbe
B-1348 Louvain-la-Neuve
tel: +32 10 47.91.02
Homepage : http://www.info.ucl.ac.be/~sz/ 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061002/37c9f20c/attachment.htm>

From Stephane.Zampelli at info.ucl.ac.be  Tue Oct  3 16:24:35 2006
From: Stephane.Zampelli at info.ucl.ac.be (Zampelli Stephane)
Date: Tue, 03 Oct 2006 16:24:35 +0200
Subject: [gecode-users] Compilation problem with GecodeJ 1.0.0 (debian linux)
Message-ID: <452272A3.3000706@info.ucl.ac.be>

Hi,

I have the following error when executing an example with GecodeJ :

GecodeJ/release-1.0.0/$ java -Djava.library.path=. examples.Queens
Gecode native code library failed to load.
java.lang.UnsatisfiedLinkError: 
/home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
/home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
undefined symbol: _ZTIN6Gecode6Search10MemoryStopE

I successfully compiled Gecode release-1.3.0 and GecodeJ release-1.0.0.

Thanks you for your help.

St?phane.

-- 
Zampelli St?phane
PhD Student
D?partement d'Ing?nierie Informatique,
Universit? Catholique de Louvain
R?aumur a.337.30
2, place Sainte Barbe
B-1348 Louvain-la-Neuve
tel: +32 10 47.91.02
Homepage : http://www.info.ucl.ac.be/~sz/ 




From zayenz at gmail.com  Tue Oct  3 16:42:47 2006
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Tue, 3 Oct 2006 16:42:47 +0200
Subject: [gecode-users] Compilation problem with GecodeJ 1.0.0 (debian linux)
In-Reply-To: <63b5c8b00610030742yb26fb36q47e9d22b5d293be5@mail.gmail.com>
References: <452272A3.3000706@info.ucl.ac.be>
	<63b5c8b00610030742yb26fb36q47e9d22b5d293be5@mail.gmail.com>
Message-ID: <63b5c8b00610030742p7f15b4efxe8097adda7f2f048@mail.gmail.com>

On 10/3/06, Zampelli Stephane <Stephane.Zampelli at info.ucl.ac.be> wrote:
> I have the following error when executing an example with GecodeJ :
>
> GecodeJ/release-1.0.0/$ java -Djava.library.path=. examples.Queens
> Gecode native code library failed to load.
> java.lang.UnsatisfiedLinkError:
> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so:
> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so:
> undefined symbol: _ZTIN6Gecode6Search10MemoryStopE
>
> I successfully compiled Gecode release-1.3.0 and GecodeJ release-1.0.0.

This (most probably) means that the Gecode library was compiled
without RTTI information, which is needed for the Gecode/J-bindings to
work.

To fix this, reconfigure Gecode with --disable-gcc-visibility and the recompile.

Hope this helps,
Mikael

--
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/


-- 
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/



From Stephane.Zampelli at info.ucl.ac.be  Tue Oct  3 17:38:59 2006
From: Stephane.Zampelli at info.ucl.ac.be (Zampelli Stephane)
Date: Tue, 03 Oct 2006 17:38:59 +0200
Subject: [gecode-users] Compilation problem with GecodeJ 1.0.0 (debian
	linux)
In-Reply-To: <63b5c8b00610030742yb26fb36q47e9d22b5d293be5@mail.gmail.com>
References: <452272A3.3000706@info.ucl.ac.be>
	<63b5c8b00610030742yb26fb36q47e9d22b5d293be5@mail.gmail.com>
Message-ID: <45228413.6010904@info.ucl.ac.be>

Hi Mikael,

Unfortunatly it is no working. I recompiled from scratch Gecode 1.3.0 
with '--disable-gcc-visibility' and recompiled from scratch GecodeJ 
release 1.0.0.

In fact the option '--disable-gcc-visibility' is useless since this is 
the default.

Any other idea ?

Cheers,

St?phane.


Mikael Zayenz Lagerkvist wrote:

> On 10/3/06, Zampelli Stephane <Stephane.Zampelli at info.ucl.ac.be> wrote:
>
>> I have the following error when executing an example with GecodeJ :
>>
>> GecodeJ/release-1.0.0/$ java -Djava.library.path=. examples.Queens
>> Gecode native code library failed to load.
>> java.lang.UnsatisfiedLinkError:
>> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
>>
>> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
>>
>> undefined symbol: _ZTIN6Gecode6Search10MemoryStopE
>>
>> I successfully compiled Gecode release-1.3.0 and GecodeJ release-1.0.0.
>
>
> This (most probably) means that the Gecode library was compiled
> without RTTI information, which is needed for the Gecode/J-bindings to
> work.
>
> To fix this, reconfigure Gecode with --disable-gcc-visibility and the 
> recompile.
>
> Hope this helps,
> Mikael
>


-- 
Zampelli St?phane
PhD Student
D?partement d'Ing?nierie Informatique,
Universit? Catholique de Louvain
R?aumur a.337.30
2, place Sainte Barbe
B-1348 Louvain-la-Neuve
tel: +32 10 47.91.02
Homepage : http://www.info.ucl.ac.be/~sz/ 




From jeremie.vautard at laposte.net  Wed Oct  4 14:08:56 2006
From: jeremie.vautard at laposte.net (=?ISO-8859-1?Q?J=E9r=E9mie_Vautard?=)
Date: Wed, 04 Oct 2006 14:08:56 +0200
Subject: [gecode-users] Cumulative constraint propagation
Message-ID: <4523A458.3070006@laposte.net>

Hi !

I saw that the cumulative constraint in Gecode only supports value 
consistency. But does it means that this constraint performs no 
propagation at all and simply checks a total assignment or is there 
still some propagation when only a few variables get instanciated ?


Cheers,

Jeremie Vautard



From zayenz at gmail.com  Wed Oct  4 16:26:45 2006
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Wed, 4 Oct 2006 16:26:45 +0200
Subject: [gecode-users] Cumulative constraint propagation
In-Reply-To: <4523A458.3070006@laposte.net>
References: <4523A458.3070006@laposte.net>
Message-ID: <63b5c8b00610040726l6e93bccdud40fc1489a8152d1@mail.gmail.com>

Hi,

On 10/4/06, J?r?mie Vautard <jeremie.vautard at laposte.net> wrote:
> I saw that the cumulative constraint in Gecode only supports value
> consistency. But does it means that this constraint performs no
> propagation at all and simply checks a total assignment or is there
> still some propagation when only a few variables get instanciated ?

The simple answer is that the propagation done by the cumulatives
propagator is stronger than naive value consitency, but it is also
much weaker than what could be done. But it does reason on bounds.

The detailed answer is that the cumulatives propagator implements the
sweep-algorithm described by Beldiceanu and Carlsson in the paper that
introduced the constraint. It does not, however, implement the task
intervals propagation nor the constructive disjunction on
machine-assignments that was described in the paper.

So, in this particular case, value/bounds consitency is not really the
best classification-scheme.

Cheers,
Mikael

-- 
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/



From pekczynski at ps.uni-sb.de  Wed Oct  4 18:41:47 2006
From: pekczynski at ps.uni-sb.de (Patrick Pekczynski)
Date: Wed, 04 Oct 2006 18:41:47 +0200
Subject: [gecode-users] Compilation problem with GecodeJ 1.0.0 (debian
	linux)
In-Reply-To: <452272A3.3000706@info.ucl.ac.be>
References: <452272A3.3000706@info.ucl.ac.be>
Message-ID: <4523E44B.6050506@ps.uni-sb.de>

Salut St?phane,
> Hi,
>
> I have the following error when executing an example with GecodeJ :
>
> GecodeJ/release-1.0.0/$ java -Djava.library.path=. examples.Queens
> Gecode native code library failed to load.
> java.lang.UnsatisfiedLinkError: 
> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
> undefined symbol: _ZTIN6Gecode6Search10MemoryStopE
Joining the new GecodeJ - hype ;-) I had exactly the same problem where 
java complained about
undefined symbol: _Z.....someGecodefunction.......

Somehow I realized that I still had configured my Gecode version I'm 
working at using

--enable-static --disable-shared

I just gave it a shot and recompiled Gecode with the standard configure 
options, that is

--enable-shared    [ turned on by default]

Afterwards I recompiled GecodeJ and checked that all the paths are ok, 
that is
PKG_CONFIG_PATH having the path to the installation directory of the 
gecode.pc for setting up the libs and
LD_LIBRARY_PATH having the path to libgecodejava and the path to the 
Gecode libraries

so the funny thing was using shared libraries instead of static ones the 
GecodeJ interface worked out beautifully
using something like

java examples/Money

as described in the documentation.

As I do not know what your "configure"-options were I was just guessing 
you did the same and I hope that
I could help you out on that one.
Maybe you can post them here, if this does not help you.

Best regards
Patrick

PS: Bonjour ? Pierre, Jean et Gr?g






From Stephane.Zampelli at info.ucl.ac.be  Thu Oct  5 11:03:05 2006
From: Stephane.Zampelli at info.ucl.ac.be (Zampelli Stephane)
Date: Thu, 05 Oct 2006 11:03:05 +0200
Subject: [gecode-users] Compilation problem with GecodeJ 1.0.0 (debian
	linux)
In-Reply-To: <63b5c8b00610030742p7f15b4efxe8097adda7f2f048@mail.gmail.com>
References: <452272A3.3000706@info.ucl.ac.be>	<63b5c8b00610030742yb26fb36q47e9d22b5d293be5@mail.gmail.com>
	<63b5c8b00610030742p7f15b4efxe8097adda7f2f048@mail.gmail.com>
Message-ID: <4524CA49.90904@info.ucl.ac.be>

Finally I managed to compile and run an example (thanks to Gregoire's help).

I had to use the following options for configure :

./configure
Gecode_CFLAGS="-I/home/szampelli/UCL/Recherche/Code/release-1.3.0/
-I/home/szampelli/UCL/Recherche/Code/release-1.3.0/gecode/"
Gecode_LIBS="-L/home/szampelli/UCL/Recherche/Code/release-1.3.0/
-lgecodesearch -lgecodeint -lgecodeset -lgecodekernel -lgecodeminimodel"

I has also to comment this depend in build.xml in order to get ant
running :

35 <!--    <depend srcdir="."
36            destdir="build"
37            cache="depcache"
38            closure="yes"
39            />-->

I set up CLASSPATH to point to GecodeJava.jar and build/ directory.

I set up LD_LIBRARY_PATH to point to gecode libraries.

I used the following line inside release-1.0.0 directory :
'/usr/local/jdk1.5.0_09/bin/java -Djava.library.path=. examples.Queens'.

The problem was that libgecodejava library was not pointing toward
gecode libraires, because the '-l' flags during linkage were missing. I
had to add them to Gecode_LIBS.

Hope this will help someone,

St?phane.





Mikael Zayenz Lagerkvist wrote:

> On 10/3/06, Zampelli Stephane <Stephane.Zampelli at info.ucl.ac.be> wrote:
>
>> I have the following error when executing an example with GecodeJ :
>>
>> GecodeJ/release-1.0.0/$ java -Djava.library.path=. examples.Queens
>> Gecode native code library failed to load.
>> java.lang.UnsatisfiedLinkError:
>> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
>>
>> /home/szampelli/UCL/Recherche/Code/GecodeJ/release-1.0.0/libgecodejava.so: 
>>
>> undefined symbol: _ZTIN6Gecode6Search10MemoryStopE
>>
>> I successfully compiled Gecode release-1.3.0 and GecodeJ release-1.0.0.
>
>
> This (most probably) means that the Gecode library was compiled
> without RTTI information, which is needed for the Gecode/J-bindings to
> work.
>
> To fix this, reconfigure Gecode with --disable-gcc-visibility and the 
> recompile.
>
> Hope this helps,
> Mikael
>
> -- 
> Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/
>
>


-- 
Zampelli St?phane
PhD Student
D?partement d'Ing?nierie Informatique,
Universit? Catholique de Louvain
R?aumur a.337.30
2, place Sainte Barbe
B-1348 Louvain-la-Neuve
tel: +32 10 47.91.02
Homepage : http://www.info.ucl.ac.be/~sz/





From tack at ps.uni-sb.de  Fri Oct  6 16:13:31 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Fri, 6 Oct 2006 16:13:31 +0200
Subject: [gecode-users] C++ search tree viewer
Message-ID: <5A5E1ADB-AAAB-44FB-9B72-AE6271B9A320@ps.uni-sb.de>

Hi everyone.

I hope I can do some of you a favour by announcing a preview version  
of the Gecode/C++ search tree explorer. You can get it from our svn at

https://svn.gecode.org/svn/explorer/trunk/

It is based on Trolltech's Qt toolkit and should compile on Linux,  
Mac OS and Windows. You will need at least Qt 4.1. The build system  
uses Trolltech's qmake (we'll probably change that later). To build  
the explorer, just run configure and then make - we don't provide any  
install target yet. Configure assumes that you have pkg-config  
installed, and that it can find the Gecode config files (otherwise  
you'll have to set PKG_CONFIG_PATH to <prefix>/lib/pkgconfig if you  
installed Gecode to <prefix>).

This should give you a library libGecodeExplorer.so (on Linux,  
different names on different platforms...). You can have a look at  
the example file test.cc to get an idea how to use it.

To compile test.cc, just run (using gcc on Linux or Mac OS)

g++ `pkg-config --cflags gecode gecode-minimodel` -c test.cc -o test.o
g++ -o test `pkg-config --libs gecode gecode-minimodel` -L. - 
lGecodeExplorer test.o

There are no fancy menus yet, but you can try the context menu on  
search nodes. I hope this tool will be useful, and I would be happy  
to get some feedback.

Cheers,
	Guido

-- 
Guido Tack
Programming Systems Lab, Saarland University, Germany
http://www.ps.uni-sb.de/~tack






From tack at ps.uni-sb.de  Fri Oct  6 16:18:26 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Fri, 6 Oct 2006 16:18:26 +0200
Subject: [gecode-users] Compilation problem with GecodeJ 1.0.0 (debian
	linux)
In-Reply-To: <4524CA49.90904@info.ucl.ac.be>
References: <452272A3.3000706@info.ucl.ac.be>	<63b5c8b00610030742yb26fb36q47e9d22b5d293be5@mail.gmail.com>
	<63b5c8b00610030742p7f15b4efxe8097adda7f2f048@mail.gmail.com>
	<4524CA49.90904@info.ucl.ac.be>
Message-ID: <45C11855-5B5B-4C2E-894A-40960E255BE3@ps.uni-sb.de>

Hi.

> Finally I managed to compile and run an example (thanks to  
> Gregoire's help).
>
> I had to use the following options for configure :
>
> ./configure
> Gecode_CFLAGS="-I/home/szampelli/UCL/Recherche/Code/release-1.3.0/
> -I/home/szampelli/UCL/Recherche/Code/release-1.3.0/gecode/"
> Gecode_LIBS="-L/home/szampelli/UCL/Recherche/Code/release-1.3.0/
> -lgecodesearch -lgecodeint -lgecodeset -lgecodekernel - 
> lgecodeminimodel"

Ok, you probably didn't have pkg-config installed, and that's why  
configure complained to set those variables. I'm afraid that doesn't  
work too well, it gives you exactly the problems you describe below.  
I have updated the documentation to say that you need pkg-config to  
install Gecode/J, as this makes life a lot easier.

> I has also to comment this depend in build.xml in order to get ant
> running :
>
> 35 <!--    <depend srcdir="."
> 36            destdir="build"
> 37            cache="depcache"
> 38            closure="yes"
> 39            />-->

On some systems, you need to install a package called ant-optional  
(e.g. on Debian). This will give you the dependency checker. I'll add  
that to the requirements, thanks.

Cheers,
	Guido

-- 
Guido Tack
Programming Systems Lab, Saarland University, Germany
http://www.ps.uni-sb.de/~tack






From sz at info.ucl.ac.be  Fri Oct  6 18:23:58 2006
From: sz at info.ucl.ac.be (Zampelli Stephane)
Date: Fri, 06 Oct 2006 18:23:58 +0200
Subject: [gecode-users] Graphical java search under c++.
In-Reply-To: <E06AA8D8-25E8-4BF3-85FE-45D48EA198F2@ps.uni-sb.de>
References: <4520FBA0.3050800@info.ucl.ac.be>
	<7DE22C78-8C70-4AC1-9DC3-3F177844D229@ps.uni-sb.de>
	<45210B29.4000704@info.ucl.ac.be>
	<E06AA8D8-25E8-4BF3-85FE-45D48EA198F2@ps.uni-sb.de>
Message-ID: <4526831E.1050701@info.ucl.ac.be>

Hi Guido,

I had to make quite a few changes (pathways, linker options, etc) to get 
GecodeJ 1.0.0 explorer running together with Gecode 1.3.0, even change 
your files.

I will not go into details here, every gecode script crashes with the 
(jni?) exception found in attachement. If you have an idea please tell me.

However, if you have now an explorer working on all platforms, using 
GecodeJ as an explorer may be useless.

St?phane.




Guido Tack wrote:

> Hi St?phane.
>
>> Actually I do not care about portability for now. All I want is a  
>> research tool to track propagation and displays the state of my  
>> graphs in C++. I am working under linux so this is fine. Please let  
>> me know if you can send me the sources.
>
>
> Sure, no problem. You find them attached to this email. I have not  
> tried them in a while, and I do not remember exactly how to compile  
> them. Using them is easy: instead of inheriting from Space, you must  
> inherit from GecodeSpace (from the Gecode/J sources). The you just  
> create an object of type Explorer and give it your root space - this  
> should display the Java explorer.
>
> It is very well possible that the version I'm sending you is not  
> compatible with the latest version of Gecode and Gecode/J, please try  
> it out. To compile, you will need the path to your JDK, and you will  
> need to link against some Java libraries (I don't know exactly which,  
> probably libjvm.so).
>
> If you can get it to work, please let me know.
>
> Cheers,
>     Guido
>
>



-- 
Zampelli St?phane
PhD Student
D?partement d'Ing?nierie Informatique,
Universit? Catholique de Louvain
R?aumur a.337.30
2, place Sainte Barbe
B-1348 Louvain-la-Neuve
tel: +32 10 47.91.02
Homepage : http://www.info.ucl.ac.be/~sz/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: hs_err_pid29417.log
Type: text/x-log
Size: 16678 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061006/f41b133c/attachment.bin>

From mmann at informatik.uni-freiburg.de  Tue Oct 10 17:24:25 2006
From: mmann at informatik.uni-freiburg.de (Martin Mann)
Date: Tue, 10 Oct 2006 17:24:25 +0200
Subject: [gecode-users] ViewArray::drop_lst(int i) ... not equal to
 ViewArray::size(i+1) !?!?!
Message-ID: <452BBB29.6080204@informatik.uni-freiburg.de>

Hi,

reading the ViewArray documentation for 'drop_lst(int i)' I expected 
that it skips all elements after index i.
Therefore it should be equal to 'size(i+1)'.

But unfortunatly it doesn't do anything like that!

The implementation I found is:

=====================================
template <class View>
forceinline void
ViewArray<View>::drop_lst(int i) {
   // Drop elements from i+1..n-1
   assert(i<n);
   n = i+i;
}
=====================================

Think it's a typing error and it should be:

    n = i+1;

Hope that's correct,

Martin




From pekczynski at ps.uni-sb.de  Tue Oct 10 18:44:14 2006
From: pekczynski at ps.uni-sb.de (Patrick Pekczynski)
Date: Tue, 10 Oct 2006 18:44:14 +0200
Subject: [gecode-users] ViewArray::drop_lst(int i) ... not equal to
	ViewArray::size(i+1) !?!?!
In-Reply-To: <452BBB29.6080204@informatik.uni-freiburg.de>
References: <452BBB29.6080204@informatik.uni-freiburg.de>
Message-ID: <452BCDDE.5070401@ps.uni-sb.de>

Martin Mann schrieb:
> Hi,
>
Hi Martin,
I do not know whether anything has been changed by now and this response 
can be neglected
or whether you are referring to the latest online documentation 
available. As far as I can see the latest doc

http://www.gecode.org/gecode-doc-latest/classGecode_1_1ViewArray.html

say's    n = i + 1
> reading the ViewArray documentation for 'drop_lst(int i)' I expected 
> that it skips all elements after index i.
I think this is exactly what it does: drop all elements such that x[i] 
is the last element and |x| = i + 1


So you were thinking correctly. But I could not spot any typo.....

Kind regards
Patrick



From tack at ps.uni-sb.de  Tue Oct 10 20:14:52 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Tue, 10 Oct 2006 20:14:52 +0200
Subject: [gecode-users] ViewArray::drop_lst(int i) ... not equal to
	ViewArray::size(i+1) !?!?!
In-Reply-To: <452BCDDE.5070401@ps.uni-sb.de>
References: <452BBB29.6080204@informatik.uni-freiburg.de>
	<452BCDDE.5070401@ps.uni-sb.de>
Message-ID: <2B9F2FFE-AD00-4F3E-88F7-1F5549662192@ps.uni-sb.de>

Hi.

> I do not know whether anything has been changed by now and this  
> response can be neglected
> or whether you are referring to the latest online documentation  
> available. As far as I can see the latest doc
>
> http://www.gecode.org/gecode-doc-latest/classGecode_1_1ViewArray.html
>
> say's    n = i + 1

This is not about documentation but implementation. In kernel/ 
array.icc:579 the size is changed to i+i. This does not make any  
sense, so I've fixed it.

Cheers,
	Guido






From pekczynski at ps.uni-sb.de  Tue Oct 10 21:02:59 2006
From: pekczynski at ps.uni-sb.de (Patrick Pekczynski)
Date: Tue, 10 Oct 2006 21:02:59 +0200
Subject: [gecode-users] drop_lst doxygen source vs file source
In-Reply-To: <2B9F2FFE-AD00-4F3E-88F7-1F5549662192@ps.uni-sb.de>
References: <452BBB29.6080204@informatik.uni-freiburg.de>	<452BCDDE.5070401@ps.uni-sb.de>
	<2B9F2FFE-AD00-4F3E-88F7-1F5549662192@ps.uni-sb.de>
Message-ID: <452BEE63.9010603@ps.uni-sb.de>

Hi.
> This is not about documentation but implementation. In 
> kernel/array.icc:579 the size is changed to i+i. This does not make 
> any sense, so I've fixed it.
>
Yeah, I see where I made the mistake. But in this case I wonder where 
doxygen gets the source of the files from as the source represented in 
doxygen should be consistent with
the files or am I wrong ?
I just wondered because I checked the source-documentation instead of 
the source file itself which obviously was inconsistent then.

Cheers,
Patrick




From pekczynski at ps.uni-sb.de  Tue Oct 10 21:15:59 2006
From: pekczynski at ps.uni-sb.de (Patrick Pekczynski)
Date: Tue, 10 Oct 2006 21:15:59 +0200
Subject: [gecode-users] drop_lst doxygen source vs file source
In-Reply-To: <452BEE63.9010603@ps.uni-sb.de>
References: <452BBB29.6080204@informatik.uni-freiburg.de>	<452BCDDE.5070401@ps.uni-sb.de>	<2B9F2FFE-AD00-4F3E-88F7-1F5549662192@ps.uni-sb.de>
	<452BEE63.9010603@ps.uni-sb.de>
Message-ID: <452BF16F.1030304@ps.uni-sb.de>

Hi
Please ignore my last message.
I utterly failed in checking the correct line. :-D
So there are no inconsistencies and I just did not see the bug that has 
now been fixed
Sorry for that one.

Regards,
Patrick



From jfmolderez at hotmail.com  Thu Oct 12 12:36:42 2006
From: jfmolderez at hotmail.com (Jean-Francois Molderez)
Date: Thu, 12 Oct 2006 12:36:42 +0200
Subject: [gecode-users] Compilation problem
Message-ID: <BAY113-F1282815D559BF40A29EAFAC1150@phx.gbl>

hello ,
I am starting with Gecode and I have the following problem when trying to 
compile a first example (money.cc)

jfm at pt-jfm:~/gecode/dev> gcc -I ../gecode-1.3.0 -c money.cc

jfm at pt-jfm:~/gecode/dev> gcc -lgecodekernel -lgecodeint -lgecodesearch  
money.o -o money

money.o: dans la fonction ? main ?:
money.cc:(.text+0xbb): r?f?rence ind?finie vers ? Options::parse(int, 
char**)?
money.o: dans la fonction ? Gecode::MiniModel::LinRel::post(Gecode::Space*, 
bool, Gecode::IntConLevel) const?:
money.cc:(.text._ZNK6Gecode9MiniModel6LinRel4postEPNS_5SpaceEbNS_11IntConLevelE[Gecode::MiniModel::LinRel::post(Gecode::Space*, 
bool, Gecode::IntConLevel) const]+0x31): r?f?rence ind?finie vers ? 
Gecode::MiniModel::LinExpr::post(Gecode::Space*, Gecode::IntRelType, 
Gecode::IntConLevel) const?
money.cc:(.text._ZNK6Gecode9MiniModel6LinRel4postEPNS_5SpaceEbNS_11IntConLevelE[Gecode::MiniModel::LinRel::post(Gecode::Space*, 
bool, Gecode::IntConLevel) const]+0x60): r?f?rence ind?finie vers ? 
Gecode::MiniModel::LinExpr::post(Gecode::Space*, Gecode::IntRelType, 
Gecode::IntConLevel) const?
money.o: dans la fonction ? Gecode::MiniModel::LinExpr::~LinExpr()?:
money.cc:(.text._ZN6Gecode9MiniModel7LinExprD1Ev[Gecode::MiniModel::LinExpr::~LinExpr()]+0x18): 
r?f?rence ind?finie vers ? Gecode::MiniModel::LinExpr::Node::decrement() ?
money.o: dans la fonction ? void Example::run<Money, Gecode::DFS>(Options 
const&)?:
money.cc:(.text._ZN7Example3runI5MoneyN6Gecode3DFSEEEvRK7Options[void 
Example::run<Money, Gecode::DFS>(Options const&)]+0xb78): r?f?rence 
ind?finie vers ? am(double*, int)?
money.cc:(.text._ZN7Example3runI5MoneyN6Gecode3DFSEEEvRK7Options[void 
Example::run<Money, Gecode::DFS>(Options const&)]+0xb90): r?f?rence 
ind?finie vers ? dev(double*, int)?
collect2: ld returned 1 exit status

There is a problem to find/link the class Options.
Thak you for any help me to get out of this predicament.

JF Molderez
Cetic/Belgium

_________________________________________________________________
Does your pc move to the speed of a snail? Windows Live safety scanner can 
help you! http://safety.live.com/site/nl-be/default.htm




From zayenz at gmail.com  Thu Oct 12 13:34:09 2006
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Thu, 12 Oct 2006 13:34:09 +0200
Subject: [gecode-users] Compilation problem
In-Reply-To: <63b5c8b00610120433r199abbcfia37f123d188b309e@mail.gmail.com>
References: <BAY113-F1282815D559BF40A29EAFAC1150@phx.gbl>
	<63b5c8b00610120433r199abbcfia37f123d188b309e@mail.gmail.com>
Message-ID: <63b5c8b00610120434h70d5b369i7cc518b1d2473e7f@mail.gmail.com>

On 10/12/06, Jean-Francois Molderez <jfmolderez at hotmail.com> wrote:
> hello ,
> I am starting with Gecode and I have the following problem when trying to
> compile a first example (money.cc)
>
> jfm at pt-jfm:~/gecode/dev> gcc -I ../gecode-1.3.0 -c money.cc
>
> jfm at pt-jfm:~/gecode/dev> gcc -lgecodekernel -lgecodeint -lgecodesearch
> money.o -o money
>
<snip/ >
> There is a problem to find/link the class Options.
> Thak you for any help me to get out of this predicament.

Since you didn't link the object-file containing the code for Options
(examples/support.o), it is quite natural to get these problems.

More general though, if you want to compile the examples that come
with Gecode, you are probably better off using the Makefile for
Gecode.With a standard configure, the examples will be compiled when
running make.

Cheers,
Mikael

--
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/



From rafaparafernalia at gmail.com  Tue Oct 24 00:44:03 2006
From: rafaparafernalia at gmail.com (Rafael Meneses)
Date: Mon, 23 Oct 2006 19:44:03 -0300
Subject: [gecode-users] Critical bug.
Message-ID: <d701e0390610231544u5beb79fcu4afc077589b120bb@mail.gmail.com>

Hi,

The problem is in ViewValBranching:

1.- The status method calculate the "start" variable.

2.- The description method create the branch description, with the
position and value of the variable to make the branch. _The position
is absolute_.

3.- The commit, impose the branch description, since the position is
absolute, _position is position minus offset_ , but the offset depends
of the start variable, but status method in the recomputation phase is
not called, so the start variable is  zero. This produces that the
offset is distinct between the original node and the recompute one,
then the branch is made in other variables and not in the original
one.

Options to repair the problem are:
* pass the start variable to the branching description
* don't make processing in the status method
* ...

I think that the error is critical, because produce that the
recomputation fix other variables, and we lost sector of the search
space.

I attach a patch that implement the first option.

I detected the problem, when my code crashed extraneously... two days
of hard work :(


Saludos,

-- 
Rafael Meneses
http://www.zeke.cl
http://www.labsd.inf.utfsm.cl/~rmeneses
-------------- next part --------------
A non-text attachment was scrubbed...
Name: reparaBug.patch
Type: text/x-patch
Size: 3404 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061023/e46990d7/attachment.bin>

From tack at ps.uni-sb.de  Tue Oct 24 08:54:30 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Tue, 24 Oct 2006 08:54:30 +0200 (CEST)
Subject: [gecode-users] Critical bug.
In-Reply-To: <d701e0390610231544u5beb79fcu4afc077589b120bb@mail.gmail.com>
References: <d701e0390610231544u5beb79fcu4afc077589b120bb@mail.gmail.com>
Message-ID: <38461.212.247.172.218.1161672870.squirrel@www.ps.uni-sb.de>

Hi.

> The problem is in ViewValBranching:
>
> 1.- The status method calculate the "start" variable.
>
> 2.- The description method create the branch description, with the
> position and value of the variable to make the branch. _The position
> is absolute_.
>
> 3.- The commit, impose the branch description, since the position is
> absolute, _position is position minus offset_ , but the offset depends
> of the start variable, but status method in the recomputation phase is
> not called, so the start variable is  zero. This produces that the
> offset is distinct between the original node and the recompute one,

This is exactly what is supposed to happen!
The ViewValBranching contains the absolute position in the original array.
The offset determines how many variables have been eliminated from the
array. It does _not_ depend on the start variable, but on how many times
x.drop_fst(start) was called. If never, then offset=0. If fewer times than
when the branching was created, offset will be smaller than it was during
creation.

So the invariant is that the description contains the absolute index, and
that offset determines how many variables have been removed from the
beginning of the array. That should be enough to redo the decisions
precisely.

> I think that the error is critical, because produce that the
> recomputation fix other variables, and we lost sector of the search
> space.

That is really a little bizarre, because we have checked the search space
for all our problems, and all the time recomputation works just fine. If
you're still convinced that this is a bug, please convince us ;-) It would
be great if you could send us a small example that behaves strange when
doing recomputation.

Cheers,
   Guido

-- 
Guido Tack
http://www.ps.uni-sb.de/~tack





From cschulte at kth.se  Tue Oct 24 09:32:18 2006
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 24 Oct 2006 09:32:18 +0200
Subject: [gecode-users] Critical bug.
In-Reply-To: <d701e0390610231544u5beb79fcu4afc077589b120bb@mail.gmail.com>
Message-ID: <000601c6f73e$8a16f070$0401a8c0@tiny>

This is not a bug! The invariant is that whatever branching decsription is
created the position always refers to the same variable: In case some
variables are removed from the branching, the offset is updated accordingly.

Do you have an example where things go wrong?

Christian

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Rafael Meneses
Sent: Tuesday, October 24, 2006 12:44 AM
To: users
Subject: [gecode-users] Critical bug.


Hi,

The problem is in ViewValBranching:

1.- The status method calculate the "start" variable.

2.- The description method create the branch description, with the position
and value of the variable to make the branch. _The position is absolute_.

3.- The commit, impose the branch description, since the position is
absolute, _position is position minus offset_ , but the offset depends of
the start variable, but status method in the recomputation phase is not
called, so the start variable is  zero. This produces that the offset is
distinct between the original node and the recompute one, then the branch is
made in other variables and not in the original one.

Options to repair the problem are:
* pass the start variable to the branching description
* don't make processing in the status method
* ...

I think that the error is critical, because produce that the recomputation
fix other variables, and we lost sector of the search space.

I attach a patch that implement the first option.

I detected the problem, when my code crashed extraneously... two days of
hard work :(


Saludos,

-- 
Rafael Meneses
http://www.zeke.cl
http://www.labsd.inf.utfsm.cl/~rmeneses




From rafaparafernalia at gmail.com  Tue Oct 24 21:49:47 2006
From: rafaparafernalia at gmail.com (Rafael Meneses)
Date: Tue, 24 Oct 2006 16:49:47 -0300
Subject: [gecode-users] Critical bug.
In-Reply-To: <000601c6f73e$8a16f070$0401a8c0@tiny>
References: <d701e0390610231544u5beb79fcu4afc077589b120bb@mail.gmail.com>
	<000601c6f73e$8a16f070$0401a8c0@tiny>
Message-ID: <d701e0390610241249g4cdfa2e4vd23a50c43bb1e0e3@mail.gmail.com>

On 10/24/06, Christian Schulte <cschulte at kth.se> wrote:
> This is not a bug! The invariant is that whatever branching decsription is
> created the position always refers to the same variable: In case some
> variables are removed from the branching, the offset is updated accordingly.
>
> Do you have an example where things go wrong?

I attach an example.

With recomputation there are a "segmentation fault", without
recomputation, all is just fine.

Run the example five minutes, and there are a 100% of probability of
crash, take away recomputation, and the code never crash.

Saludos,


-- 
Rafael Meneses
http://www.zeke.cl
http://www.labsd.inf.utfsm.cl/~rmeneses
-------------- next part --------------
A non-text attachment was scrubbed...
Name: bug.cc
Type: text/x-c++src
Size: 2946 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061024/eaa53710/attachment.cc>

From trosky99 at gmail.com  Tue Oct 24 22:56:41 2006
From: trosky99 at gmail.com (Alberto Delgado)
Date: Tue, 24 Oct 2006 15:56:41 -0500
Subject: [gecode-users] cloning variable problem
Message-ID: <e3e0e6e10610241356n7b7149ak61753dd1acbcf268@mail.gmail.com>

Hi all,

I've been trying to create an IntVar X1 in a space S1, and  create a
clone of X1 namely X2 in a space S2.  i called the update method of
IntVar to create the clone.
It all seems to work ok,  but when i try to impose some propagators i
got a Segmentation Fault.
I implemented a propagator which inherits from UnaryPropagator and
imposed it on  X1 and X2.  The imposition of the propagator on X1
crashed the execution.
I thought the problem might be my propagator and i tried with eq.  I
created a new variable XTMP in S1 and imposed eq between X1 and XTMP
right after creating X2 by cloning.  it crashed again.

I attach the source code of my example. Could any of you guys tell me
what i am doing wrong?

Thanks in advance,

Regards,

Alberto Delgado
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test3.cc
Type: text/x-c++src
Size: 1064 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061024/f17fcd69/attachment.cc>

From tack at ps.uni-sb.de  Tue Oct 24 23:12:30 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Tue, 24 Oct 2006 23:12:30 +0200 (CEST)
Subject: [gecode-users] cloning variable problem
In-Reply-To: <e3e0e6e10610241356n7b7149ak61753dd1acbcf268@mail.gmail.com>
References: <e3e0e6e10610241356n7b7149ak61753dd1acbcf268@mail.gmail.com>
Message-ID: <38562.212.247.172.218.1161724350.squirrel@www.ps.uni-sb.de>

Hi!

> I've been trying to create an IntVar X1 in a space S1, and  create a
> clone of X1 namely X2 in a space S2.  i called the update method of
> IntVar to create the clone.
> It all seems to work ok,  but when i try to impose some propagators i
> got a Segmentation Fault.

The problem is that you must not call the update method of an IntVar
outside the copy constructor of a space. You basically cannot create a
clone of an IntVar outside of the copy constructor of your space.

For copying to work, the variables need to store the location they were
copied to, so that sharing can be detected and the same variable is not
copied twice. All this is done behind your back in the clone function of
the space. The space takes care that variables are in a clean state after
copying. If you just call update, noone takes care of cleaning up the
variable's state, that's why you get a segmentation fault.

Cheers,
   Guido

-- 
Guido Tack
http://www.ps.uni-sb.de/~tack





From cschulte at kth.se  Wed Oct 25 13:14:10 2006
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 25 Oct 2006 13:14:10 +0200
Subject: [gecode-users] Critical bug.
In-Reply-To: <d701e0390610241249g4cdfa2e4vd23a50c43bb1e0e3@mail.gmail.com>
Message-ID: <004101c6f826$b2428f30$acd4ed82@beule>

Dear Rafael,

thanks for insisting and take our apologies for being stubborn: but as you
did not hint at the fact that you actually observe the bug we were
understandibly defensive (not to mention that it was not reported to the bug
tracking system).

The bug is fixed and Gecode 1.3.1 should show up today on the web.

So that this was the first real bug in Gecode!

All the best
Christian

--
Christian Schulte, http://www.imit.kth.se/~schulte/ 

-----Original Message-----
From: Rafael Meneses [mailto:rafaparafernalia at gmail.com] 
Sent: Tuesday, October 24, 2006 9:50 PM
To: cschulte at kth.se
Cc: users
Subject: Re: [gecode-users] Critical bug.


On 10/24/06, Christian Schulte <cschulte at kth.se> wrote:
> This is not a bug! The invariant is that whatever branching 
> decsription is created the position always refers to the same 
> variable: In case some variables are removed from the branching, the 
> offset is updated accordingly.
>
> Do you have an example where things go wrong?

I attach an example.

With recomputation there are a "segmentation fault", without recomputation,
all is just fine.

Run the example five minutes, and there are a 100% of probability of crash,
take away recomputation, and the code never crash.

Saludos,


-- 
Rafael Meneses
http://www.zeke.cl
http://www.labsd.inf.utfsm.cl/~rmeneses




From tack at ps.uni-sb.de  Wed Oct 25 16:31:06 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Wed, 25 Oct 2006 16:31:06 +0200
Subject: [gecode-users] Gecode 1.3.1 released
Message-ID: <9B73410F-ED88-4F79-AFE8-F8C332A90447@ps.uni-sb.de>

We would like to announce the release of

                 Gecode 1.3.1
            http://www.gecode.org/

This is a minor release which fixes a major bug that appears when  
using branch-and-bound search. Please update as soon as possible.

For a complete changelog, see
http://www.gecode.org/gecode-doc-latest/PageChanges_1_3_1.html

Cheers,
	The Gecode Team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20061025/d8e9b9af/attachment.htm>

From tack at ps.uni-sb.de  Wed Oct 25 23:23:08 2006
From: tack at ps.uni-sb.de (Guido Tack)
Date: Wed, 25 Oct 2006 23:23:08 +0200 (CEST)
Subject: [gecode-users] Gecode's Gist
Message-ID: <51725.134.96.198.36.1161811388.squirrel@www.ps.uni-sb.de>

Hi everyone!

The name "Explorer" seemed already somewhat taken (not only by the Mozart
search tree tool, but also by a commercial company mainly in the OS
market), so we decided to move on to a fresh name for our search tool: The
Graphical Interactive Search Tool, Gist.

>From now on you find the preview of Gist for C++ in the svn at

https://svn.gecode.org/svn/gist/trunk

Cheers,
   Guido

-- 
Guido Tack
http://www.ps.uni-sb.de/~tack





From pieter.thysebaert at intec.ugent.be  Thu Oct 26 11:40:46 2006
From: pieter.thysebaert at intec.ugent.be (Pieter Thysebaert)
Date: Thu, 26 Oct 2006 11:40:46 +0200
Subject: [gecode-users] Concept of "computation spaces" in Gecode vs ILOG.
Message-ID: <4540829E.1020605@intec.ugent.be>

Hello,

As some of you may have learned from a previous posting, I'm currently
busy implementing a parallel constraint optimization framework.
The ultimate goal is to run this framework on a cluster of PC's (i.e. a
distributed memory system).

Using gecode and MPICH2, I've succeeded in creating a working prototype.
Some reasons for this modest succes are 1) the availability and
licensing of Gecode and MPICH2 and 2) the concept of computation spaces,
which makes it easy to encapsulate the constraint store and propagation
things and reuse these concepts in a custom program.

As my employer currently has a ILOG Solver license (sorry ;-) , the
question  arises however if it would be technically feasible (i.e.
disregarding licensing issues) to implement the same framework using
ILOG Solver technology. I have only used ILOG Solver the ILOG way
(modelling variables and constraints, setting goals, custom selectors
and choosers, extracting into a solver object ...).
My question is thus: is anyone here familiar enough with both products
(Gecode and ILOG Solver) to tell me whether the ILOG Solver internals
can be manipulated in the "computation space way", either thorugh
existing ILOG API or some wrapper classes?  Does anyone have experience
with using ILOG Solver in a PC-based distributed memory system (as far
as I  can tell, ILOG Parallel Solver is limited to shared-memory
multiprocessors?)?

Thanks,
Pieter





From cschulte at kth.se  Thu Oct 26 15:20:02 2006
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 26 Oct 2006 15:20:02 +0200
Subject: [gecode-users] Concept of "computation spaces" in Gecode vs ILOG.
In-Reply-To: <4540829E.1020605@intec.ugent.be>
Message-ID: <000e01c6f901$71fa7240$acd4ed82@beule>

Dear Pieter,

I am really sorry but I can't and won't comment. I would suggest that you
ask the question on a forum dedicated to ILOG Solver rather than here.

All the best
Christian

--
Christian Schulte, http://www.imit.kth.se/~schulte/ 

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Pieter Thysebaert
Sent: Thursday, October 26, 2006 11:41 AM
To: users at gecode.org
Subject: [gecode-users] Concept of "computation spaces" in Gecode vs ILOG.


Hello,

As some of you may have learned from a previous posting, I'm currently busy
implementing a parallel constraint optimization framework. The ultimate goal
is to run this framework on a cluster of PC's (i.e. a distributed memory
system).

Using gecode and MPICH2, I've succeeded in creating a working prototype.
Some reasons for this modest succes are 1) the availability and licensing of
Gecode and MPICH2 and 2) the concept of computation spaces, which makes it
easy to encapsulate the constraint store and propagation things and reuse
these concepts in a custom program.

As my employer currently has a ILOG Solver license (sorry ;-) , the question
arises however if it would be technically feasible (i.e. disregarding
licensing issues) to implement the same framework using ILOG Solver
technology. I have only used ILOG Solver the ILOG way (modelling variables
and constraints, setting goals, custom selectors and choosers, extracting
into a solver object ...). My question is thus: is anyone here familiar
enough with both products (Gecode and ILOG Solver) to tell me whether the
ILOG Solver internals can be manipulated in the "computation space way",
either thorugh existing ILOG API or some wrapper classes?  Does anyone have
experience with using ILOG Solver in a PC-based distributed memory system
(as far as I  can tell, ILOG Parallel Solver is limited to shared-memory
multiprocessors?)?

Thanks,
Pieter



_______________________________________________
Gecode users mailing list
users at gecode.org https://www.gecode.org/mailman/listinfo/gecode-users




