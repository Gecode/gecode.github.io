<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] question about mult propagator (compiler flags)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20question%20about%20mult%20propagator%20%28compiler%20flags%29&In-Reply-To=%3CABBB958E-1F4C-4B5F-9CC5-E9AB226045F1%40ps.uni-sb.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000687.html">
   <LINK REL="Next"  HREF="000685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] question about mult propagator (compiler flags)</H1>
    <B>Guido Tack</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20question%20about%20mult%20propagator%20%28compiler%20flags%29&In-Reply-To=%3CABBB958E-1F4C-4B5F-9CC5-E9AB226045F1%40ps.uni-sb.de%3E"
       TITLE="[gecode-users] question about mult propagator (compiler flags)">tack at ps.uni-sb.de
       </A><BR>
    <I>Tue Sep 19 15:36:50 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000687.html">[gecode-users] question about mult propagator (compiler flags)
</A></li>
        <LI>Next message: <A HREF="000685.html">[gecode-users] Disjunctions in gecode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

&gt;<i> I think the problem  I am facing  with multiplication isn't in the  
</I>&gt;<i> propagator, it is related with gcc optimization flags and function  
</I>&gt;<i> inlining.
</I>
I've also tried to investigate this, but I can't reproduce the  
problem here on my machines. However, it seems we're pushing gcc to  
the limit as it comes to inlining. On Intel Macs with Mac OS X, some  
set propagators go into infinite loops, and I haven't been able to  
figure out yet what goes wrong. Removing -ffast-math didn't have any  
positive effect on this, only disabling inlining makes things work.

&gt;<i>  Even further, when debug option is turned on from configure all  
</I>&gt;<i> works (i think debug option disables compiler optimization and  
</I>&gt;<i> function inlining).
</I>
Right, in particular it disables inlining and forces the compiler to  
put all functions in some object file. I'm not really sure how to  
debug this, it's hard to hunt bugs that only appear in non-debug  
builds under very special conditions... Often, already putting some  
cout statements into the code changes the behaviour. Very weird.

Cheers,
	Guido

-- 
Guido Tack
Programming Systems Lab, Saarland University, Germany
<A HREF="http://www.ps.uni-sb.de/~tack">http://www.ps.uni-sb.de/~tack</A>





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000687.html">[gecode-users] question about mult propagator (compiler flags)
</A></li>
	<LI>Next message: <A HREF="000685.html">[gecode-users] Disjunctions in gecode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
