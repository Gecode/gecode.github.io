<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Controlling memory use
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Controlling%20memory%20use&In-Reply-To=%3C63b5c8b00803312300s7abf7633scc9a7d177d23db89%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001474.html">
   <LINK REL="Next"  HREF="001476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Controlling memory use</H1>
    <B>Mikael Zayenz Lagerkvist</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Controlling%20memory%20use&In-Reply-To=%3C63b5c8b00803312300s7abf7633scc9a7d177d23db89%40mail.gmail.com%3E"
       TITLE="[gecode-users] Controlling memory use">zayenz at gmail.com
       </A><BR>
    <I>Tue Apr  1 08:00:07 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001474.html">[gecode-users] Controlling memory use
</A></li>
        <LI>Next message: <A HREF="001476.html">[gecode-users] CP 2008: Abstract deadline extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1475">[ date ]</a>
              <a href="thread.html#1475">[ thread ]</a>
              <a href="subject.html#1475">[ subject ]</a>
              <a href="author.html#1475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 1, 2008 at 2:26 AM, Malcolm Ryan &lt;<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">malcolmr at cse.unsw.edu.au</A>&gt; wrote:
&gt;<i> On 31/03/2008, at 8:15 PM, Christian Schulte wrote:
</I>&gt;<i>  &gt; What contributes to memory consumption are:
</I>&gt;<i>  &gt; ...
</I>&gt;<i>
</I>&gt;<i>  Is there any way to simply ask Gecode how large a space is?
</I>
The reported memory consumption is accurate for Gecode (i.e., for the
C++ side). To get the size of a Gecode::Space, there is a member
function called allocated, that returns the amount of heap memory the
Space has allocated.

For Gecode/J the situation is not as simple. A org.gecode.Space object
is created for all the instances of the underlying C++ Gecode::Space
created when searching, and these instances will contain references to
other Java objects such as variables. AFAIK there is no accurate,
portable way of obtaining the size of a Java object for client code,
let alone for the connected graph of references that a Java object is
the root of. The most common technique seems to be creating a lot of
instances of something, and measuring total memory use before and
after. Thus, the overhead of using Gecode/J memory-wise is very hard
to compute exactly - even OS tools like top or the Task Manager are
not good enough due to the way a JVM manages memory.

To know anything more about why your particular problem runs out of
memory, you need to look at Christian's suggestions and questions. If
it turns out that available memory is a bottleneck for your
application, I would strongly suggest that you switch to plain Gecode.

Cheers,
Mikael

-- 
Mikael Zayenz Lagerkvist, <A HREF="http://www.ict.kth.se/~zayenz/">http://www.ict.kth.se/~zayenz/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001474.html">[gecode-users] Controlling memory use
</A></li>
	<LI>Next message: <A HREF="001476.html">[gecode-users] CP 2008: Abstract deadline extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1475">[ date ]</a>
              <a href="thread.html#1475">[ thread ]</a>
              <a href="subject.html#1475">[ subject ]</a>
              <a href="author.html#1475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
