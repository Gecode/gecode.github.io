<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Reflection support for FloatVars questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Reflection%20support%20for%20FloatVars%20questions&In-Reply-To=%3C48B25D05.5020906%40logis.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001796.html">
   <LINK REL="Next"  HREF="001802.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Reflection support for FloatVars questions</H1>
    <B>Filip Konvi&#269;ka</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Reflection%20support%20for%20FloatVars%20questions&In-Reply-To=%3C48B25D05.5020906%40logis.cz%3E"
       TITLE="[gecode-users] Reflection support for FloatVars questions">filip.konvicka at logis.cz
       </A><BR>
    <I>Mon Aug 25 09:19:33 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001796.html">[gecode-users] Reflection support for FloatVars questions
</A></li>
        <LI>Next message: <A HREF="001802.html">[gecode-users] Reflection support for FloatVars questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1799">[ date ]</a>
              <a href="thread.html#1799">[ thread ]</a>
              <a href="subject.html#1799">[ subject ]</a>
              <a href="author.html#1799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guido,

&gt;&gt;<i> Another thing is the reflection spec (Gecode::Reflection::ActorSpec).
</I>&gt;&gt;<i> There seems to be support for signed integer constants and for  
</I>&gt;&gt;<i> strings,
</I>&gt;&gt;<i> so I'll try to serialize interval domains and constants using some
</I>&gt;&gt;<i> standard conversions to/from std::string (like boost::lexical_cast). I
</I>&gt;&gt;<i> suppose that adding support for types like 'double' and 'float' to
</I>&gt;&gt;<i> ActorSpec is probably a bad idea (given the platform differences in
</I>&gt;&gt;<i> representing floats...right?)
</I>&gt;<i> 
</I>&gt;<i> Hm, I don't know.  An ActorSpec just must be able to represent what  
</I>&gt;<i> the system uses, it doesn't have to be platform-independent.  The idea  
</I>&gt;<i> is that an ActorSpec just lets you look inside the propagator.  If you  
</I>&gt;<i> want to communicate the specs, e.g. over the network, you'll have to  
</I>&gt;<i> make sure that a platform-independent representation is used.  E.g.,  
</I>&gt;<i> we can use boost serialization to turn ActorSpecs into strings.  The  
</I>&gt;<i> serialization classes should allow platform-independent transfer of  
</I>&gt;<i> e.g. doubles.
</I>
Cool, in that case maybe we could consider adding support for all 
&quot;basic&quot; C++ numeric types: float, double, long double, long long. I'm 
sure that Boost.Serialization handles portability issues well.

My concern about portability was related to your JavaScript example: 
adding these types means that you have to extend the parser quite a bit. 
(For example, you need to solve the ambiguities between types.)

&gt;<i> So, I guess we should add support for double in ActorSpec.
</I>
Another option, of course, is adding support just for double, which is 
probably what most people would use. For now, anyway, I'm planning to 
use some default conversion to/from string (using boost::lexical_cast), 
and let the users override this for their numeric type of choice if that 
doesn't work with lexical_cast. The thing to keep in mind with FloatVar 
is that you never know in advance what numeric type it'll run with, so 
we have to provide such mechanism anyway.

I'll come back with more questions if my attempts to run FloatVar 
examples with Gist fail :-)

Cheers,
Filip



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001796.html">[gecode-users] Reflection support for FloatVars questions
</A></li>
	<LI>Next message: <A HREF="001802.html">[gecode-users] Reflection support for FloatVars questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1799">[ date ]</a>
              <a href="thread.html#1799">[ thread ]</a>
              <a href="subject.html#1799">[ subject ]</a>
              <a href="author.html#1799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
