<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] How to use Gecode binaries from within MSVC's IDE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20How%20to%20use%20Gecode%20binaries%20from%20within%20MSVC%27s%20IDE&In-Reply-To=%3C008d01c906c4%24de61fc50%249b25f4f0%24%40se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001809.html">
   <LINK REL="Next"  HREF="001811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] How to use Gecode binaries from within MSVC's IDE</H1>
    <B>Christian Schulte</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20How%20to%20use%20Gecode%20binaries%20from%20within%20MSVC%27s%20IDE&In-Reply-To=%3C008d01c906c4%24de61fc50%249b25f4f0%24%40se%3E"
       TITLE="[gecode-users] How to use Gecode binaries from within MSVC's IDE">cschulte at kth.se
       </A><BR>
    <I>Mon Aug 25 17:11:36 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001809.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
        <LI>Next message: <A HREF="001811.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1810">[ date ]</a>
              <a href="thread.html#1810">[ thread ]</a>
              <a href="subject.html#1810">[ subject ]</a>
              <a href="author.html#1810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First, the &quot;fix&quot; I just send does not fix the problem... It does for me but
not for Jan.

The crashes are totally bizarre, as far as the debugger tells the crash
occurs right in the heart of copying... That's close to impossible as Gecode
does not use char there...

I'll have a closer look tomorrow (my problem is that I know very little
about MSVC's IDE and hoped that I could get away with that). I'll try the
voodoo you suggest.

Maybe, you still use MSVC 2005?

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A> [mailto:<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A>] On Behalf
Of Filip Konvicka
Sent: Monday, August 25, 2008 5:03 PM
To: <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
Subject: Re: [gecode-users] How to use Gecode binaries from within MSVC's
IDE

Hi Christian,

&gt;<i> The IDE defines the macros UNICODE and _UNICODE: when compiling with these
</I>&gt;<i> macros set, things crash.
</I>
strange - I'm using UNICODE all the time without problems.

IMHO it does only one thing: all Windows headers switch to the Unicode
APIs (and TCHAR is defined as wchar_t etc.) You can also use
wmain(int,wchar_t*[]) instead of main(int,char*[]) for programs.

What you might be interested in is putting this at the very start of
your 'main' (I even do this before main in some static initializers...):

#ifdef WIN32
     setlocale(LC_ALL, &quot;.OCP&quot;);
#else
     setlocale(LC_ALL, &quot;&quot;);
#endif

(for console applications). This makes the iostream libraries use the
correct locale for translating console IO to/from wchar_t properly.

I'm still wondering what crashes are you experiencing??

Cheers,
Filip


_______________________________________________
Gecode users mailing list
<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
<A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001809.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
	<LI>Next message: <A HREF="001811.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1810">[ date ]</a>
              <a href="thread.html#1810">[ thread ]</a>
              <a href="subject.html#1810">[ subject ]</a>
              <a href="author.html#1810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
