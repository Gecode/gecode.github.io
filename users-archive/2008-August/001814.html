<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] How to use Gecode binaries from within MSVC's IDE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20How%20to%20use%20Gecode%20binaries%20from%20within%20MSVC%27s%20IDE&In-Reply-To=%3C002901c906e3%24d48f1720%247dad4560%24%40se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001811.html">
   <LINK REL="Next"  HREF="001817.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] How to use Gecode binaries from within MSVC's IDE</H1>
    <B>Christian Schulte</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20How%20to%20use%20Gecode%20binaries%20from%20within%20MSVC%27s%20IDE&In-Reply-To=%3C002901c906e3%24d48f1720%247dad4560%24%40se%3E"
       TITLE="[gecode-users] How to use Gecode binaries from within MSVC's IDE">cschulte at kth.se
       </A><BR>
    <I>Mon Aug 25 20:53:13 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001811.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
        <LI>Next message: <A HREF="001817.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1814">[ date ]</a>
              <a href="thread.html#1814">[ thread ]</a>
              <a href="subject.html#1814">[ subject ]</a>
              <a href="author.html#1814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The truly bizarre aspect of all this mess is that whatever we build on the commandline works totally fine (I also use 2008 SP1).

Only when the MSVC IDE links against the dlls we built on the commandline, things go wrong. And then, of course, I started to wade through all the macros that the MSVC IDE defines (let me not get started about how well they are documented...). So far, no luck. (Not to mention that when we build on the commandline with _UNICODE and UNICODE defined -- yes, of course, one would have to define both: isn't that crystal clear and goes without further explanation, so please, we really don't need any documentation on this -- things go bang as well).

So there is no bug in Gecode, it is that we not yet have found the right voodoo or incantation to have our dlls appreciated by MSVC and to have Unicode working...

I'll keep you guys posted.

Cheers
Christian

-----Original Message-----
From: Filip Konvi&#269;ka [mailto:<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">filip.konvicka at logis.cz</A>] 
Sent: Monday, August 25, 2008 5:26 PM
To: Christian Schulte
Cc: <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
Subject: Re: [gecode-users] How to use Gecode binaries from within MSVC's IDE


&gt;<i> First, the &quot;fix&quot; I just send does not fix the problem... It does for me but
</I>&gt;<i> not for Jan.
</I>&gt;<i>
</I>&gt;<i> The crashes are totally bizarre, as far as the debugger tells the crash
</I>&gt;<i> occurs right in the heart of copying... That's close to impossible as Gecode
</I>&gt;<i> does not use char there...
</I>&gt;<i>
</I>Well, if someone overwrites memory somewhere else, anything can occur...
&gt;<i> I'll have a closer look tomorrow (my problem is that I know very little
</I>&gt;<i> about MSVC's IDE and hoped that I could get away with that). I'll try the
</I>&gt;<i> voodoo you suggest.
</I>&gt;<i>
</I>This almighty cure is mainly for solving issues with wstringstream and
std::wcin/std::wcout, but who knows, it saved me a lot of trouble already.
&gt;<i> Maybe, you still use MSVC 2005?
</I>&gt;<i>
</I>I already have MSVC 2008 SP1. All Gecode scripts I'm running now use
UNICODE and no crashes occur (even with my FloatVars :-)). However, one
thing on my TODO list is investigating this: when I break the execution
somewhere and inspect the variables (like FloatVarImp or IntVarImp), the
'home' pointer inside all variables is set to '0xBAADF00D', which is a
little scary. You know, everything seems to work, but it's creepy. So
far I thought that maybe I miscompiled Gecode somehow...

Cheers,
Filip




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001811.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
	<LI>Next message: <A HREF="001817.html">[gecode-users] How to use Gecode binaries from within MSVC's IDE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1814">[ date ]</a>
              <a href="thread.html#1814">[ thread ]</a>
              <a href="subject.html#1814">[ subject ]</a>
              <a href="author.html#1814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
