From jeffreym9 at yahoo.com.hk  Wed Apr  1 08:15:31 2009
From: jeffreym9 at yahoo.com.hk (Jeffrey)
Date: Tue, 31 Mar 2009 23:15:31 -0700 (PDT)
Subject: [gecode-users] Fail to compile elementsUnion(*this, IntSetArgs,
	SetVar, SetVar)
Message-ID: <423053.20285.qm@web111409.mail.gq1.yahoo.com>

I moved from 2.2.0 to 3.0.2.

When I recompile the program, it pops out error saying that elementsUnion is not find.

I've included set.hh already.

Is the elementsUnion I used to use in 2.2.0 depreciated in 3.0.2? Is there any other function I can use?

Regards,
Jeffrey


      Yahoo!???????????????????! ??? http://hk.promo.yahoo.com/security/ ????!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090331/4fd68283/attachment.htm>

From tack at ps.uni-sb.de  Wed Apr  1 08:40:28 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Wed, 1 Apr 2009 17:40:28 +1100
Subject: [gecode-users] Fail to compile elementsUnion(*this, IntSetArgs,
	SetVar, SetVar)
In-Reply-To: <423053.20285.qm@web111409.mail.gq1.yahoo.com>
References: <423053.20285.qm@web111409.mail.gq1.yahoo.com>
Message-ID: <A6FDA60E-EA66-4885-8787-62F72601D39F@ps.uni-sb.de>

Jeffrey wrote:

> I moved from 2.2.0 to 3.0.2.
>
> When I recompile the program, it pops out error saying that  
> elementsUnion is not find.
>
> I've included set.hh already.
>
> Is the elementsUnion I used to use in 2.2.0 depreciated in 3.0.2? Is  
> there any other function I can use?

The set element constraints are now all called element, and you can  
use them with SOT_UNION, e.g.:
http://www.gecode.org/doc-latest/reference/group__TaskModelSetElement.html

Cheers,
	Guido




From lingrui at gmail.com  Wed Apr  1 14:32:46 2009
From: lingrui at gmail.com (Lingrui Liao)
Date: Wed, 1 Apr 2009 08:32:46 -0400
Subject: [gecode-users] Compatibility with Visual C++
References: <8e8ee8c10903301814kded23d2reae19c7e22960028@mail.gmail.com>
	<002301c9b1d2$d8c5cce0$8a5166a0$@se>
Message-ID: <3080C8CFE013496F9919CA8808680FA5@Xplorr>

It does compile under Visual Studio 2008.

Thanks.

Lingrui Liao
----- Original Message ----- 
From: "Christian Schulte" <cschulte at kth.se>
To: "'Lingrui Liao'" <lingrui at gmail.com>; <users at gecode.org>
Sent: Tuesday, March 31, 2009 3:32 AM
Subject: RE: [gecode-users] Compatibility with Visual C++


> Hi Lingrui,
>
> the easiest fix would be to upgrade to Visual Studio 2008 (that's what we
> are using and what we have used to compile the packages). Unfortunately we
> don't have access to Visual Studio 2005.
>
> Would that be possible?
>
> Cheers
> Christian
>
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of Lingrui Liao
> Sent: Tuesday, March 31, 2009 3:14 AM
> To: users at gecode.org
> Subject: [gecode-users] Compatibility with Visual C++
>
> I've downloaded and installed Gecode-3.0.2-x86.msi (32-bit) on Windows XP.
> Instructions in the document "Modeling with Gecode" was followed to
> configure a Windows console application within Visual Studio 2005.
> When I was trying to compile an example program with Gecode, Visual
> C++ 2005 reports the following error(among some similar ones):
>
> ...
> Error 12 error C2248: 'Gecode::Branching::cast' : cannot access
> private member declared in class 'Gecode::Branching' c:\program
> files\gecode\include\gecode\kernel\core.hpp 3362
> ...
>
> the indicated site of error is like:
> ...
> forceinline const Branching&
>  Space::Branchings::branching(void) const {
>    return *Branching::cast(c);
>  }
> ...
>
>
> It seems to be a compatibility issue on private member accessibility.
> Does anyone know a way to work around it? Thanks.
>
> Lingrui Liao
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
> 




From gutierrez.gustavo at uclouvain.be  Wed Apr  1 16:57:25 2009
From: gutierrez.gustavo at uclouvain.be (Gustavo Gutierrez)
Date: Wed, 1 Apr 2009 16:57:25 +0200
Subject: [gecode-users] Advisor implementation
Message-ID: <e7b0e5a40904010757i7c113a4x1153c711b910cb3a@mail.gmail.com>

Hello all,

I have a very naive question about advisors and the way to implement
them. I have a propagator which is very costly and if some condition
holds then I don't need to execute it. I am trying to implement this
by using advisors: the advisor detects if the condition holds and then
returns ES_FIX to avoid propagation. After trying to implement that
with not success, I end up by writing a propagator with an advisor
that actually prevents the propagator to be executed. This is, a
propagator that does nothing because its advisor always return ES_FIX.

The code is attached to this mail but I cannot get the intended
behavior, instead, the propagator is executed at every computation
space during the search and not only once as I expected. Obviously I
am doing something wrong or simply is a misunderstood on what an
advisor can do. Any help is very welcome.


Thanks in advance,
Gustavo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: queens.cpp
Type: application/octet-stream
Size: 2609 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090401/91714bab/attachment.obj>

From cschulte at kth.se  Wed Apr  1 17:24:03 2009
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 1 Apr 2009 17:24:03 +0200
Subject: [gecode-users] Advisor implementation
In-Reply-To: <e7b0e5a40904010757i7c113a4x1153c711b910cb3a@mail.gmail.com>
References: <e7b0e5a40904010757i7c113a4x1153c711b910cb3a@mail.gmail.com>
Message-ID: <001401c9b2dd$e3cc8dc0$ab65a940$@se>

Hi,

You inherit from UnaryPropagator with propagation condition PC_INT_DOM: that means that the propagator is executed each time its variable changes! That is just the normal behavior of a propagator of this subclass: the propagator subscribes to the variable with the given propagation condition and cancels its subscription when it becomes subsumed.

To make use of advisors you have to _not_ subscribe so that you can control scheduling by an advisor. That's possible by passing the (phoney) propagation condition PC_INT_NONE instead: no subscriptions are created.

Cheers
Christian

--
Christian Schulte, www.it.kth.se/~cschulte/

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Gustavo Gutierrez
Sent: Wednesday, April 01, 2009 4:57 PM
To: gecode list
Subject: [gecode-users] Advisor implementation

Hello all,

I have a very naive question about advisors and the way to implement them. I have a propagator which is very costly and if some condition holds then I don't need to execute it. I am trying to implement this by using advisors: the advisor detects if the condition holds and then returns ES_FIX to avoid propagation. After trying to implement that with not success, I end up by writing a propagator with an advisor that actually prevents the propagator to be executed. This is, a propagator that does nothing because its advisor always return ES_FIX.

The code is attached to this mail but I cannot get the intended behavior, instead, the propagator is executed at every computation space during the search and not only once as I expected. Obviously I am doing something wrong or simply is a misunderstood on what an advisor can do. Any help is very welcome.


Thanks in advance,
Gustavo




From gutierrez.gustavo at uclouvain.be  Wed Apr  1 17:53:33 2009
From: gutierrez.gustavo at uclouvain.be (Gustavo Gutierrez)
Date: Wed, 1 Apr 2009 17:53:33 +0200
Subject: [gecode-users] Advisor implementation
In-Reply-To: <001401c9b2dd$e3cc8dc0$ab65a940$@se>
References: <e7b0e5a40904010757i7c113a4x1153c711b910cb3a@mail.gmail.com>
	<001401c9b2dd$e3cc8dc0$ab65a940$@se>
Message-ID: <e7b0e5a40904010853q283c6bf1x3c9d1616147851f4@mail.gmail.com>

Gustavo Gutierrez



On Wed, Apr 1, 2009 at 5:24 PM, Christian Schulte <cschulte at kth.se> wrote:
> Hi,
>
> You inherit from UnaryPropagator with propagation condition PC_INT_DOM: that means that the propagator is executed each time its variable changes! That is just the normal behavior of a propagator of this subclass: the propagator subscribes to the variable with the given propagation condition and cancels its subscription when it becomes subsumed.
>
> To make use of advisors you have to _not_ subscribe so that you can control scheduling by an advisor. That's possible by passing the (phoney) propagation condition PC_INT_NONE instead: no subscriptions are created.
>

Thank you very much. So in conclusion, you can control the scheduling
of a propagator _only_ if you get rid of the propagation conditions
(and then the way it is subscribed)  and implement it manually inside
the advise method. I was thinking that with an advisor you could do
some kind of fine tuning of the scheduling for the propagator. That
means, the propagator kept their original propagation conditions but
after the advisor execution it could be marked to avoid its execution.

 Regards,
Gustavo.



From cschulte at kth.se  Wed Apr  1 17:57:32 2009
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 1 Apr 2009 17:57:32 +0200
Subject: [gecode-users] Advisor implementation
In-Reply-To: <e7b0e5a40904010853q283c6bf1x3c9d1616147851f4@mail.gmail.com>
References: <e7b0e5a40904010757i7c113a4x1153c711b910cb3a@mail.gmail.com>	<001401c9b2dd$e3cc8dc0$ab65a940$@se>
	<e7b0e5a40904010853q283c6bf1x3c9d1616147851f4@mail.gmail.com>
Message-ID: <001d01c9b2e2$91e00320$b5a00960$@se>

The point is: when you have normal subscriptions the propagator will be
scheduled according to the propagation condition. So there is nothing left
to fine tune any longer ;-)

Cheers
Christian

--
Christian Schulte, www.it.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Gustavo Gutierrez
Sent: Wednesday, April 01, 2009 5:54 PM
To: Christian Schulte
Cc: gecode list
Subject: Re: [gecode-users] Advisor implementation

Gustavo Gutierrez



On Wed, Apr 1, 2009 at 5:24 PM, Christian Schulte <cschulte at kth.se> wrote:
> Hi,
>
> You inherit from UnaryPropagator with propagation condition PC_INT_DOM:
that means that the propagator is executed each time its variable changes!
That is just the normal behavior of a propagator of this subclass: the
propagator subscribes to the variable with the given propagation condition
and cancels its subscription when it becomes subsumed.
>
> To make use of advisors you have to _not_ subscribe so that you can
control scheduling by an advisor. That's possible by passing the (phoney)
propagation condition PC_INT_NONE instead: no subscriptions are created.
>

Thank you very much. So in conclusion, you can control the scheduling
of a propagator _only_ if you get rid of the propagation conditions
(and then the way it is subscribed)  and implement it manually inside
the advise method. I was thinking that with an advisor you could do
some kind of fine tuning of the scheduling for the propagator. That
means, the propagator kept their original propagation conditions but
after the advisor execution it could be marked to avoid its execution.

 Regards,
Gustavo.

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users




From jeffreym9 at yahoo.com.hk  Wed Apr  1 20:31:42 2009
From: jeffreym9 at yahoo.com.hk (Jeffrey)
Date: Wed, 1 Apr 2009 11:31:42 -0700 (PDT)
Subject: [gecode-users] How to show the violated constraint of a failed node
	in Gist tree?
Message-ID: <890292.18769.qm@web111401.mail.gq1.yahoo.com>

If it can show which constraint is violating for a failed node in Gist Tree, then, it would greatly improve my optimation work.
Is that possible?


      Yahoo!???????????????????! ??? http://hk.promo.yahoo.com/security/ ????!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090401/915a15b8/attachment.htm>

From cschulte at kth.se  Wed Apr  1 22:49:45 2009
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 1 Apr 2009 22:49:45 +0200
Subject: [gecode-users] How to show the violated constraint of a failed
	node	in Gist tree?
In-Reply-To: <890292.18769.qm@web111401.mail.gq1.yahoo.com>
References: <890292.18769.qm@web111401.mail.gq1.yahoo.com>
Message-ID: <002301c9b30b$63e8c0a0$2bba41e0$@se>

No, unfortunately that is not possible.

 

Christian

 

--

Christian Schulte, www.it.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Jeffrey
Sent: Wednesday, April 01, 2009 8:32 PM
To: gecode at gecode.org
Subject: [gecode-users] How to show the violated constraint of a failed node
in Gist tree?

 

If it can show which constraint is violating for a failed node in Gist Tree,
then, it would greatly improve my optimation work.

Is that possible?

 

  _____  

Yahoo!?????????W????????????????????????????!
<http://hk.promo.yahoo.com/security/> ????????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090401/75c0bff2/attachment.htm>

From jeffreym9 at yahoo.com.hk  Sun Apr  5 04:47:28 2009
From: jeffreym9 at yahoo.com.hk (Jeffrey)
Date: Sat, 4 Apr 2009 19:47:28 -0700 (PDT)
Subject: [gecode-users] Optimizing the constraint
Message-ID: <187134.87863.qm@web111414.mail.gq1.yahoo.com>

I'm optimizing my constraints with Gist at the moment.
I've found that there are lots of pruned tree on the left hand side.
These trees may span up to 4-5 levels.
Unfortunately, when I?trigger gist to print out the dead node, I didn't find any values that is making any constraints failed. I had tried to add implied constraints which had already improve the speed for some cases. 


I'm currently using: INT_VAR_SIZE_MAX, INT_VAL_MIN?? for branching an IntVarArray.
?
(1) What problems may it be? Is there any dynamic implied constraint in Gist?
(2) If I found that many dead node of a big pruned tree is found by the last assignment of values,?How can I make?such assignment comes earlier? e.g. Assign variables with more constraints first? Is it possible for Gist?
(3) Do you mind if I send up my little program for you to understand more about the Gist tree span?
(4)?Although i use "INT_VAR_SIZE_MAX", it doesn't assign all values at once. Is that a bug or i'm misunderstanding its use? "INT_VAR_RND" is not?suitable to me cause I want the search to be deterministic.
(5) Is there any other tricks I could use to sort out the problem? e.g. Deleting the constraint one by one to see which constraint is making it goes so long?
(6) Is there another symthoms i should try to look at the gist tree to get hint about the problem? e.g. what propagation setting should it be.

Big thanks again.


      Yahoo!???????????????????! ??? http://hk.promo.yahoo.com/security/ ????!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090404/89fd8b81/attachment.htm>

From tack at ps.uni-sb.de  Mon Apr  6 11:25:22 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Mon, 6 Apr 2009 19:25:22 +1000
Subject: [gecode-users] Optimizing the constraint
In-Reply-To: <187134.87863.qm@web111414.mail.gq1.yahoo.com>
References: <187134.87863.qm@web111414.mail.gq1.yahoo.com>
Message-ID: <BE1CD29D-C0EB-4551-BCEC-9D26A0BFDBF9@ps.uni-sb.de>

Jeffrey wrote:

> I'm optimizing my constraints with Gist at the moment.

I assume you mean that you use Gist in Branch-and-Bound mode, using a  
constrain method in your model (or something similar to the  
MinimizeExample or MaximizeExample classes).

> I've found that there are lots of pruned tree on the left hand side.
> These trees may span up to 4-5 levels.
> Unfortunately, when I trigger gist to print out the dead node, I  
> didn't find any values that is making any constraints failed.

A value in a domain cannot make a constraint failed, only the absence  
of values can.

> I had tried to add implied constraints which had already improve the  
> speed for some cases.
>
> I'm currently using: INT_VAR_SIZE_MAX, INT_VAL_MIN   for branching  
> an IntVarArray.
>
> (1) What problems may it be? Is there any dynamic implied constraint  
> in Gist?

There's nothing special in Gist, it does exactly the same search as  
the non-interactive branch-and-bound engine, it only visualizes the  
search tree in addition.  And I'm not sure what you mean by "dynamic"  
implied constraint, but there's no magic going on.  The constraints  
are the ones you specify in your model.

> (2) If I found that many dead node of a big pruned tree is found by  
> the last assignment of values, How can I make such assignment comes  
> earlier? e.g. Assign variables with more constraints first? Is it  
> possible for Gist?

Again, this has nothing to do with Gist.  You can branch over  
variables with more constraints first, this is called degree branching  
(see the documentation).

> (4) Although i use "INT_VAR_SIZE_MAX", it doesn't assign all values  
> at once. Is that a bug or i'm misunderstanding its use?

Please read the tutorial about branchings again (in the Search chapter).

> "INT_VAR_RND" is not suitable to me cause I want the search to be  
> deterministic.
> (5) Is there any other tricks I could use to sort out the problem?  
> e.g. Deleting the constraint one by one to see which constraint is  
> making it goes so long?

When you delete constraints, the search tree is going to get bigger.   
I thought your problem took too long to solve because the search tree  
was too big, so deleting constraints can't help.

> (6) Is there another symthoms i should try to look at the gist tree  
> to get hint about the problem? e.g. what propagation setting should  
> it be.

What you can do is to look at a node and determine if you can do any  
additional inferences by hand (i.e., if you know that certain values  
shouldn't be in a variable domain any more because of some  
constraint).  That might give you an idea which propagator is missing  
or should be stronger.

I'm afraid your problems are more related to general constraint  
programming questions rather than specific to Gecode.  You may want to  
read more introductory material to the field first.

Cheers,
	Guido




From cschulte at kth.se  Tue Apr  7 00:03:37 2009
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 7 Apr 2009 00:03:37 +0200
Subject: [gecode-users] Who submitted Gecode to sourcearchive.com?
Message-ID: <004601c9b703$89d48140$9d7d83c0$@se>

Dear users,

I just stumbled upon
	http://sourcearchive.com/
which seriously diminishes the usefulness of Gecode (IMHO) by putting all
outdated Gecode documentation on the Web such that it gets indexed by web
search engines. Now, a search engine will vomit lots of outdated hits at you
when you search for a Gecode concept. Brilliant! Well done!

Please, I would like you to understand that we are extremely liberal in what
we ask you to do and what not to do with Gecode. It is not a legal issue, it
is just an issue whether you as a user are willing to show a little respect
for our wishes (and these particular wishes are rational and not selfish). 

To remind you, we just ask one thing for our documentation:

> We kindly ask that documentation is not installed anywhere in such a way
that it will be 
> indexed by search engines.

We would be delighted if this wish would be granted. After all, all previous
documentation is available from Gecode's website anyway.

If you disagree with our policy, please let us know so that we can discuss.
If you were unaware of our policy, please remove the documentation from the
above mentioned website ASAP.

Christian

PS: I have to admit that I am quite shocked, as far as I can see we are
extremely liberal in any respect how OUR software and documentation is used.
But, still, that seems to be something that some people just do not care to
respect. Very disappointing. And - of course - incidents like this will make
people like us think twice in the future.

--
Christian Schulte, www.it.kth.se/~cschulte/






From tack at ps.uni-sb.de  Tue Apr  7 05:08:29 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Tue, 7 Apr 2009 13:08:29 +1000
Subject: [gecode-users] Who submitted Gecode to sourcearchive.com?
In-Reply-To: <004601c9b703$89d48140$9d7d83c0$@se>
References: <004601c9b703$89d48140$9d7d83c0$@se>
Message-ID: <B07E0E34-CCD3-4C23-A605-F1D6AB498A81@ps.uni-sb.de>

Hi everyone,

it seems that sourcearchive.com just automatically downloads new  
Debian packages, unpacks them, and runs doxygen on the result.  That's  
of course a pretty useless service, but we can't do much about it.   
I'll ask the administrator to add a robots.txt to his website, so that  
the docs are not indexed.

Cheers,
	Guido

Christian Schulte wrote:

> Dear users,
>
> I just stumbled upon
> 	http://sourcearchive.com/
> which seriously diminishes the usefulness of Gecode (IMHO) by  
> putting all
> outdated Gecode documentation on the Web such that it gets indexed  
> by web
> search engines. Now, a search engine will vomit lots of outdated  
> hits at you
> when you search for a Gecode concept. Brilliant! Well done!
>
> Please, I would like you to understand that we are extremely liberal  
> in what
> we ask you to do and what not to do with Gecode. It is not a legal  
> issue, it
> is just an issue whether you as a user are willing to show a little  
> respect
> for our wishes (and these particular wishes are rational and not  
> selfish).
>
> To remind you, we just ask one thing for our documentation:
>
>> We kindly ask that documentation is not installed anywhere in such  
>> a way
> that it will be
>> indexed by search engines.
>
> We would be delighted if this wish would be granted. After all, all  
> previous
> documentation is available from Gecode's website anyway.
>
> If you disagree with our policy, please let us know so that we can  
> discuss.
> If you were unaware of our policy, please remove the documentation  
> from the
> above mentioned website ASAP.
>
> Christian
>
> PS: I have to admit that I am quite shocked, as far as I can see we  
> are
> extremely liberal in any respect how OUR software and documentation  
> is used.
> But, still, that seems to be something that some people just do not  
> care to
> respect. Very disappointing. And - of course - incidents like this  
> will make
> people like us think twice in the future.
>
> --
> Christian Schulte, www.it.kth.se/~cschulte/
>
>
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users




From jeffreym9 at yahoo.com.hk  Fri Apr 10 19:29:20 2009
From: jeffreym9 at yahoo.com.hk (Jeffrey)
Date: Fri, 10 Apr 2009 10:29:20 -0700 (PDT)
Subject: [gecode-users] How Forward Checking and Look Ahead is supported in
	Gecode?
Message-ID: <860169.17756.qm@web111411.mail.gq1.yahoo.com>

As Subject.


      Yahoo!???????????????????! ??? http://hk.promo.yahoo.com/security/ ????!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090410/0bc72bca/attachment.htm>

From cschulte at kth.se  Mon Apr 13 12:49:24 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 13 Apr 2009 12:49:24 +0200
Subject: [gecode-users] How Forward Checking and Look Ahead is supported
	in	Gecode?
In-Reply-To: <860169.17756.qm@web111411.mail.gq1.yahoo.com>
References: <860169.17756.qm@web111411.mail.gq1.yahoo.com>
Message-ID: <000901c9bc25$832d0f70$89872e50$@se>

There is no direct support.

 

Christian

 

--

Christian Schulte, www.it.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Jeffrey
Sent: Friday, April 10, 2009 7:29 PM
To: gecode at gecode.org
Subject: [gecode-users] How Forward Checking and Look Ahead is supported in
Gecode?

 

As Subject.

 

  _____  

Yahoo!?????????W????????????????????????????!
<http://hk.promo.yahoo.com/security/> ????????

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090413/2ce9e556/attachment.htm>

From jeffreym9 at yahoo.com.hk  Tue Apr 14 17:41:59 2009
From: jeffreym9 at yahoo.com.hk (Jeffrey)
Date: Tue, 14 Apr 2009 08:41:59 -0700 (PDT)
Subject: [gecode-users] Will constraint be examined for a partially assigned
	IntVarArray?
Message-ID: <966182.40438.qm@web111405.mail.gq1.yahoo.com>

I have an IntVarArray and a linear constraint saying that their sum should not exceed a certain maximum value.

Will such constraint be examined for every assignment steps? or it won't be examinated until all the variables are assigned?

In my case, because the domain of?all IntVar are positive values, it makes no sense to continue the branch if the assigned values are already exceed the maximum. How can I enforce that?


      Yahoo!???????????????????! ??? http://hk.promo..yahoo.com/security/ ????!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090414/24195647/attachment.htm>

From tack at ps.uni-sb.de  Wed Apr 15 00:06:44 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Wed, 15 Apr 2009 08:06:44 +1000
Subject: [gecode-users] Will constraint be examined for a partially
	assigned IntVarArray?
In-Reply-To: <966182.40438.qm@web111405.mail.gq1.yahoo.com>
References: <966182.40438.qm@web111405.mail.gq1.yahoo.com>
Message-ID: <94BA4014-63FA-4E93-B995-73C2C17A94DB@ps.uni-sb.de>

The constraint is even "examined" (i.e. propagated) when variables are  
not assigned but only their bounds change.  Why don't you just try it  
out?  Look at the search tree of a simple model with a single  
constraint in Gist, and inspect the nodes to see what's going on.

Guido

Jeffrey wrote:

> I have an IntVarArray and a linear constraint saying that their sum  
> should not exceed a certain maximum value.
>
> Will such constraint be examined for every assignment steps? or it  
> won't be examinated until all the variables are assigned?
>
> In my case, because the domain of all IntVar are positive values, it  
> makes no sense to continue the branch if the assigned values are  
> already exceed the maximum. How can I enforce that?
>
> Yahoo!???????????????????!?? 
> ??_______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users




From cschulte at kth.se  Wed Apr 15 01:37:07 2009
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 15 Apr 2009 01:37:07 +0200
Subject: [gecode-users] Will constraint be examined for a
	partially	assigned IntVarArray?
In-Reply-To: <94BA4014-63FA-4E93-B995-73C2C17A94DB@ps.uni-sb.de>
References: <966182.40438.qm@web111405.mail.gq1.yahoo.com>
	<94BA4014-63FA-4E93-B995-73C2C17A94DB@ps.uni-sb.de>
Message-ID: <000c01c9bd59$ece1f4a0$c6a5dde0$@se>

Dear Jeffrey,

Just a tip. It might be a good idea to read up on constraint programming in general. I fear that none of the questions you have asked so far have been Gecode-specific. I think it might be a good idea to familiarize yourself with the very idea of constraint propagation (for example, the Gecode documentation states clearly that linear constraints by default achieve bounds consistency over the real numbers. That would have answered your question entirely.).

All the best
Christian

--
Christian Schulte, www.it.kth.se/~cschulte/

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Guido Tack
Sent: Wednesday, April 15, 2009 12:07 AM
To: Jeffrey
Cc: gecode at gecode.org
Subject: Re: [gecode-users] Will constraint be examined for a partially assigned IntVarArray?

The constraint is even "examined" (i.e. propagated) when variables are  
not assigned but only their bounds change.  Why don't you just try it  
out?  Look at the search tree of a simple model with a single  
constraint in Gist, and inspect the nodes to see what's going on.

Guido

Jeffrey wrote:

> I have an IntVarArray and a linear constraint saying that their sum  
> should not exceed a certain maximum value.
>
> Will such constraint be examined for every assignment steps? or it  
> won't be examinated until all the variables are assigned?
>
> In my case, because the domain of all IntVar are positive values, it  
> makes no sense to continue the branch if the assigned values are  
> already exceed the maximum. How can I enforce that?
>
> Yahoo!???????????????????!?? 
> ??_______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users




From joe.porter at gmail.com  Mon Apr 27 17:21:20 2009
From: joe.porter at gmail.com (Joe Porter)
Date: Mon, 27 Apr 2009 10:21:20 -0500
Subject: [gecode-users] Reification
Message-ID: <8032a5cd0904270821r68b777d8nbe8b414f4c2529e3@mail.gmail.com>

I have a few questions about reification (I'm still using Gecode 2.2.0, but
will upgrade soon):

1. Can I do open-ended reification?
For example, if I post a linear constraint ((x=y+c) <=> ~b) and no alternate
(for b true) will this either assert the linear constraint or assert b, or
do I have to have another clause for the b case?

2. Can I use the same BoolVar to reify groups of contraints?
For example, if I have (xi=yi+c) for i=1..n, can I post them all with the
same b?

Thanks,
-Joe Porter
ISIS, Vanderbilt University
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090427/945880b0/attachment.htm>

From cschulte at kth.se  Mon Apr 27 18:12:57 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 27 Apr 2009 18:12:57 +0200
Subject: [gecode-users] Reification
In-Reply-To: <8032a5cd0904270821r68b777d8nbe8b414f4c2529e3@mail.gmail.com>
References: <8032a5cd0904270821r68b777d8nbe8b414f4c2529e3@mail.gmail.com>
Message-ID: <000301c9c753$0779b700$166d2500$@se>

Hi,

 

1.       It is really an equivalence: so what it actually says (your example
slightly simplified) is (x != y+c) ? b=1. If b=0 it will assert x == y+c,
and if b=1 it will assert x != y+c. I am not sure whether this answers your
question.

2.       Well depends on what you want to express, when you post xi == yi +
c ? b=1 for the same b for all i it means that if b=0, it must hold for all
i that  xi != yi +c and likewise if b=1, it must hold for all i that xi = yi
+ c. If you want to have Boolean control variables that make a statement
just for a particular i you have to create a new Boolean variable for each
i. 

 

Hope that helps

Christian

 

--

Christian Schulte, www.it.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Joe Porter
Sent: Monday, April 27, 2009 5:21 PM
To: users at gecode.org
Subject: [gecode-users] Reification

 

I have a few questions about reification (I'm still using Gecode 2.2.0, but
will upgrade soon):

1. Can I do open-ended reification?  
For example, if I post a linear constraint ((x=y+c) <=> ~b) and no alternate
(for b true) will this either assert the linear constraint or assert b, or
do I have to have another clause for the b case? 

2. Can I use the same BoolVar to reify groups of contraints?
For example, if I have (xi=yi+c) for i=1..n, can I post them all with the
same b?

Thanks,
-Joe Porter
ISIS, Vanderbilt University

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090427/fee9923a/attachment.htm>

From joe.porter at gmail.com  Mon Apr 27 19:15:53 2009
From: joe.porter at gmail.com (Joe Porter)
Date: Mon, 27 Apr 2009 12:15:53 -0500
Subject: [gecode-users] Reification
In-Reply-To: <000301c9c753$0779b700$166d2500$@se>
References: <8032a5cd0904270821r68b777d8nbe8b414f4c2529e3@mail.gmail.com>
	<000301c9c753$0779b700$166d2500$@se>
Message-ID: <8032a5cd0904271015o71d68a29s3fd9ccf75ab0a525@mail.gmail.com>

> 1.       It is really an equivalence: so what it actually says (your
> example slightly simplified) is (x != y+c) ? b=1. If b=0 it will assert x
> == y+c, and if b=1 it will assert x != y+c. I am not sure whether this
> answers your question.
>

That's exactly what I wanted -- to use the boolean variables to record which
constraints could not be satisfied.


> 2.       Well depends on what you want to express, when you post xi == yi
> + c ? b=1 for the same b for all i it means that if b=0, it must hold for
> all i that  xi != yi +c and likewise if b=1, it must hold for all i that xi
> = yi + c. If you want to have Boolean control variables that make a
> statement just for a particular i you have to create a new Boolean variable
> for each i.
>

So I guess that means that no one else has tried it ;-)

Thanks for all of your help,
-Joe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090427/649374cd/attachment.htm>

From cschulte at kth.se  Mon Apr 27 19:45:20 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 27 Apr 2009 19:45:20 +0200
Subject: [gecode-users] Reification
In-Reply-To: <8032a5cd0904271015o71d68a29s3fd9ccf75ab0a525@mail.gmail.com>
References: <8032a5cd0904270821r68b777d8nbe8b414f4c2529e3@mail.gmail.com>	<000301c9c753$0779b700$166d2500$@se>
	<8032a5cd0904271015o71d68a29s3fd9ccf75ab0a525@mail.gmail.com>
Message-ID: <001701c9c75f$f5816bd0$e0844370$@se>

Actually, for 2. this is used: suppose you want express logical equivalence
by reification, say (x<y) ? (a < b). Then, one could express it by (x < y) ?
b0 = 1, (a < b) ? b1 = 1, and eqv(b0,b1,1). However it can be done more
efficiently by using just a single Boolean variable: (x < y) ? b=1 and (a <
b) ? 1. Only one Boolean variable, and no equivalence propagator.

 

Cheers

Christian

 

--

Christian Schulte, www.it.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Joe Porter
Sent: Monday, April 27, 2009 7:16 PM
To: users at gecode.org
Subject: Re: [gecode-users] Reification

 

 

1.       It is really an equivalence: so what it actually says (your example
slightly simplified) is (x != y+c) ? b=1. If b=0 it will assert x == y+c,
and if b=1 it will assert x != y+c. I am not sure whether this answers your
question.


That's exactly what I wanted -- to use the boolean variables to record which
constraints could not be satisfied.
 

2.       Well depends on what you want to express, when you post xi == yi +
c ? b=1 for the same b for all i it means that if b=0, it must hold for all
i that  xi != yi +c and likewise if b=1, it must hold for all i that xi = yi
+ c. If you want to have Boolean control variables that make a statement
just for a particular i you have to create a new Boolean variable for each
i. 


So I guess that means that no one else has tried it ;-)

Thanks for all of your help,
-Joe

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090427/20451b92/attachment.htm>

From zayenz at gmail.com  Mon Apr 27 17:59:09 2009
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Mon, 27 Apr 2009 17:59:09 +0200
Subject: [gecode-users] Reification
In-Reply-To: <8032a5cd0904270821r68b777d8nbe8b414f4c2529e3@mail.gmail.com>
References: <8032a5cd0904270821r68b777d8nbe8b414f4c2529e3@mail.gmail.com>
Message-ID: <63b5c8b00904270859x5c260c3dr8d11e768900c76f9@mail.gmail.com>

2009/4/27 Joe Porter <joe.porter at gmail.com>:
> I have a few questions about reification (I'm still using Gecode 2.2.0, but
> 1. Can I do open-ended reification?
> For example, if I post a linear constraint ((x=y+c) <=> ~b) and no alternate
> (for b true) will this either assert the linear constraint or assert b, or
> do I have to have another clause for the b case?

I'm not sure what you mean, but I'll try. If you post a reified
constraint c with a control-variable b, but otherwise no constraints
on b, then the constraint won't really "mean" anything. The only point
at which the constraint will do something is to set b to one or zero
if the constraint is found to hold or not hold.

> 2. Can I use the same BoolVar to reify groups of contraints?
> For example, if I have (xi=yi+c) for i=1..n, can I post them all with the
> same b?

Sure, there is nothing special about the control variable, it is just
like any other BoolVar.

Cheers,
Mikael

-- 
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/



From joe.porter at gmail.com  Tue Apr 28 23:02:59 2009
From: joe.porter at gmail.com (Joe Porter)
Date: Tue, 28 Apr 2009 16:02:59 -0500
Subject: [gecode-users] Immediate search failure
Message-ID: <8032a5cd0904281402j3b2891b4k5b6627ff08e92f82@mail.gmail.com>

What are the possible reasons for an immediate search failure?  I've changed
something in my model, but I'm not sure what could be causing immediate
failures (using Gecode 2.2.0).  Setup code is below, and the output is at
the bottom.  This is solving a simple scheduling problem with a simple model
instance that I can solve by hand.  According to the debug statements, the
model should be feasible.  Or - maybe I've been looking at it for too
long...

Thanks,
-Joe

// CP Solver Engine
CPEngine::CPEngine( InstanceKeeper * pIK, unsigned long long min, unsigned
long long max ) :
    vars( this, pIK->NumVars(), (int) min, (int) max ),  // instantiate
constraint vars
    latencies( this, pIK->NumLatencies()+1, 0, (int) 2 * max ),
    lin_cstr(this,
1,0,1),                                                        /* not used
in this model */
    sat_cstr(this, 1, 0, (int) pIK->GetNumLinearRelations() ),   /* not used
in this model */
    _pIK( pIK )
{
    // All equality constraints
    LinearRelation lrel;
    bool loop = pIK->GetNextEqualityPair( lrel, true );
    while (loop)
    {
        IntVarArgs v(2);
        v[0] = vars[lrel.xvar];
        v[1] = vars[lrel.yvar];
        IntArgs a(2);
        a[0] = 1; // 'x' of x = y + o
        a[1] = -1; // 'y' of x = y + o
        linear( this, a, v, IRT_EQ, lrel.offset );
        cout << "Posted equality relation (x,y) = (" << lrel.xvar << "," <<
lrel.yvar << ") w/ offset " << lrel.offset << std::endl;
        loop = pIK->GetNextEqualityPair( lrel );
    }

    // All inequality constraints
    loop = pIK->GetNextInequalityPair( lrel, true );
    while (loop)
    {
        IntVarArgs v(2);
        v[0] = vars[lrel.xvar];
        v[1] = vars[lrel.yvar];
        IntArgs a(2);
        a[0] = 1; // 'x' of x <= y + o
        a[1] = -1; // 'y' of x <= y + o
        linear( this, a, v, IRT_LQ, lrel.offset );
        cout << "Posted inequality relation (x,y) = (" << lrel.xvar << ","
<< lrel.yvar << ") w/ offset " << lrel.offset << std::endl;
        loop = pIK->GetNextInequalityPair( lrel );
    }

    // All duration constraints
    DurativeVariable dv;
    loop = pIK->GetNextDuration( dv, true );
    while ( loop )
    {
        IntVarArgs v(1);
        v[0] = vars[dv.xvar];
        IntArgs a(1);
        a[0] = 1;
        linear( this, a, v, IRT_LQ, ((int)max) - dv.duration ); // don't run
over the end
        cout << "Posted duration relation (x) = (" << dv.xvar << ") w/
length " << dv.duration << std::endl;
        loop = pIK->GetNextDuration( dv );
    }

    // All serialization constraints
    int ser_count = 0;
    std::vector< DurativeVariable > vdv;
    loop = pIK->GetNextSerialization( vdv, true );
    while (loop) // && false)
    {
        IntVarArgs v( (int) vdv.size() );
        IntVarArgs e( (int) vdv.size() );
        IntArgs d( (int) vdv.size() );

        cout << "Serializing (x,d): ";
        for (unsigned int idx = 0; idx < vdv.size(); idx++ )
        {
            v[idx] = vars[vdv[idx].xvar];
            d[idx] = (int) vdv[idx].duration;
            e[idx].init(this,min,max);
            cout << "(" << vdv[idx].xvar << "," << vdv[idx].duration << "),
";
        }
        cout << endl;

        IntArgs height(v.size()), m(v.size());
        for ( int idx = v.size(); idx--; ) { height[idx] = 1; m[idx] = 0
/*ser_count*/; }
        cumulatives(this, m, v, d, e, height, 1, true );
        loop = pIK->GetNextSerialization( vdv );
        ser_count++;
    }

    // Instantiate latency variables here
    std::vector< LatencyBound > vlb;
    loop = pIK->GetNextLatencyBound( vlb, true );
    while ( loop )
    {

        std::vector< LatencyBound >::iterator pLB = vlb.begin();
        // First set up the range for the latency variables
        rel( this, latencies[pLB->latvar], IRT_GQ, 1 );
        rel( this, latencies[pLB->latvar], IRT_LQ, pLB->maxdist );

        cout << "Latency (l) = (" << pLB->latvar << ") alternatives: ";

        // Then define the relationship between the instances
        // and the latencies
        int k = 0;
        BoolVarArgs bs(vlb.size());
        for ( pLB = vlb.begin(); pLB != vlb.end(); pLB++ )
        {
            BoolVar b(this,0,1);
            IntVarArgs v(2);
            v[0] = vars[pLB->rcvrvar];
            v[1] = vars[pLB->sendervar];
            IntArgs a(2);
            a[0] = 1; // 'x' of x = y + o
            a[1] = -1; // 'y' of x = y + o
            cout << "(s,r) = (" << pLB->sendervar << "," << pLB->rcvrvar <<
") ";
            linear( this, a, v, IRT_EQ, latencies[pLB->latvar], b );
            bs[k++] = b;
        }
        cout << endl;
        linear( this, bs, IRT_GR, 0 ); // Force at least one of the
constraints in this collection to be true

        loop = pIK->GetNextLatencyBound( vlb );
    }

    // Dummy latency in case there are no latencies in the spec!
    // We have to branch on something!
    rel( this, latencies[pIK->NumLatencies()], IRT_GQ, 1 );
    rel( this, latencies[pIK->NumLatencies()], IRT_LQ, 1 );
    cout << "Dummy latency (==1)" << endl;

    // Do branching
    branch(this, vars, INT_VAR_REGRET_MAX_MAX, INT_VAL_MED);
    branch(this, latencies, INT_VAR_SIZE_MIN, INT_VAL_MAX ); // start with
max latency and work down
}

Domain size: 100000
Posted equality relation (x,y) = (0,1) w/ offset -20000
Posted equality relation (x,y) = (1,2) w/ offset -20000
Posted equality relation (x,y) = (2,3) w/ offset -20000
Posted equality relation (x,y) = (3,4) w/ offset -20000
Posted duration relation (x) = (4) w/ length 19 (0,max-19)
Posted duration relation (x) = (5) w/ length 57 (0, max-57)
Serializing (x,d): (0,19), (1,19), (2,19), (3,19), (4,19),
Dummy latency (==1)
Stats: Search Stats

Initial
        propagators:   4294967295
        branchings:    4294967295

Summary
        propagations:  0
        failures:      1
        clones:        0
        commits:       0
        peak memory:   5 KB
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090428/71e8ffd0/attachment.htm>

From cschulte at kth.se  Wed Apr 29 00:33:42 2009
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 29 Apr 2009 00:33:42 +0200
Subject: [gecode-users] Immediate search failure
In-Reply-To: <8032a5cd0904281402j3b2891b4k5b6627ff08e92f82@mail.gmail.com>
References: <8032a5cd0904281402j3b2891b4k5b6627ff08e92f82@mail.gmail.com>
Message-ID: <000c01c9c851$6295f230$27c1d690$@se>

Hi Joe,

 

There are two things you can do:

1)      Try to remove some constraints and see whether this gives you a
solution. Try to isolate the culprit.

2)      Upgrade to 3.0 and read Modeling with Gecode: you are torturing
yourself for example with linear constraints, the document says how it's
done much easier (and hence, less bugs potentially)!

 

Cheers

Christian

 

--

Christian Schulte, www.it.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Joe Porter
Sent: Tuesday, April 28, 2009 11:03 PM
To: users at gecode.org
Subject: [gecode-users] Immediate search failure

 

What are the possible reasons for an immediate search failure?  I've changed
something in my model, but I'm not sure what could be causing immediate
failures (using Gecode 2.2.0).  Setup code is below, and the output is at
the bottom.  This is solving a simple scheduling problem with a simple model
instance that I can solve by hand.  According to the debug statements, the
model should be feasible.  Or - maybe I've been looking at it for too
long...

Thanks,
-Joe

// CP Solver Engine
CPEngine::CPEngine( InstanceKeeper * pIK, unsigned long long min, unsigned
long long max ) : 
    vars( this, pIK->NumVars(), (int) min, (int) max ),  // instantiate
constraint vars
    latencies( this, pIK->NumLatencies()+1, 0, (int) 2 * max ),
    lin_cstr(this, 1,0,1),
/* not used in this model */
    sat_cstr(this, 1, 0, (int) pIK->GetNumLinearRelations() ),   /* not used
in this model */
    _pIK( pIK )
{
    // All equality constraints
    LinearRelation lrel;
    bool loop = pIK->GetNextEqualityPair( lrel, true );
    while (loop)
    {
        IntVarArgs v(2);
        v[0] = vars[lrel.xvar];
        v[1] = vars[lrel.yvar];
        IntArgs a(2);
        a[0] = 1; // 'x' of x = y + o
        a[1] = -1; // 'y' of x = y + o
        linear( this, a, v, IRT_EQ, lrel.offset );
        cout << "Posted equality relation (x,y) = (" << lrel.xvar << "," <<
lrel.yvar << ") w/ offset " << lrel.offset << std::endl;
        loop = pIK->GetNextEqualityPair( lrel );
    }

    // All inequality constraints
    loop = pIK->GetNextInequalityPair( lrel, true );
    while (loop)
    {
        IntVarArgs v(2);
        v[0] = vars[lrel.xvar];
        v[1] = vars[lrel.yvar];
        IntArgs a(2);
        a[0] = 1; // 'x' of x <= y + o
        a[1] = -1; // 'y' of x <= y + o
        linear( this, a, v, IRT_LQ, lrel.offset );
        cout << "Posted inequality relation (x,y) = (" << lrel.xvar << ","
<< lrel.yvar << ") w/ offset " << lrel.offset << std::endl;
        loop = pIK->GetNextInequalityPair( lrel );        
    }

    // All duration constraints
    DurativeVariable dv;
    loop = pIK->GetNextDuration( dv, true );
    while ( loop )
    {
        IntVarArgs v(1);
        v[0] = vars[dv.xvar];
        IntArgs a(1);
        a[0] = 1;
        linear( this, a, v, IRT_LQ, ((int)max) - dv.duration ); // don't run
over the end
        cout << "Posted duration relation (x) = (" << dv.xvar << ") w/
length " << dv.duration << std::endl;
        loop = pIK->GetNextDuration( dv );
    }

    // All serialization constraints
    int ser_count = 0;
    std::vector< DurativeVariable > vdv;
    loop = pIK->GetNextSerialization( vdv, true );
    while (loop) // && false)
    {
        IntVarArgs v( (int) vdv.size() );
        IntVarArgs e( (int) vdv.size() );
        IntArgs d( (int) vdv.size() );

        cout << "Serializing (x,d): ";
        for (unsigned int idx = 0; idx < vdv.size(); idx++ )
        {
            v[idx] = vars[vdv[idx].xvar];
            d[idx] = (int) vdv[idx].duration;
            e[idx].init(this,min,max);
            cout << "(" << vdv[idx].xvar << "," << vdv[idx].duration << "),
";
        }
        cout << endl;

        IntArgs height(v.size()), m(v.size());
        for ( int idx = v.size(); idx--; ) { height[idx] = 1; m[idx] = 0
/*ser_count*/; }
        cumulatives(this, m, v, d, e, height, 1, true );
        loop = pIK->GetNextSerialization( vdv );
        ser_count++;
    }

    // Instantiate latency variables here
    std::vector< LatencyBound > vlb;
    loop = pIK->GetNextLatencyBound( vlb, true );
    while ( loop )
    {

        std::vector< LatencyBound >::iterator pLB = vlb.begin();
        // First set up the range for the latency variables
        rel( this, latencies[pLB->latvar], IRT_GQ, 1 );
        rel( this, latencies[pLB->latvar], IRT_LQ, pLB->maxdist );

        cout << "Latency (l) = (" << pLB->latvar << ") alternatives: "; 

        // Then define the relationship between the instances
        // and the latencies
        int k = 0;
        BoolVarArgs bs(vlb.size());
        for ( pLB = vlb.begin(); pLB != vlb.end(); pLB++ )
        {
            BoolVar b(this,0,1);
            IntVarArgs v(2);
            v[0] = vars[pLB->rcvrvar];
            v[1] = vars[pLB->sendervar];
            IntArgs a(2);
            a[0] = 1; // 'x' of x = y + o
            a[1] = -1; // 'y' of x = y + o
            cout << "(s,r) = (" << pLB->sendervar << "," << pLB->rcvrvar <<
") ";
            linear( this, a, v, IRT_EQ, latencies[pLB->latvar], b );
            bs[k++] = b;
        }
        cout << endl;
        linear( this, bs, IRT_GR, 0 ); // Force at least one of the
constraints in this collection to be true

        loop = pIK->GetNextLatencyBound( vlb );
    }

    // Dummy latency in case there are no latencies in the spec!
    // We have to branch on something!
    rel( this, latencies[pIK->NumLatencies()], IRT_GQ, 1 );
    rel( this, latencies[pIK->NumLatencies()], IRT_LQ, 1 );
    cout << "Dummy latency (==1)" << endl;

    // Do branching
    branch(this, vars, INT_VAR_REGRET_MAX_MAX, INT_VAL_MED);
    branch(this, latencies, INT_VAR_SIZE_MIN, INT_VAL_MAX ); // start with
max latency and work down
}

Domain size: 100000
Posted equality relation (x,y) = (0,1) w/ offset -20000
Posted equality relation (x,y) = (1,2) w/ offset -20000
Posted equality relation (x,y) = (2,3) w/ offset -20000
Posted equality relation (x,y) = (3,4) w/ offset -20000
Posted duration relation (x) = (4) w/ length 19 (0,max-19)
Posted duration relation (x) = (5) w/ length 57 (0, max-57)
Serializing (x,d): (0,19), (1,19), (2,19), (3,19), (4,19),
Dummy latency (==1)
Stats: Search Stats

Initial
        propagators:   4294967295
        branchings:    4294967295

Summary
        propagations:  0
        failures:      1
        clones:        0
        commits:       0
        peak memory:   5 KB

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20090429/70c94ee1/attachment.htm>

