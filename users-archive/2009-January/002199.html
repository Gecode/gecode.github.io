<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Value intersection problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Value%20intersection%20problem&In-Reply-To=%3C497E1AD5.6000404%40itu.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002194.html">
   <LINK REL="Next"  HREF="002193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Value intersection problem</H1>
    <B>Morten Boysen</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Value%20intersection%20problem&In-Reply-To=%3C497E1AD5.6000404%40itu.dk%3E"
       TITLE="[gecode-users] Value intersection problem">boysen at itu.dk
       </A><BR>
    <I>Mon Jan 26 21:19:33 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002194.html">[gecode-users] Value intersection problem
</A></li>
        <LI>Next message: <A HREF="002193.html">[gecode-users] Two questions about finite set variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2199">[ date ]</a>
              <a href="thread.html#2199">[ thread ]</a>
              <a href="subject.html#2199">[ subject ]</a>
              <a href="author.html#2199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Christian

Thank you very much for clarifying that for me. I think what confused 
me, is that the documentation on MedEvent, seen here 
<A HREF="http://www.gecode.org/gecode-doc-latest/group__TaskVarMEPC.html#gfa985ae465bd12df08e29252cdb7519b,">http://www.gecode.org/gecode-doc-latest/group__TaskVarMEPC.html#gfa985ae465bd12df08e29252cdb7519b,</A> 
only mentions Gecode::ME_GEN_FAILED, Gecode::ME_GEN_NONE and 
Gecode::ME_GEN_ASSIGNED.

Kind regards
Morten Boysen

Christian Schulte skrev:
&gt;<i> Dear Morten,
</I>&gt;<i> 
</I>&gt;<i> thanks for reposting!
</I>&gt;<i> 
</I>&gt;<i> The ModEvent depends not only on size but on the type of domain: a
</I>&gt;<i> modification event is meant to capture how a domain changes. So for
</I>&gt;<i> integers:
</I>&gt;<i>  - If the domain has size &gt; 1 and turns to size 1, you get ME_INT_VAL
</I>&gt;<i>  - If the domain has size &gt; 1 and turns to size &gt; 1 and either the min or
</I>&gt;<i> max change you get ME_INT_BND
</I>&gt;<i>  - Otherwise, you get ME_INT_DOM (some inner values got removed).
</I>&gt;<i> 
</I>&gt;<i> As you see, this depends on the variable type. You can always assume that
</I>&gt;<i> the value for modification event triggered on assignment equals
</I>&gt;<i> ME_GEN_ASSIGNED (that is, ME_INT_VAL == ME_GEN_ASSIGNED).
</I>&gt;<i> 
</I>&gt;<i> Hope that helps
</I>&gt;<i> Christian
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Christian Schulte, www.ict.kth.se/~cschulte/
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Morten Boysen [mailto:<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">boysen at itu.dk</A>] 
</I>&gt;<i> Sent: Sunday, January 25, 2009 10:57 PM
</I>&gt;<i> To: Christian Schulte
</I>&gt;<i> Cc: 'Anden blah'; <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;<i> Subject: Re: [gecode-users] Value intersection problem
</I>&gt;<i> 
</I>&gt;<i> Hi Christian
</I>&gt;<i> 
</I>&gt;<i> Below is my reply, which I have changed a little bit since the original 
</I>&gt;<i> reply was badly worded on my part:
</I>&gt;<i> 
</I>&gt;<i> The values were not sorted. We sorted the values before using them with
</I>&gt;<i> inter_v and &#237;t solved the problem.  :-)
</I>&gt;<i> 
</I>&gt;<i> I have a small follow-up question regarding advisors:
</I>&gt;<i> 
</I>&gt;<i> We use a series of advisors to schedule the propagator, but we are
</I>&gt;<i> uncertain on what ModEvent is used, if the domain becomes smaller, but 
</I>&gt;<i> is still larger than 1? That is, if the domain is reduced to size 1, the 
</I>&gt;<i> ModEvent is ME_GEN_ASSIGNED, but wha ModEvent is used if the size is 
</I>&gt;<i> decreased from e.g. 4 to 3?
</I>&gt;<i> 
</I>&gt;<i> Kind regards
</I>&gt;<i> Morten
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Christian Schulte skrev:
</I>&gt;&gt;<i> Sorry, guys: somebody answered that email but somehow I must have 
</I>&gt;&gt;<i> deleted that&#8230; Could that person please resend the message. Thanks a bunch!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sorry again from an idiot who cannot handle his mail client
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Christian
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Christian Schulte, www.it.kth.se/~cschulte/
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *From:* <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A> [mailto:<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A>] *On 
</I>&gt;&gt;<i> Behalf Of *Christian Schulte
</I>&gt;&gt;<i> *Sent:* Friday, January 23, 2009 5:05 PM
</I>&gt;&gt;<i> *To:* 'Anden blah'; <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;&gt;<i> *Subject:* Re: [gecode-users] Value intersection problem
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Are the values sorted? They must be even though the documentation 
</I>&gt;&gt;<i> doesn&#8217;t say it (damn).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Christian
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Christian Schulte, www.it.kth.se/~cschulte/
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *From:* <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A> [mailto:<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A>] *On 
</I>&gt;&gt;<i> Behalf Of *Anden blah
</I>&gt;&gt;<i> *Sent:* Friday, January 23, 2009 4:44 PM
</I>&gt;&gt;<i> *To:* <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;&gt;<i> *Subject:* [gecode-users] Value intersection problem
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am trying to restrict the values of an IntView by doing the following:
</I>&gt;&gt;<i> ...(values is given as parameter for the method containing this code, 
</I>&gt;&gt;<i> the type is  const set&lt;string&gt;&amp; )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     vector&lt;string&gt; v; 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     for(set&lt;string&gt;::const_iterator setIt = values.begin(); setIt!= 
</I>&gt;&gt;<i> values.end(); setIt++)
</I>&gt;&gt;<i>     {
</I>&gt;&gt;<i>       v.push_back(*setIt);
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>     GECODE_AUTOARRAY(int,restrictedDoms,v.size());
</I>&gt;&gt;<i>     for(int i=0;i&lt;v.size();i++)
</I>&gt;&gt;<i>     {
</I>&gt;&gt;<i>       restrictedDoms[i] = atoi(v[i].c_str());
</I>&gt;&gt;<i>     }
</I>&gt;&gt;<i>     Gecode::Iter::Values::Array restrictIterator(restrictedDoms,
</I>&gt;<i> v.size());
</I>&gt;&gt;<i>     return iv.inter_v(homeFZ, restrictIterator, false);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ---
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I can inspect the code and see that the values contained in 
</I>&gt;&gt;<i> &quot;restrictedDoms&quot; are the values 1 to 10. Furthermore I can see that 
</I>&gt;&gt;<i> iv.size() is 10 (values 1 to 10) before the call to inter_v (and 
</I>&gt;&gt;<i> unassigned of course). Then after the call to inter_v, iv is assigned, 
</I>&gt;&gt;<i> and I can see that the value it is assigned to is the first value in the 
</I>&gt;&gt;<i> restrictedDoms array.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So what am I doing wrong?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Andreas
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> p.s.  Of course it is useless to intersect a variable with domain 1 to 
</I>&gt;&gt;<i> 10 with the values 1 to 10, but still the behavior is unexpected.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What can you do with the new Windows Live? Find out 
</I>&gt;&gt;<i> &lt;<A HREF="http://www.microsoft.com/windows/windowslive/default.aspx">http://www.microsoft.com/windows/windowslive/default.aspx</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Gecode users mailing list
</I>&gt;&gt;<i> <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;&gt;<i> <A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002194.html">[gecode-users] Value intersection problem
</A></li>
	<LI>Next message: <A HREF="002193.html">[gecode-users] Two questions about finite set variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2199">[ date ]</a>
              <a href="thread.html#2199">[ thread ]</a>
              <a href="subject.html#2199">[ subject ]</a>
              <a href="author.html#2199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
