From cschulte at kth.se  Mon Nov  2 11:14:45 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 2 Nov 2009 11:14:45 +0100
Subject: [gecode-users] Using Gecode for benchmarking
Message-ID: <001501ca5ba5$4d579f80$e806de80$@se>

Dear all,

Over the years Gecode has become a popular platform for conducting
experiments and benchmarks. We of course encourage you to use Gecode for
benchmarking, regardless of whether Gecode shines or sucks at a certain
task.

However, we kindly ask to take the following suggestions into account:

Always use the latest version of Gecode (it is pretty pointless to use a
three year old version and then draw conclusions about the state of the
art).

Use a binary package created by us or compile Gecode with its default
settings. For example, measurements with compiler optimizations switched off
do not make any statement about Gecode. This is like assessing the top-speed
of a Porsche with flat tires and handbrake on.

If you compare models among different constraint programming systems, make
sure that you compare apples with apples. The following paper discusses
common pitfalls: http://www.springerlink.com/content/gn1h43w83721m667/

Then, if you are unsure and see behavior that is difficult to explain, just
ask us! We are always willing to help.

All the best
Christian


--
Christian Schulte, www.ict.kth.se/~cschulte/






From benoitlaurent at neuf.fr  Mon Nov  2 17:05:09 2009
From: benoitlaurent at neuf.fr (benoit)
Date: Mon, 02 Nov 2009 17:05:09 +0100
Subject: [gecode-users] Memory consumption - element constraint
Message-ID: <4AEF0335.3080901@neuf.fr>

Hello,

I came across a problem of high memory consumption with the element 
constraints. According to this message 
(http://www.gecode.org/gecode-users/2009-February/002828.html), it would 
come from the large size of the employed arrays.

In my case, the array represents a directed multigraph. It stores the 
values hold by the arcs. These values are a priori computed, stored in a 
variable of type IntArgs and retrieved during execution. Here comes the 
problem of size.

A possible solution would consist in computing the needed values during 
execution. However, this calculation can be a bit complex and will 
require different temporary variables. I am afraid of producing a code 
difficult to maintain. Is there a better way of doing this ? Are there 
more appropriate structures ? (I should add that the considered 
multigraph is sparse).

Thanks in advance.

Beno?t



From cschulte at kth.se  Mon Nov  2 19:30:49 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 2 Nov 2009 19:30:49 +0100
Subject: [gecode-users] Memory consumption - element constraint
In-Reply-To: <4AEF0335.3080901@neuf.fr>
References: <4AEF0335.3080901@neuf.fr>
Message-ID: <000301ca5bea$9af283a0$d0d78ae0$@se>

Hi Benoit,

Maybe you want to tell us how large your graphs are? 

To give you an idea, we have been playing a little bit with some word
problems (brought to us by H?kan Kjellerstrand). Here, in the small examples
we tried, the arrays have around 70,000 elements and there are plenty of
these element constraints and everything is solved in around 8 Megabytes of
main memory. I think, H?kan even successfully tried examples with ten times
as many elements.

Or, to put it into perspective: solving these puzzles with the large element
constraints takes a small fraction of the time it takes a C++ compiler to
compile the source code containing the word lists for the element
constraints as string constants...

Best
Christian

PS: Of course, the arrays for element constraints are never copied, they are
shared among copies!

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of benoit
Sent: Monday, November 02, 2009 5:05 PM
To: users at gecode.org
Subject: [gecode-users] Memory consumption - element constraint

Hello,

I came across a problem of high memory consumption with the element 
constraints. According to this message 
(http://www.gecode.org/gecode-users/2009-February/002828.html), it would 
come from the large size of the employed arrays.

In my case, the array represents a directed multigraph. It stores the 
values hold by the arcs. These values are a priori computed, stored in a 
variable of type IntArgs and retrieved during execution. Here comes the 
problem of size.

A possible solution would consist in computing the needed values during 
execution. However, this calculation can be a bit complex and will 
require different temporary variables. I am afraid of producing a code 
difficult to maintain. Is there a better way of doing this ? Are there 
more appropriate structures ? (I should add that the considered 
multigraph is sparse).

Thanks in advance.

Beno?t

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users




From benoitlaurent at neuf.fr  Mon Nov  2 21:54:04 2009
From: benoitlaurent at neuf.fr (benoit)
Date: Mon, 02 Nov 2009 21:54:04 +0100
Subject: [gecode-users] Memory consumption - element constraint
In-Reply-To: <000301ca5bea$9af283a0$d0d78ae0$@se>
References: <4AEF0335.3080901@neuf.fr> <000301ca5bea$9af283a0$d0d78ae0$@se>
Message-ID: <4AEF46EC.5060300@neuf.fr>

Hello,
> Hi Benoit,
>
> Maybe you want to tell us how large your graphs are? 
>   
The largest one encountered so far only contains 310 nodes. Each arcs is 
duplicated 5 times. The density is approximatively 5%.
> To give you an idea, we have been playing a little bit with some word
> problems (brought to us by H?kan Kjellerstrand). Here, in the small examples
> we tried, the arrays have around 70,000 elements and there are plenty of
> these element constraints and everything is solved in around 8 Megabytes of
> main memory. I think, H?kan even successfully tried examples with ten times
> as many elements.
>   
Ok. In my case, the figures are far below. The problem must come from my 
implementation. I shall have a look on H?kan's page.
> Or, to put it into perspective: solving these puzzles with the large element
> constraints takes a small fraction of the time it takes a C++ compiler to
> compile the source code containing the word lists for the element
> constraints as string constants...
>   
Ok.

Thank you for your answer and more generally for the excellent work 
accomplished in Gecode.

Regards,

Beno?t




From cschulte at kth.se  Mon Nov  2 22:02:20 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 2 Nov 2009 22:02:20 +0100
Subject: [gecode-users] Memory consumption - element constraint
In-Reply-To: <4AEF46EC.5060300@neuf.fr>
References: <4AEF0335.3080901@neuf.fr> <000301ca5bea$9af283a0$d0d78ae0$@se>
	<4AEF46EC.5060300@neuf.fr>
Message-ID: <000f01ca5bff$c51f6e80$4f5e4b80$@se>

Oh, there is another quirk too watch out and that is on my todo list:
Suppose you post many, many element constraints each of which uses exactly
the same integer array. Then for each element constraint posted a new array
is created (not for each copied, but for each posted). What is in principle
possible is to first create something that is called a SharedArray (which is
not yet exposed on the modeling layer but is used inside the implementation
of element) and post the element constraint with this shared array instead.
Then the array will exist only once in memory.

However, this you can only see if you post several thousands of element
constraints.

Anyway, shared arrays will be exposed on the modeling layer in 3.2.1 which
will be available shortly.

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of benoit
Sent: Monday, November 02, 2009 9:54 PM
To: Christian Schulte
Cc: users at gecode.org
Subject: Re: [gecode-users] Memory consumption - element constraint

Hello,
> Hi Benoit,
>
> Maybe you want to tell us how large your graphs are? 
>   
The largest one encountered so far only contains 310 nodes. Each arcs is 
duplicated 5 times. The density is approximatively 5%.
> To give you an idea, we have been playing a little bit with some word
> problems (brought to us by H?kan Kjellerstrand). Here, in the small
examples
> we tried, the arrays have around 70,000 elements and there are plenty of
> these element constraints and everything is solved in around 8 Megabytes
of
> main memory. I think, H?kan even successfully tried examples with ten
times
> as many elements.
>   
Ok. In my case, the figures are far below. The problem must come from my 
implementation. I shall have a look on H?kan's page.
> Or, to put it into perspective: solving these puzzles with the large
element
> constraints takes a small fraction of the time it takes a C++ compiler to
> compile the source code containing the word lists for the element
> constraints as string constants...
>   
Ok.

Thank you for your answer and more generally for the excellent work 
accomplished in Gecode.

Regards,

Beno?t


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users




From benoitlaurent at neuf.fr  Mon Nov  2 22:25:31 2009
From: benoitlaurent at neuf.fr (benoit)
Date: Mon, 02 Nov 2009 22:25:31 +0100
Subject: [gecode-users] Memory consumption - element constraint
In-Reply-To: <000f01ca5bff$c51f6e80$4f5e4b80$@se>
References: <4AEF0335.3080901@neuf.fr> <000301ca5bea$9af283a0$d0d78ae0$@se>
	<4AEF46EC.5060300@neuf.fr> <000f01ca5bff$c51f6e80$4f5e4b80$@se>
Message-ID: <4AEF4E4B.8050202@neuf.fr>

Christian Schulte a ?crit :
> Oh, there is another quirk too watch out and that is on my todo list:
> Suppose you post many, many element constraints each of which uses exactly
> the same integer array. Then for each element constraint posted a new array
> is created (not for each copied, but for each posted). 
This is exactly my case.
> What is in principle
> possible is to first create something that is called a SharedArray (which is
> not yet exposed on the modeling layer but is used inside the implementation
> of element) and post the element constraint with this shared array instead.
> Then the array will exist only once in memory.
>
> However, this you can only see if you post several thousands of element
> constraints.
>   
I post two element constraints for each node of the graph (total : 620).

To be precise, I do not observe an overflow but only a high memory 
usage. I was a bit worried because I wished to add similar constraints.
> Anyway, shared arrays will be exposed on the modeling layer in 3.2.1 which
> will be available shortly.
>   
For the moment, I can circumvent the problem. I will wait for the new 
release.

Regards,

Beno?t




From cschulte at kth.se  Mon Nov  2 22:29:30 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 2 Nov 2009 22:29:30 +0100
Subject: [gecode-users] Memory consumption - element constraint
In-Reply-To: <4AEF4E4B.8050202@neuf.fr>
References: <4AEF0335.3080901@neuf.fr> <000301ca5bea$9af283a0$d0d78ae0$@se>
	<4AEF46EC.5060300@neuf.fr> <000f01ca5bff$c51f6e80$4f5e4b80$@se>
	<4AEF4E4B.8050202@neuf.fr>
Message-ID: <002301ca5c03$90a3c670$b1eb5350$@se>

No that's unlikely to be the reason: 1240 element constraints with 600
elements each is nothing (that should be less than 2-3MEG of mem). How much
memory do you need?

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: benoit [mailto:benoitlaurent at neuf.fr] 
Sent: Monday, November 02, 2009 10:26 PM
To: Christian Schulte
Cc: users at gecode.org
Subject: Re: [gecode-users] Memory consumption - element constraint

Christian Schulte a ?crit :
> Oh, there is another quirk too watch out and that is on my todo list:
> Suppose you post many, many element constraints each of which uses exactly
> the same integer array. Then for each element constraint posted a new
array
> is created (not for each copied, but for each posted). 
This is exactly my case.
> What is in principle
> possible is to first create something that is called a SharedArray (which
is
> not yet exposed on the modeling layer but is used inside the
implementation
> of element) and post the element constraint with this shared array
instead.
> Then the array will exist only once in memory.
>
> However, this you can only see if you post several thousands of element
> constraints.
>   
I post two element constraints for each node of the graph (total : 620).

To be precise, I do not observe an overflow but only a high memory 
usage. I was a bit worried because I wished to add similar constraints.
> Anyway, shared arrays will be exposed on the modeling layer in 3.2.1 which
> will be available shortly.
>   
For the moment, I can circumvent the problem. I will wait for the new 
release.

Regards,

Beno?t





From benoitlaurent at neuf.fr  Mon Nov  2 23:11:00 2009
From: benoitlaurent at neuf.fr (benoit)
Date: Mon, 02 Nov 2009 23:11:00 +0100
Subject: [gecode-users] Memory consumption - element constraint
In-Reply-To: <002301ca5c03$90a3c670$b1eb5350$@se>
References: <4AEF0335.3080901@neuf.fr> <000301ca5bea$9af283a0$d0d78ae0$@se>
	<4AEF46EC.5060300@neuf.fr> <000f01ca5bff$c51f6e80$4f5e4b80$@se>
	<4AEF4E4B.8050202@neuf.fr> <002301ca5c03$90a3c670$b1eb5350$@se>
Message-ID: <4AEF58F4.3050804@neuf.fr>

Christian Schulte a ?crit :
> No that's unlikely to be the reason: 1240 element constraints with 600
> elements each is nothing (that should be less than 2-3MEG of mem). How much
> memory do you need?
>   
900 MB. The problem must lies elsewhere.

Tomorrow, I will try to isolate a piece of code that reproduces the problem.

Regards,

Beno?t

PS : I am impressed by your reactivity.

 




From serge.lemouton at ircam.fr  Tue Nov  3 01:07:51 2009
From: serge.lemouton at ircam.fr (serge lemouton)
Date: Tue, 3 Nov 2009 01:07:51 +0100
Subject: [gecode-users] version 3.2: problem compiling examples in Xcode
In-Reply-To: <a6b4b44a0910300532n20f5ef1ft6c5ae5be319bf60a@mail.gmail.com>
References: <5784E9FA-7021-4E29-B1FF-C08AC8827FE2@ircam.fr>
	<E25B4695-D9B6-40FA-ACC4-A95FD4681B43@ps.uni-sb.de>
	<a6b4b44a0910300152t715740adk2dc789e30ebaf60f@mail.gmail.com>
	<E02DA59F-80F7-4B56-BA5E-4C167863107A@ircam.fr>
	<a6b4b44a0910300532n20f5ef1ft6c5ae5be319bf60a@mail.gmail.com>
Message-ID: <EB407361-2624-4EC3-BBAF-67AC25E400FC@ircam.fr>

Hello,

I still have troubles with the framework installed with Gecode 3.2.0.  
(Mac OS 10.5.8)
For an example, when I use the following command line to compile the  
hamming example
g++-4.2  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 -fno- 
strict-aliasing -finline-limit=3000 -ffast-math -framework gecode -o  
examples/hamming  examples/hamming.cpp

when I launch the example I always get this 2 errors :

-------------
dyld: lazy symbol binding failed: Symbol not found:  
__ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/ 
gecode
   Expected in: /usr/lib/libstdc++.6.dylib

dyld: Symbol not found:  
__ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/ 
gecode
   Expected in: /usr/lib/libstdc++.6.dylib

Trace/BPT trap
-------------

If it runs well for you, Mauricio, what can be wrong in my setup ?

Serge

On 30 oct. 09, at 13:32, Mauricio Toro wrote:

> I am using the framework.
> I compile like this
>
> g++  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 -fno- 
> strict-aliasing -finline-limit=3000 -ffast-math    \
> 	 -o examples/anExample  examples/anExample.cpp -framework gecode
>
> Btw, I also tried with g++ 4.5; it also works, but it is slower.
>
> 2009/10/30 serge lemouton <serge.lemouton at ircam.fr>
> Hello Mauricio,
>
> It works also for me when compiling directly with gcc, but in this  
> case i guess that you are not linking your object with "-framework  
> gecode", but rather with the dynamic libraries (-lgecodekernel,  
> etc ...)
> Right ?
>
> Serge
>
> On 30 oct. 09, at 09:52, Mauricio Toro wrote:
>
>> Hello,
>>
>> I am using Mac OS X 10.5.8, the Gecode 3.2.0 framework and gcc 4.2  
>> and it works perfectly.
>> Perhaps there is a problem when using Xcode; I am compiling without  
>> Xcode.
>>
>> 2009/10/30 Guido Tack <tack at ps.uni-sb.de>
>> serge lemouton wrote:
>> > I am on MacOs X (10.5.8) and using Xcode.
>> > When the examples are compiled (with gcc 4.2) and linked against  
>> the
>> > gecode framework, I get the following error:
>> >
>> > dyld: lazy symbol binding failed: Symbol not found:
>> >  
>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>> >   Referenced from: /Library/Frameworks/gecode.framework/Versions/ 
>> 18/
>> > gecode
>> >   Expected in: /usr/lib/libstdc++.6.dylib
>> >
>> > If I switch back to the previous (3.1) gecode framework, it works
>> > perfectly ...
>> > What's new there ?
>>
>> The 3.2.0 binaries have been built on Mac OS 10.6.  I thought it
>> should be backwards-compatible, but maybe it isn't.  When exactly did
>> you download the package?  I uploaded a new 3.2.0 package yesterday
>> afternoon, it would be interesting to know whether you got the new
>> package or the old one (another way to find out is to see whether the
>> command
>> file /Library/Frameworks/gecode.framework/gecode
>> reports x86_64 as an architecture - if yes, it's the new package).
>>
>> Cheers,
>>        Guido
>>
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>>
>>
>>
>> -- 
>> Mauricio TORO BERMUDEZ
>>
>> Research Postgraduate Student (Ph.D)
>> Computer Science Research Laboratory of Bordeaux (LABRI)
>> University of Bordeaux 1: Science and Technology
>>
>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>
>> 351, cours de la Lib?ration
>> F-33405 Talence Cedex. France.
>> Phone: (+33) 5 4000 24 85
>> Fax: (+33) 5 4000 66 69
>>
>> Please don't print this e-mail unless you really need to.
>>
>
>
>
>
> -- 
> Mauricio TORO BERMUDEZ
>
> Research Postgraduate Student (Ph.D)
> Computer Science Research Laboratory of Bordeaux (LABRI)
> University of Bordeaux 1: Science and Technology
>
> http://cic.javerianacali.edu.co/~mauriciotoro/
>
> 351, cours de la Lib?ration
> F-33405 Talence Cedex. France.
> Phone: (+33) 5 4000 24 85
> Fax: (+33) 5 4000 66 69
>
> Please don't print this e-mail unless you really need to.
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091103/1616197c/attachment.htm>

From christian.drescher at nicta.com.au  Tue Nov  3 05:29:33 2009
From: christian.drescher at nicta.com.au (Christian Drescher)
Date: Tue, 03 Nov 2009 15:29:33 +1100
Subject: [gecode-users] Modelling Conditions on Latin Squares
In-Reply-To: <001701ca5937$d854a620$88fdf260$@se>
References: <1256872651.3595.34.camel@vostro.di.fct.unl.pt>
	<001701ca5937$d854a620$88fdf260$@se>
Message-ID: <1257222573.9449.26.camel@vostro.di.fct.unl.pt>

Thank you for the help!

Also, the element constraint expects Matrix<IntVarArgs>, not
Matrix<IntVarArray>.

Best,
Christian


On Fri, 2009-10-30 at 09:06 +0100, Christian Schulte wrote:
> I guess the problem is that element over matrices expects variables as
> arguments and not integers. So instead of:
> 	element(home, mat, mat(i,j), mat(j,i), i)
> You have to create an integer variable that is equal to i and use that as
> last argument, such as:
> 	element(home, mat, mat(i,j), mat(j,i), IntVar(home,i,i))
> 
> Cheers
> Christian
> 
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
> 
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of Christian Drescher
> Sent: Friday, October 30, 2009 4:18 AM
> To: users at gecode.org
> Subject: [gecode-users] Modelling Conditions on Latin Squares
> 
> Dear Subscribers,
> 
> I try to model an algebraic problem. In fact, I try to determine the
> existence of Latin Squares with certain properties. Hence, my model
> contains a Matrix of IntVar:
> 
>   Matrix<IntVarArray> mat(l, n, n);
> 
> The constraint I want to post is that for all i,j in Q:
> 
>   (i*j) * (j*i) == i
> 
> or rather
> 
>   mat(mat(i,j),mat(j,i)) == i
> 
> I tried two different approaches, but gecode's library doesn't support
> the following:
> 
>   // this doesn't work
>   post(home, mat(mat(i,j),mat(j,i)) == i);
> 
>   // this neither
>   element(home, mat, mat(i,j), mat(j,i), i);
> 
> How do I model the constraint correctly?
> 
> Best,
> Christian
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
> 




From tack at ps.uni-sb.de  Tue Nov  3 10:30:24 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Tue, 3 Nov 2009 10:30:24 +0100
Subject: [gecode-users] version 3.2: problem compiling examples in Xcode
In-Reply-To: <EB407361-2624-4EC3-BBAF-67AC25E400FC@ircam.fr>
References: <5784E9FA-7021-4E29-B1FF-C08AC8827FE2@ircam.fr>
	<E25B4695-D9B6-40FA-ACC4-A95FD4681B43@ps.uni-sb.de>
	<a6b4b44a0910300152t715740adk2dc789e30ebaf60f@mail.gmail.com>
	<E02DA59F-80F7-4B56-BA5E-4C167863107A@ircam.fr>
	<a6b4b44a0910300532n20f5ef1ft6c5ae5be319bf60a@mail.gmail.com>
	<EB407361-2624-4EC3-BBAF-67AC25E400FC@ircam.fr>
Message-ID: <84816B06-E2FA-4AED-B02B-02B53C28ADB6@ps.uni-sb.de>

Hi Serge,

apparently Apple has changed the libstdc++ in Snow Leopard.  I've  
built a new package, linked against the 10.5 SDK.  It's available here:

http://www.ps.uni-sb.de/~tack/Gecode-3.2.0.dmg

I would be grateful if you could test it and let me know if it works  
for you!  If it does work, I'll put it up on our download page.

Mauricio: It's strange that the binary framework works for you on  
10.5.8.  Could you please let me know which version of libstdc++ you  
have (i.e., the ? in /usr/lib/libstdc++.6.0.?.dylib)?

Cheers,
	Guido

serge lemouton wrote:

> Hello,
>
> I still have troubles with the framework installed with Gecode  
> 3.2.0. (Mac OS 10.5.8)
> For an example, when I use the following command line to compile the  
> hamming example
> g++-4.2  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 -fno- 
> strict-aliasing -finline-limit=3000 -ffast-math -framework gecode -o  
> examples/hamming  examples/hamming.cpp
>
> when I launch the example I always get this 2 errors :
>
> -------------
> dyld: lazy symbol binding failed: Symbol not found:  
> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/ 
> gecode
>   Expected in: /usr/lib/libstdc++.6.dylib
>
> dyld: Symbol not found:  
> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/ 
> gecode
>   Expected in: /usr/lib/libstdc++.6.dylib
>
> Trace/BPT trap
> -------------
>
> If it runs well for you, Mauricio, what can be wrong in my setup ?
>
> Serge
>
> On 30 oct. 09, at 13:32, Mauricio Toro wrote:
>
>> I am using the framework.
>> I compile like this
>>
>> g++  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 -fno- 
>> strict-aliasing -finline-limit=3000 -ffast-math    \
>> 	 -o examples/anExample  examples/anExample.cpp -framework gecode
>>
>> Btw, I also tried with g++ 4.5; it also works, but it is slower.
>>
>> 2009/10/30 serge lemouton <serge.lemouton at ircam.fr>
>> Hello Mauricio,
>>
>> It works also for me when compiling directly with gcc, but in this  
>> case i guess that you are not linking your object with "-framework  
>> gecode", but rather with the dynamic libraries (-lgecodekernel,  
>> etc ...)
>> Right ?
>>
>> Serge
>>
>> On 30 oct. 09, at 09:52, Mauricio Toro wrote:
>>
>>> Hello,
>>>
>>> I am using Mac OS X 10.5.8, the Gecode 3.2.0 framework and gcc 4.2  
>>> and it works perfectly.
>>> Perhaps there is a problem when using Xcode; I am compiling  
>>> without Xcode.
>>>
>>> 2009/10/30 Guido Tack <tack at ps.uni-sb.de>
>>> serge lemouton wrote:
>>> > I am on MacOs X (10.5.8) and using Xcode.
>>> > When the examples are compiled (with gcc 4.2) and linked against  
>>> the
>>> > gecode framework, I get the following error:
>>> >
>>> > dyld: lazy symbol binding failed: Symbol not found:
>>> >  
>>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>> >   Referenced from: /Library/Frameworks/gecode.framework/Versions/ 
>>> 18/
>>> > gecode
>>> >   Expected in: /usr/lib/libstdc++.6.dylib
>>> >
>>> > If I switch back to the previous (3.1) gecode framework, it works
>>> > perfectly ...
>>> > What's new there ?
>>>
>>> The 3.2.0 binaries have been built on Mac OS 10.6.  I thought it
>>> should be backwards-compatible, but maybe it isn't.  When exactly  
>>> did
>>> you download the package?  I uploaded a new 3.2.0 package yesterday
>>> afternoon, it would be interesting to know whether you got the new
>>> package or the old one (another way to find out is to see whether  
>>> the
>>> command
>>> file /Library/Frameworks/gecode.framework/gecode
>>> reports x86_64 as an architecture - if yes, it's the new package).
>>>
>>> Cheers,
>>>        Guido
>>>
>>>
>>> _______________________________________________
>>> Gecode users mailing list
>>> users at gecode.org
>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>
>>>
>>>
>>> -- 
>>> Mauricio TORO BERMUDEZ
>>>
>>> Research Postgraduate Student (Ph.D)
>>> Computer Science Research Laboratory of Bordeaux (LABRI)
>>> University of Bordeaux 1: Science and Technology
>>>
>>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>>
>>> 351, cours de la Lib?ration
>>> F-33405 Talence Cedex. France.
>>> Phone: (+33) 5 4000 24 85
>>> Fax: (+33) 5 4000 66 69
>>>
>>> Please don't print this e-mail unless you really need to.
>>>
>>
>>
>>
>>
>> -- 
>> Mauricio TORO BERMUDEZ
>>
>> Research Postgraduate Student (Ph.D)
>> Computer Science Research Laboratory of Bordeaux (LABRI)
>> University of Bordeaux 1: Science and Technology
>>
>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>
>> 351, cours de la Lib?ration
>> F-33405 Talence Cedex. France.
>> Phone: (+33) 5 4000 24 85
>> Fax: (+33) 5 4000 66 69
>>
>> Please don't print this e-mail unless you really need to.
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091103/316d76aa/attachment.htm>

From mauriciotorob at gmail.com  Tue Nov  3 11:46:07 2009
From: mauriciotorob at gmail.com (Mauricio Toro)
Date: Tue, 3 Nov 2009 11:46:07 +0100
Subject: [gecode-users] version 3.2: problem compiling examples in Xcode
In-Reply-To: <84816B06-E2FA-4AED-B02B-02B53C28ADB6@ps.uni-sb.de>
References: <5784E9FA-7021-4E29-B1FF-C08AC8827FE2@ircam.fr>
	<E25B4695-D9B6-40FA-ACC4-A95FD4681B43@ps.uni-sb.de>
	<a6b4b44a0910300152t715740adk2dc789e30ebaf60f@mail.gmail.com>
	<E02DA59F-80F7-4B56-BA5E-4C167863107A@ircam.fr>
	<a6b4b44a0910300532n20f5ef1ft6c5ae5be319bf60a@mail.gmail.com>
	<EB407361-2624-4EC3-BBAF-67AC25E400FC@ircam.fr>
	<84816B06-E2FA-4AED-B02B-02B53C28ADB6@ps.uni-sb.de>
Message-ID: <a6b4b44a0911030246l3f7cefefv189459582bd30d63@mail.gmail.com>

I have the libstdc++.6.0.4

btw, recently I also installed gcc-4.5. Although I am using gcc 4.2,
I don't know gcc-4.5 that updated libstdc.

cheers,

Mauricio

2009/11/3 Guido Tack <tack at ps.uni-sb.de>

> Hi Serge,
>
> apparently Apple has changed the libstdc++ in Snow Leopard.  I've built a
> new package, linked against the 10.5 SDK.  It's available here:
>
> http://www.ps.uni-sb.de/~tack/Gecode-3.2.0.dmg
>
> I would be grateful if you could test it and let me know if it works for
> you!  If it does work, I'll put it up on our download page.
>
> Mauricio: It's strange that the binary framework works for you on 10.5.8.
>  Could you please let me know which version of libstdc++ you have (i.e., the
> ? in /usr/lib/libstdc++.6.0.?.dylib)?
>
> Cheers,
> Guido
>
> serge lemouton wrote:
>
> Hello,
>
> I still have troubles with the framework installed with Gecode 3.2.0. (Mac
> OS 10.5.8)
> For an example, when I use the following command line to compile the
> hamming example
> g++-4.2  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3
> -fno-strict-aliasing -finline-limit=3000 -ffast-math -framework gecode -o
> examples/hamming  examples/hamming.cpp
>
> when I launch the example I always get this 2 errors :
>
> -------------
> dyld: lazy symbol binding failed: Symbol not found:
> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/gecode
>   Expected in: /usr/lib/libstdc++.6.dylib
>
> dyld: Symbol not found:
> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/gecode
>   Expected in: /usr/lib/libstdc++.6.dylib
>
> Trace/BPT trap
> -------------
>
> If it runs well for you, Mauricio, what can be wrong in my setup ?
>
> Serge
>
> On 30 oct. 09, at 13:32, Mauricio Toro wrote:
>
> I am using the framework.
> I compile like this
>
> g++  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3
> -fno-strict-aliasing -finline-limit=3000 -ffast-math    \
>  -o examples/anExample  examples/anExample.cpp -framework gecode
>
> Btw, I also tried with g++ 4.5; it also works, but it is slower.
>
> 2009/10/30 serge lemouton <serge.lemouton at ircam.fr>
>
>> Hello Mauricio,
>>
>> It works also for me when compiling directly with gcc, but in this case i
>> guess that you are not linking your object with "-framework gecode", but
>> rather with the dynamic libraries (-lgecodekernel, etc ...)
>> Right ?
>>
>> Serge
>>
>> On 30 oct. 09, at 09:52, Mauricio Toro wrote:
>>
>> Hello,
>>
>> I am using Mac OS X 10.5.8, the Gecode 3.2.0 framework and gcc 4.2 and it
>> works perfectly.
>> Perhaps there is a problem when using Xcode; I am compiling without Xcode.
>>
>> 2009/10/30 Guido Tack <tack at ps.uni-sb.de>
>>
>>> serge lemouton wrote:
>>> > I am on MacOs X (10.5.8) and using Xcode.
>>> > When the examples are compiled (with gcc 4.2) and linked against the
>>> > gecode framework, I get the following error:
>>> >
>>> > dyld: lazy symbol binding failed: Symbol not found:
>>> >
>>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>> >   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/
>>> > gecode
>>> >   Expected in: /usr/lib/libstdc++.6.dylib
>>> >
>>> > If I switch back to the previous (3.1) gecode framework, it works
>>> > perfectly ...
>>> > What's new there ?
>>>
>>> The 3.2.0 binaries have been built on Mac OS 10.6.  I thought it
>>> should be backwards-compatible, but maybe it isn't.  When exactly did
>>> you download the package?  I uploaded a new 3.2.0 package yesterday
>>> afternoon, it would be interesting to know whether you got the new
>>> package or the old one (another way to find out is to see whether the
>>> command
>>> file /Library/Frameworks/gecode.framework/gecode
>>> reports x86_64 as an architecture - if yes, it's the new package).
>>>
>>> Cheers,
>>>         Guido
>>>
>>>
>>> _______________________________________________
>>> Gecode users mailing list
>>> users at gecode.org
>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>
>>
>>
>>
>> --
>> Mauricio TORO BERMUDEZ
>>
>> Research Postgraduate Student (Ph.D)
>> Computer Science Research Laboratory of Bordeaux (LABRI)
>> University of Bordeaux 1: Science and Technology
>>
>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>
>> 351, cours de la Lib?ration
>> F-33405 Talence Cedex. France.
>> Phone: (+33) 5 4000 24 85
>> Fax: (+33) 5 4000 66 69
>>
>> Please don't print this e-mail unless you really need to.
>>
>>
>>
>
>
> --
> Mauricio TORO BERMUDEZ
>
> Research Postgraduate Student (Ph.D)
> Computer Science Research Laboratory of Bordeaux (LABRI)
> University of Bordeaux 1: Science and Technology
>
> http://cic.javerianacali.edu.co/~mauriciotoro/
>
> 351, cours de la Lib?ration
> F-33405 Talence Cedex. France.
> Phone: (+33) 5 4000 24 85
> Fax: (+33) 5 4000 66 69
>
> Please don't print this e-mail unless you really need to.
>
>
>
>


-- 
Mauricio TORO BERMUDEZ

Research Postgraduate Student (Ph.D)
Computer Science Research Laboratory of Bordeaux (LABRI)
University of Bordeaux 1: Science and Technology

http://cic.javerianacali.edu.co/~mauriciotoro/

351, cours de la Lib?ration
F-33405 Talence Cedex. France.
Phone: (+33) 5 4000 24 85
Fax: (+33) 5 4000 66 69

Please don't print this e-mail unless you really need to.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091103/4d390d2c/attachment.htm>

From mauriciotorob at gmail.com  Tue Nov  3 11:47:03 2009
From: mauriciotorob at gmail.com (Mauricio Toro)
Date: Tue, 3 Nov 2009 11:47:03 +0100
Subject: [gecode-users] version 3.2: problem compiling examples in Xcode
In-Reply-To: <a6b4b44a0911030246l3f7cefefv189459582bd30d63@mail.gmail.com>
References: <5784E9FA-7021-4E29-B1FF-C08AC8827FE2@ircam.fr>
	<E25B4695-D9B6-40FA-ACC4-A95FD4681B43@ps.uni-sb.de>
	<a6b4b44a0910300152t715740adk2dc789e30ebaf60f@mail.gmail.com>
	<E02DA59F-80F7-4B56-BA5E-4C167863107A@ircam.fr>
	<a6b4b44a0910300532n20f5ef1ft6c5ae5be319bf60a@mail.gmail.com>
	<EB407361-2624-4EC3-BBAF-67AC25E400FC@ircam.fr>
	<84816B06-E2FA-4AED-B02B-02B53C28ADB6@ps.uni-sb.de>
	<a6b4b44a0911030246l3f7cefefv189459582bd30d63@mail.gmail.com>
Message-ID: <a6b4b44a0911030247j7346a630g4ae22b3553f8d910@mail.gmail.com>

I meant, I don't know if gcc-4.5 updated libstdc.

2009/11/3 Mauricio Toro <mauriciotorob at gmail.com>

> I have the libstdc++.6.0.4
>
> btw, recently I also installed gcc-4.5. Although I am using gcc 4.2,
> I don't know gcc-4.5 that updated libstdc.
>
> cheers,
>
> Mauricio
>
> 2009/11/3 Guido Tack <tack at ps.uni-sb.de>
>
> Hi Serge,
>>
>> apparently Apple has changed the libstdc++ in Snow Leopard.  I've built a
>> new package, linked against the 10.5 SDK.  It's available here:
>>
>> http://www.ps.uni-sb.de/~tack/Gecode-3.2.0.dmg
>>
>> I would be grateful if you could test it and let me know if it works for
>> you!  If it does work, I'll put it up on our download page.
>>
>> Mauricio: It's strange that the binary framework works for you on 10.5.8.
>>  Could you please let me know which version of libstdc++ you have (i.e., the
>> ? in /usr/lib/libstdc++.6.0.?.dylib)?
>>
>> Cheers,
>> Guido
>>
>> serge lemouton wrote:
>>
>> Hello,
>>
>> I still have troubles with the framework installed with Gecode 3.2.0. (Mac
>> OS 10.5.8)
>> For an example, when I use the following command line to compile the
>> hamming example
>> g++-4.2  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3
>> -fno-strict-aliasing -finline-limit=3000 -ffast-math -framework gecode -o
>> examples/hamming  examples/hamming.cpp
>>
>> when I launch the example I always get this 2 errors :
>>
>> -------------
>> dyld: lazy symbol binding failed: Symbol not found:
>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/gecode
>>   Expected in: /usr/lib/libstdc++.6.dylib
>>
>> dyld: Symbol not found:
>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/gecode
>>   Expected in: /usr/lib/libstdc++.6.dylib
>>
>> Trace/BPT trap
>> -------------
>>
>> If it runs well for you, Mauricio, what can be wrong in my setup ?
>>
>> Serge
>>
>> On 30 oct. 09, at 13:32, Mauricio Toro wrote:
>>
>> I am using the framework.
>> I compile like this
>>
>> g++  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3
>> -fno-strict-aliasing -finline-limit=3000 -ffast-math    \
>>  -o examples/anExample  examples/anExample.cpp -framework gecode
>>
>> Btw, I also tried with g++ 4.5; it also works, but it is slower.
>>
>> 2009/10/30 serge lemouton <serge.lemouton at ircam.fr>
>>
>>> Hello Mauricio,
>>>
>>> It works also for me when compiling directly with gcc, but in this case i
>>> guess that you are not linking your object with "-framework gecode", but
>>> rather with the dynamic libraries (-lgecodekernel, etc ...)
>>> Right ?
>>>
>>> Serge
>>>
>>> On 30 oct. 09, at 09:52, Mauricio Toro wrote:
>>>
>>> Hello,
>>>
>>> I am using Mac OS X 10.5.8, the Gecode 3.2.0 framework and gcc 4.2 and it
>>> works perfectly.
>>> Perhaps there is a problem when using Xcode; I am compiling without
>>> Xcode.
>>>
>>> 2009/10/30 Guido Tack <tack at ps.uni-sb.de>
>>>
>>>> serge lemouton wrote:
>>>> > I am on MacOs X (10.5.8) and using Xcode.
>>>> > When the examples are compiled (with gcc 4.2) and linked against the
>>>> > gecode framework, I get the following error:
>>>> >
>>>> > dyld: lazy symbol binding failed: Symbol not found:
>>>> >
>>>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>>> >   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/
>>>> > gecode
>>>> >   Expected in: /usr/lib/libstdc++.6.dylib
>>>> >
>>>> > If I switch back to the previous (3.1) gecode framework, it works
>>>> > perfectly ...
>>>> > What's new there ?
>>>>
>>>> The 3.2.0 binaries have been built on Mac OS 10.6.  I thought it
>>>> should be backwards-compatible, but maybe it isn't.  When exactly did
>>>> you download the package?  I uploaded a new 3.2.0 package yesterday
>>>> afternoon, it would be interesting to know whether you got the new
>>>> package or the old one (another way to find out is to see whether the
>>>> command
>>>> file /Library/Frameworks/gecode.framework/gecode
>>>> reports x86_64 as an architecture - if yes, it's the new package).
>>>>
>>>> Cheers,
>>>>         Guido
>>>>
>>>>
>>>> _______________________________________________
>>>> Gecode users mailing list
>>>> users at gecode.org
>>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>>
>>>
>>>
>>>
>>> --
>>> Mauricio TORO BERMUDEZ
>>>
>>> Research Postgraduate Student (Ph.D)
>>> Computer Science Research Laboratory of Bordeaux (LABRI)
>>> University of Bordeaux 1: Science and Technology
>>>
>>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>>
>>> 351, cours de la Lib?ration
>>> F-33405 Talence Cedex. France.
>>> Phone: (+33) 5 4000 24 85
>>> Fax: (+33) 5 4000 66 69
>>>
>>> Please don't print this e-mail unless you really need to.
>>>
>>>
>>>
>>
>>
>> --
>> Mauricio TORO BERMUDEZ
>>
>> Research Postgraduate Student (Ph.D)
>> Computer Science Research Laboratory of Bordeaux (LABRI)
>> University of Bordeaux 1: Science and Technology
>>
>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>
>> 351, cours de la Lib?ration
>> F-33405 Talence Cedex. France.
>> Phone: (+33) 5 4000 24 85
>> Fax: (+33) 5 4000 66 69
>>
>> Please don't print this e-mail unless you really need to.
>>
>>
>>
>>
>
>
> --
> Mauricio TORO BERMUDEZ
>
> Research Postgraduate Student (Ph.D)
> Computer Science Research Laboratory of Bordeaux (LABRI)
> University of Bordeaux 1: Science and Technology
>
> http://cic.javerianacali.edu.co/~mauriciotoro/
>
> 351, cours de la Lib?ration
> F-33405 Talence Cedex. France.
> Phone: (+33) 5 4000 24 85
> Fax: (+33) 5 4000 66 69
>
> Please don't print this e-mail unless you really need to.
>
>


-- 
Mauricio TORO BERMUDEZ

Research Postgraduate Student (Ph.D)
Computer Science Research Laboratory of Bordeaux (LABRI)
University of Bordeaux 1: Science and Technology

http://cic.javerianacali.edu.co/~mauriciotoro/

351, cours de la Lib?ration
F-33405 Talence Cedex. France.
Phone: (+33) 5 4000 24 85
Fax: (+33) 5 4000 66 69

Please don't print this e-mail unless you really need to.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091103/5ddf6b74/attachment.htm>

From serge.lemouton at ircam.fr  Wed Nov  4 16:10:25 2009
From: serge.lemouton at ircam.fr (serge lemouton)
Date: Wed, 4 Nov 2009 16:10:25 +0100
Subject: [gecode-users] version 3.2: problem compiling examples in Xcode
In-Reply-To: <84816B06-E2FA-4AED-B02B-02B53C28ADB6@ps.uni-sb.de>
References: <5784E9FA-7021-4E29-B1FF-C08AC8827FE2@ircam.fr>
	<E25B4695-D9B6-40FA-ACC4-A95FD4681B43@ps.uni-sb.de>
	<a6b4b44a0910300152t715740adk2dc789e30ebaf60f@mail.gmail.com>
	<E02DA59F-80F7-4B56-BA5E-4C167863107A@ircam.fr>
	<a6b4b44a0910300532n20f5ef1ft6c5ae5be319bf60a@mail.gmail.com>
	<EB407361-2624-4EC3-BBAF-67AC25E400FC@ircam.fr>
	<84816B06-E2FA-4AED-B02B-02B53C28ADB6@ps.uni-sb.de>
Message-ID: <DA43A6E4-E0BF-421D-9206-18080F51A6A6@ircam.fr>

Hello Guido

Thanks for your quick answers.
The problem is solved with the new package.
You can put the last installer on the download page,
will you change its version number ?

Yours,

Serge



On 3 nov. 09, at 10:30, Guido Tack wrote:

> Hi Serge,
>
> apparently Apple has changed the libstdc++ in Snow Leopard.  I've  
> built a new package, linked against the 10.5 SDK.  It's available  
> here:
>
> http://www.ps.uni-sb.de/~tack/Gecode-3.2.0.dmg
>
> I would be grateful if you could test it and let me know if it works  
> for you!  If it does work, I'll put it up on our download page.
>
> Mauricio: It's strange that the binary framework works for you on  
> 10.5.8.  Could you please let me know which version of libstdc++ you  
> have (i.e., the ? in /usr/lib/libstdc++.6.0.?.dylib)?
>
> Cheers,
> 	Guido
>
> serge lemouton wrote:
>
>> Hello,
>>
>> I still have troubles with the framework installed with Gecode  
>> 3.2.0. (Mac OS 10.5.8)
>> For an example, when I use the following command line to compile  
>> the hamming example
>> g++-4.2  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 - 
>> fno-strict-aliasing -finline-limit=3000 -ffast-math -framework  
>> gecode -o examples/hamming  examples/hamming.cpp
>>
>> when I launch the example I always get this 2 errors :
>>
>> -------------
>> dyld: lazy symbol binding failed: Symbol not found:  
>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/ 
>> gecode
>>   Expected in: /usr/lib/libstdc++.6.dylib
>>
>> dyld: Symbol not found:  
>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>   Referenced from: /Library/Frameworks/gecode.framework/Versions/18/ 
>> gecode
>>   Expected in: /usr/lib/libstdc++.6.dylib
>>
>> Trace/BPT trap
>> -------------
>>
>> If it runs well for you, Mauricio, what can be wrong in my setup ?
>>
>> Serge
>>
>> On 30 oct. 09, at 13:32, Mauricio Toro wrote:
>>
>>> I am using the framework.
>>> I compile like this
>>>
>>> g++  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 -fno- 
>>> strict-aliasing -finline-limit=3000 -ffast-math    \
>>> 	 -o examples/anExample  examples/anExample.cpp -framework gecode
>>>
>>> Btw, I also tried with g++ 4.5; it also works, but it is slower.
>>>
>>> 2009/10/30 serge lemouton <serge.lemouton at ircam.fr>
>>> Hello Mauricio,
>>>
>>> It works also for me when compiling directly with gcc, but in this  
>>> case i guess that you are not linking your object with "-framework  
>>> gecode", but rather with the dynamic libraries (-lgecodekernel,  
>>> etc ...)
>>> Right ?
>>>
>>> Serge
>>>
>>> On 30 oct. 09, at 09:52, Mauricio Toro wrote:
>>>
>>>> Hello,
>>>>
>>>> I am using Mac OS X 10.5.8, the Gecode 3.2.0 framework and gcc  
>>>> 4.2 and it works perfectly.
>>>> Perhaps there is a problem when using Xcode; I am compiling  
>>>> without Xcode.
>>>>
>>>> 2009/10/30 Guido Tack <tack at ps.uni-sb.de>
>>>> serge lemouton wrote:
>>>> > I am on MacOs X (10.5.8) and using Xcode.
>>>> > When the examples are compiled (with gcc 4.2) and linked  
>>>> against the
>>>> > gecode framework, I get the following error:
>>>> >
>>>> > dyld: lazy symbol binding failed: Symbol not found:
>>>> >  
>>>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>>> >   Referenced from: /Library/Frameworks/gecode.framework/ 
>>>> Versions/18/
>>>> > gecode
>>>> >   Expected in: /usr/lib/libstdc++.6.dylib
>>>> >
>>>> > If I switch back to the previous (3.1) gecode framework, it works
>>>> > perfectly ...
>>>> > What's new there ?
>>>>
>>>> The 3.2.0 binaries have been built on Mac OS 10.6.  I thought it
>>>> should be backwards-compatible, but maybe it isn't.  When exactly  
>>>> did
>>>> you download the package?  I uploaded a new 3.2.0 package yesterday
>>>> afternoon, it would be interesting to know whether you got the new
>>>> package or the old one (another way to find out is to see whether  
>>>> the
>>>> command
>>>> file /Library/Frameworks/gecode.framework/gecode
>>>> reports x86_64 as an architecture - if yes, it's the new package).
>>>>
>>>> Cheers,
>>>>        Guido
>>>>
>>>>
>>>> _______________________________________________
>>>> Gecode users mailing list
>>>> users at gecode.org
>>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>>
>>>>
>>>>
>>>> -- 
>>>> Mauricio TORO BERMUDEZ
>>>>
>>>> Research Postgraduate Student (Ph.D)
>>>> Computer Science Research Laboratory of Bordeaux (LABRI)
>>>> University of Bordeaux 1: Science and Technology
>>>>
>>>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>>>
>>>> 351, cours de la Lib?ration
>>>> F-33405 Talence Cedex. France.
>>>> Phone: (+33) 5 4000 24 85
>>>> Fax: (+33) 5 4000 66 69
>>>>
>>>> Please don't print this e-mail unless you really need to.
>>>>
>>>
>>>
>>>
>>>
>>> -- 
>>> Mauricio TORO BERMUDEZ
>>>
>>> Research Postgraduate Student (Ph.D)
>>> Computer Science Research Laboratory of Bordeaux (LABRI)
>>> University of Bordeaux 1: Science and Technology
>>>
>>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>>
>>> 351, cours de la Lib?ration
>>> F-33405 Talence Cedex. France.
>>> Phone: (+33) 5 4000 24 85
>>> Fax: (+33) 5 4000 66 69
>>>
>>> Please don't print this e-mail unless you really need to.
>>>
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091104/70dce8f7/attachment.htm>

From tack at ps.uni-sb.de  Wed Nov  4 16:13:51 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Wed, 4 Nov 2009 16:13:51 +0100
Subject: [gecode-users] version 3.2: problem compiling examples in Xcode
In-Reply-To: <DA43A6E4-E0BF-421D-9206-18080F51A6A6@ircam.fr>
References: <5784E9FA-7021-4E29-B1FF-C08AC8827FE2@ircam.fr>
	<E25B4695-D9B6-40FA-ACC4-A95FD4681B43@ps.uni-sb.de>
	<a6b4b44a0910300152t715740adk2dc789e30ebaf60f@mail.gmail.com>
	<E02DA59F-80F7-4B56-BA5E-4C167863107A@ircam.fr>
	<a6b4b44a0910300532n20f5ef1ft6c5ae5be319bf60a@mail.gmail.com>
	<EB407361-2624-4EC3-BBAF-67AC25E400FC@ircam.fr>
	<84816B06-E2FA-4AED-B02B-02B53C28ADB6@ps.uni-sb.de>
	<DA43A6E4-E0BF-421D-9206-18080F51A6A6@ircam.fr>
Message-ID: <C3032A8C-2CC2-4C51-9395-440B4BFD2003@ps.uni-sb.de>

Hello Serge,

glad to hear it works now.  We're currently preparing the release of  
3.2.1 anyway (which includes a number of bug fixes), so I just  
replaced the 3.2.0 package for the time being.  Thanks again for  
pointing this out!

Cheers,
	Guido

serge lemouton wrote:

> Hello Guido
>
> Thanks for your quick answers.
> The problem is solved with the new package.
> You can put the last installer on the download page,
> will you change its version number ?
>
> Yours,
>
> Serge
>
>
>
> On 3 nov. 09, at 10:30, Guido Tack wrote:
>
>> Hi Serge,
>>
>> apparently Apple has changed the libstdc++ in Snow Leopard.  I've  
>> built a new package, linked against the 10.5 SDK.  It's available  
>> here:
>>
>> http://www.ps.uni-sb.de/~tack/Gecode-3.2.0.dmg
>>
>> I would be grateful if you could test it and let me know if it  
>> works for you!  If it does work, I'll put it up on our download page.
>>
>> Mauricio: It's strange that the binary framework works for you on  
>> 10.5.8.  Could you please let me know which version of libstdc++  
>> you have (i.e., the ? in /usr/lib/libstdc++.6.0.?.dylib)?
>>
>> Cheers,
>> 	Guido
>>
>> serge lemouton wrote:
>>
>>> Hello,
>>>
>>> I still have troubles with the framework installed with Gecode  
>>> 3.2.0. (Mac OS 10.5.8)
>>> For an example, when I use the following command line to compile  
>>> the hamming example
>>> g++-4.2  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 - 
>>> fno-strict-aliasing -finline-limit=3000 -ffast-math -framework  
>>> gecode -o examples/hamming  examples/hamming.cpp
>>>
>>> when I launch the example I always get this 2 errors :
>>>
>>> -------------
>>> dyld: lazy symbol binding failed: Symbol not found:  
>>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>>   Referenced from: /Library/Frameworks/gecode.framework/Versions/ 
>>> 18/gecode
>>>   Expected in: /usr/lib/libstdc++.6.dylib
>>>
>>> dyld: Symbol not found:  
>>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>>   Referenced from: /Library/Frameworks/gecode.framework/Versions/ 
>>> 18/gecode
>>>   Expected in: /usr/lib/libstdc++.6.dylib
>>>
>>> Trace/BPT trap
>>> -------------
>>>
>>> If it runs well for you, Mauricio, what can be wrong in my setup ?
>>>
>>> Serge
>>>
>>> On 30 oct. 09, at 13:32, Mauricio Toro wrote:
>>>
>>>> I am using the framework.
>>>> I compile like this
>>>>
>>>> g++  -I.  -fvisibility=hidden -fPIC -Wextra -Wall -pipe -O3 -fno- 
>>>> strict-aliasing -finline-limit=3000 -ffast-math    \
>>>> 	 -o examples/anExample  examples/anExample.cpp -framework gecode
>>>>
>>>> Btw, I also tried with g++ 4.5; it also works, but it is slower.
>>>>
>>>> 2009/10/30 serge lemouton <serge.lemouton at ircam.fr>
>>>> Hello Mauricio,
>>>>
>>>> It works also for me when compiling directly with gcc, but in  
>>>> this case i guess that you are not linking your object with "- 
>>>> framework gecode", but rather with the dynamic libraries (- 
>>>> lgecodekernel, etc ...)
>>>> Right ?
>>>>
>>>> Serge
>>>>
>>>> On 30 oct. 09, at 09:52, Mauricio Toro wrote:
>>>>
>>>>> Hello,
>>>>>
>>>>> I am using Mac OS X 10.5.8, the Gecode 3.2.0 framework and gcc  
>>>>> 4.2 and it works perfectly.
>>>>> Perhaps there is a problem when using Xcode; I am compiling  
>>>>> without Xcode.
>>>>>
>>>>> 2009/10/30 Guido Tack <tack at ps.uni-sb.de>
>>>>> serge lemouton wrote:
>>>>> > I am on MacOs X (10.5.8) and using Xcode.
>>>>> > When the examples are compiled (with gcc 4.2) and linked  
>>>>> against the
>>>>> > gecode framework, I get the following error:
>>>>> >
>>>>> > dyld: lazy symbol binding failed: Symbol not found:
>>>>> >  
>>>>> __ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_i
>>>>> >   Referenced from: /Library/Frameworks/gecode.framework/ 
>>>>> Versions/18/
>>>>> > gecode
>>>>> >   Expected in: /usr/lib/libstdc++.6.dylib
>>>>> >
>>>>> > If I switch back to the previous (3.1) gecode framework, it  
>>>>> works
>>>>> > perfectly ...
>>>>> > What's new there ?
>>>>>
>>>>> The 3.2.0 binaries have been built on Mac OS 10.6.  I thought it
>>>>> should be backwards-compatible, but maybe it isn't.  When  
>>>>> exactly did
>>>>> you download the package?  I uploaded a new 3.2.0 package  
>>>>> yesterday
>>>>> afternoon, it would be interesting to know whether you got the new
>>>>> package or the old one (another way to find out is to see  
>>>>> whether the
>>>>> command
>>>>> file /Library/Frameworks/gecode.framework/gecode
>>>>> reports x86_64 as an architecture - if yes, it's the new package).
>>>>>
>>>>> Cheers,
>>>>>        Guido
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Gecode users mailing list
>>>>> users at gecode.org
>>>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>>>
>>>>>
>>>>>
>>>>> -- 
>>>>> Mauricio TORO BERMUDEZ
>>>>>
>>>>> Research Postgraduate Student (Ph.D)
>>>>> Computer Science Research Laboratory of Bordeaux (LABRI)
>>>>> University of Bordeaux 1: Science and Technology
>>>>>
>>>>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>>>>
>>>>> 351, cours de la Lib?ration
>>>>> F-33405 Talence Cedex. France.
>>>>> Phone: (+33) 5 4000 24 85
>>>>> Fax: (+33) 5 4000 66 69
>>>>>
>>>>> Please don't print this e-mail unless you really need to.
>>>>>
>>>>
>>>>
>>>>
>>>>
>>>> -- 
>>>> Mauricio TORO BERMUDEZ
>>>>
>>>> Research Postgraduate Student (Ph.D)
>>>> Computer Science Research Laboratory of Bordeaux (LABRI)
>>>> University of Bordeaux 1: Science and Technology
>>>>
>>>> http://cic.javerianacali.edu.co/~mauriciotoro/
>>>>
>>>> 351, cours de la Lib?ration
>>>> F-33405 Talence Cedex. France.
>>>> Phone: (+33) 5 4000 24 85
>>>> Fax: (+33) 5 4000 66 69
>>>>
>>>> Please don't print this e-mail unless you really need to.
>>>>
>>>
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091104/e8153006/attachment.htm>

From benouna84 at live.fr  Wed Nov  4 19:49:58 2009
From: benouna84 at live.fr (frank lemoine)
Date: Wed, 4 Nov 2009 19:49:58 +0100
Subject: [gecode-users] element constraint
In-Reply-To: <003701ca597b$41fed670$c5fc8350$@se>
References: <COL103-W478D31FA8C906F6333DAA2A6B60@phx.gbl>
Message-ID: <COL103-W266BF1521103C211FF9D4EA6B10@phx.gbl>



hi gecode users,

 

thank you christian for tips about the element constraint i run it, it's a very usefull but still i had some difficulties i don't know if gecode provide a solution for representing two intvar by a single intvar.

 

let this constaint element (home, a,b,c)

 

i have two integer variables represented by Intvar, i want to use a variable Intvar in c that can represent the link between this two varaibles (an edge for example)  

the goal is to check if this pair is in a the set of all pairs in a

have some one an idea  ? 

 

 
 		 	   		  
_________________________________________________________________
Nouveau! D?couvrez le Windows phone Samsung Omnia II disponible chez SFR. 
http://clk.atdmt.com/FRM/go/175819072/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091104/91e82904/attachment.htm>

From tack at ps.uni-sb.de  Thu Nov  5 11:36:50 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Thu, 5 Nov 2009 11:36:50 +0100
Subject: [gecode-users] Gecode 3.2.1 released
Message-ID: <2C704E3E-7D12-435F-A45F-E2FAD865B5A7@ps.uni-sb.de>

Dear all,

we are releasing a bugfix version of Gecode.

                  Gecode 3.2.1
           http://www.gecode.org

This release fixes one serious bug in the element constraint for  
matrices; adds branchings using accumulated failure counts (also known  
as weighted degree); provides some optimizations (mostly for element  
constraints and for regular expressions with millions of nodes); adds  
two cute models (word-square and crossword); and a little this and  
that as always.

On our web site, you find source packages, as well as binary packages  
for Windows and Mac OS.

Cheers,
	Guido




From cschulte at kth.se  Thu Nov  5 11:48:45 2009
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 5 Nov 2009 11:48:45 +0100
Subject: [gecode-users] FW: DOCTORAL AND POSTDOCTORAL RESEARCH POSITIONS IN
	CONSTRAINT PROGRAMMING
Message-ID: <000601ca5e05$8c485b00$a4d91100$@se>

Dear all,

for the following position knowledge of Gecode is considered a plus, that is
why I forward this announcement to the Gecode users list.

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: Tom Schrijvers [mailto:tom.schrijvers at cs.kuleuven.be] 
Sent: Wednesday, November 04, 2009 4:37 PM
To: Tom Schrijvers
Subject: DOCTORAL AND POSTDOCTORAL RESEARCH POSITIONS IN CONSTRAINT
PROGRAMMING


Could you please forward this message to anyone who might be interested?

Thank you,

Tom

DOCTORAL AND POSTDOCTORAL RESEARCH POSITIONS IN CONSTRAINT PROGRAMMING

   Declarative Languages and Artificial Intelligence Group
   Department of Computer Science
   Catholic University of Leuven, Belgium

The Declarative Languages and Artificial Intelligence Group at the
Catholic University of Leuven is urgently looking for doctoral and
postdoctoral research candidates in the area of Constraint Programming.

Both positions concern the application and development of Constraint
Programming techniques, and the Monadic Constraint Programming framework in
particular, for solving problems of industrial scale. Close collaboration
with
our industrial partners is expected, and involves aspects of mutual
interest,
modeling, search heuristics and parallelization among others. More
information on the Monadic Constraint Programming can be found at
http://www.cs.kuleuven.be/~toms/MCP/.

For the postdoctoral position, applicants should have a Ph.D. in Computer
Science and for the doctoral position, a masters degree in Computer Science
or
equivalent. A background and interest in Constraint Programming is
essential.
Experience in functional programming (Haskell), Gecode, software engineering
and implementation are important assets.

Appointment to the postdoctoral position will be for the period of up to two
years.  Appointment to the doctoral position will be for the period of one
year
initially with possibility for extension to four years ending in a Ph.D.
The
salary is compatible with the departmental rates for postdoctoral and
doctoral
research fellows, and can take experience into consideration.

Please direct inquiries and applications, preferably by e-mail, to:

    Professor Bart Demoen
    Department of Computer Science
    K.U.Leuven
    Celestijnenlaan 200A
    B-3001 Heverlee
    Belgium

    Email: bart.demoen at cs.kuleuven.be
    Phone: +32 16 327547

Informal notice of interest should be received as soon as possible no later 
than
November 25, 2009. Review of applications begins as of now.  Positions start
as
soon as January 1, 2010.

Disclaimer: http://www.kuleuven.be/cwis/email_disclaimer.htm




From tack at ps.uni-sb.de  Thu Nov  5 11:52:22 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Thu, 5 Nov 2009 11:52:22 +0100
Subject: [gecode-users] element constraint
In-Reply-To: <COL103-W266BF1521103C211FF9D4EA6B10@phx.gbl>
References: <COL103-W478D31FA8C906F6333DAA2A6B60@phx.gbl>
	<COL103-W266BF1521103C211FF9D4EA6B10@phx.gbl>
Message-ID: <D8CEC574-F90C-4271-AA87-C9A1D8C41179@ps.uni-sb.de>

Hi,

frank lemoine wrote:
> thank you christian for tips about the element constraint i run it,  
> it's a very usefull but still i had some difficulties i don't know  
> if gecode provide a solution for representing two intvar by a single  
> intvar.
>
> let this constaint element (home, a,b,c)
>
> i have two integer variables represented by Intvar, i want to use a  
> variable Intvar in c that can represent the link between this two  
> varaibles (an edge for example)
> the goal is to check if this pair is in a the set of all pairs in a

I'm not sure you can use IntVars the way you describe the problem.  Do  
you want to have one variable for each node that describes the set of  
edges incident to the node?  Then you'll have to use set variables  
instead of integer variables.  Of course, if every node has exactly  
one incident edge, IntVars are fine.  A different approach is to use  
n*n Boolean variables if you have n nodes, one for each edge,  
representing that the graph contains the edge or not.  It really  
depends on what other constraints you want to put on the graph.
Maybe the literature on graph variables (simply google for CP Graph)  
or tree constraints will help you get an idea.

Cheers,
	Guido

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091105/c9cc0fc4/attachment.htm>

From cschulte at kth.se  Thu Nov  5 11:52:00 2009
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 5 Nov 2009 11:52:00 +0100
Subject: [gecode-users] element constraint
In-Reply-To: <COL103-W266BF1521103C211FF9D4EA6B10@phx.gbl>
References: <COL103-W478D31FA8C906F6333DAA2A6B60@phx.gbl>
	<COL103-W266BF1521103C211FF9D4EA6B10@phx.gbl>
Message-ID: <000c01ca5e06$00961150$01c233f0$@se>

I tried hard but I cannot really understand your question.

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of frank lemoine
Sent: Wednesday, November 04, 2009 7:50 PM
To: gecode gecode
Subject: [gecode-users] element constraint

 


hi gecode users,
 
thank you christian for tips about the element constraint i run it, it's a
very usefull but still i had some difficulties i don't know if gecode
provide a solution for representing two intvar by a single intvar.
 
let this constaint element (home, a,b,c)
 
i have two integer variables represented by Intvar, i want to use a variable
Intvar in c that can represent the link between this two varaibles (an edge
for example)  
the goal is to check if this pair is in a the set of all pairs in a

have some one an idea  ? 
 
 

  _____  

Nouveau! D?couvrez le Windows phone Samsung Omnia II disponible chez SFR.
Cliquez <http://clk.atdmt.com/FRM/go/175819072/direct/01/>  ici

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091105/4ea2e5cf/attachment.htm>

From alejandro.arbelaez at gmail.com  Fri Nov  6 15:30:37 2009
From: alejandro.arbelaez at gmail.com (Alejandro Arbelaez)
Date: Fri, 6 Nov 2009 15:30:37 +0100
Subject: [gecode-users] variable selection heuristics
Message-ID: <63034b790911060630s21002073oae44aafae6404d46@mail.gmail.com>

Dear Gecode developers,

I've seen that the last gecode version includes variables' weighted degree
information which i think is a great new feature of gecode, because now it
will be possible to use the current state-of-the-art variable selection
heuristics (dom/wdeg) in gecode. I don't have all the details about this new
release, but I'd like know if this release also includes a restart-base
search engine. (i.e, restarting the search engine when some cutoff limit in
the number of failures is met). I know this is not difficult to implement
but would like to know if this is already available.

And my last question, are you considering to include Impacts [1] into gecode
(I mean in the near future)?


[1] P. Refalo. Impact-based search strategies for Constraint Programming, In
CP 2004.


Cheers,
Alejandro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091106/259192c5/attachment.htm>

From tack at ps.uni-sb.de  Fri Nov  6 15:48:25 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Fri, 6 Nov 2009 15:48:25 +0100
Subject: [gecode-users] variable selection heuristics
In-Reply-To: <63034b790911060630s21002073oae44aafae6404d46@mail.gmail.com>
References: <63034b790911060630s21002073oae44aafae6404d46@mail.gmail.com>
Message-ID: <C500B3F8-6A2B-4638-AAD4-904C5DC43216@ps.uni-sb.de>

Dear Alejandro,

there's no direct support for restart-based search, but it's easy to  
do with the search engines we provide.  Just use a FailStop object  
with a DFS engine, and when next() returns NULL, check whether the  
engine was stopped or search is exhausted.  If it was stopped, reset  
the engine and restart, setting a new limit on your FailStop object.

We've been looking into IBS as well, but, at least currently, I can't  
see a way to implement it in a non-intrusive way.  It's slightly  
difficult to do IBS in combination with recomputation - you have to  
measure the impact of a single choice, but with recomputation, you  
most of the time compute a fixpoint of more than one choice.  Also,  
keeping track of domain sizes is more intrusive than a simple failure  
count.  Anyway, we'll think some more about it, maybe we can come up  
with a solution that is general and elegant enough to be included in  
Gecode.

Cheers,
	Guido

Alejandro Arbelaez wrote:

> Dear Gecode developers,
>
> I've seen that the last gecode version includes variables' weighted  
> degree information which i think is a great new feature of gecode,  
> because now it will be possible to use the current state-of-the-art  
> variable selection heuristics (dom/wdeg) in gecode. I don't have all  
> the details about this new release, but I'd like know if this  
> release also includes a restart-base search engine. (i.e, restarting  
> the search engine when some cutoff limit in the number of failures  
> is met). I know this is not difficult to implement but would like to  
> know if this is already available.
>
> And my last question, are you considering to include Impacts [1]  
> into gecode (I mean in the near future)?
>
>
> [1] P. Refalo. Impact-based search strategies for Constraint  
> Programming, In CP 2004.
>
>
> Cheers,
> Alejandro
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users




From benouna84 at live.fr  Fri Nov  6 19:12:08 2009
From: benouna84 at live.fr (frank lemoine)
Date: Fri, 6 Nov 2009 19:12:08 +0100
Subject: [gecode-users] element constraint
In-Reply-To: <D8CEC574-F90C-4271-AA87-C9A1D8C41179@ps.uni-sb.de>
References: <COL103-W478D31FA8C906F6333DAA2A6B60@phx.gbl>
	<COL103-W266BF1521103C211FF9D4EA6B10@phx.gbl>
Message-ID: <COL103-W47FFDA9B6C94936A81927BA6AF0@phx.gbl>


hello christian and Guido,

 

thank's Guido for the approaches you give it to me, i see cp(map) it's very interesting but it's also very far from my level in gecode. the idea of using a boolean variable is very useful and i use it but i still have some troubling :

 

my constraint it's about checking for an edge represented by two variable  if it's present in a set possible edge and it should work on the element constraint like this element (*this, a ,b ,c) so that:

 

a is the set of possible edge (set of edges each one is represented by two int variables)

b incrementation

d candidat edge (represented by two int varaibless)

 

but in c From what I know we can just put one single variable  so i can't describe an edge 

 

i hope  this expression will be more explicit. 

 

Hamza


From: tack at ps.uni-sb.de
Date: Thu, 5 Nov 2009 11:52:22 +0100
CC: users at gecode.org
To: benouna84 at live.fr
Subject: Re: [gecode-users] element constraint

Hi,



frank lemoine wrote:

thank you christian for tips about the element constraint i run it, it's a very usefull but still i had some difficulties i don't know if gecode provide a solution for representing two intvar by a single intvar.
 
let this constaint element (home, a,b,c)
 
i have two integer variables represented by Intvar, i want to use a variable Intvar in c that can represent the link between this two varaibles (an edge for example)  
the goal is to check if this pair is in a the set of all pairs in a



I'm not sure you can use IntVars the way you describe the problem.  Do you want to have one variable for each node that describes the set of edges incident to the node?  Then you'll have to use set variables instead of integer variables.  Of course, if every node has exactly one incident edge, IntVars are fine.  A different approach is to use n*n Boolean variables if you have n nodes, one for each edge, representing that the graph contains the edge or not.  It really depends on what other constraints you want to put on the graph.
Maybe the literature on graph variables (simply google for CP Graph) or tree constraints will help you get an idea.


Cheers,
Guido

 		 	   		  
_________________________________________________________________
Nouveau Windows 7 : Trouvez le PC qui vous convient. En savoir plus.
http://clk.atdmt.com/FRM/go/181574580/direct/01/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091106/a74be083/attachment.htm>

From tack at ps.uni-sb.de  Sat Nov  7 13:25:12 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sat, 7 Nov 2009 13:25:12 +0100
Subject: [gecode-users] element constraint
In-Reply-To: <COL103-W47FFDA9B6C94936A81927BA6AF0@phx.gbl>
References: <COL103-W478D31FA8C906F6333DAA2A6B60@phx.gbl>
	<COL103-W266BF1521103C211FF9D4EA6B10@phx.gbl>
	<COL103-W47FFDA9B6C94936A81927BA6AF0@phx.gbl>
Message-ID: <4D163A3A-01C1-48C8-8DC1-1586B2F61213@ps.uni-sb.de>

Well, I don't really understand your model.  What's an incrementation?

The only way I can imagine how you want your model to work is to just  
split the element constraint in two.  I.e., have two arrays a0 and a1  
of integers (or IntVars), such that <a0[i], a1[i]> is the edge i, and  
then use element(a0,b,d0); element(a1,b,d1) to constrain the two  
IntVars d0 and d1 to be equal to the edge.

Cheers,
	Guido

frank lemoine wrote:

> hello christian and Guido,
>
> thank's Guido for the approaches you give it to me, i see cp(map)  
> it's very interesting but it's also very far from my level in  
> gecode. the idea of using a boolean variable is very useful and i  
> use it but i still have some troubling :
>
> my constraint it's about checking for an edge represented by two  
> variable  if it's present in a set possible edge and it should work  
> on the element constraint like this element (*this, a ,b ,c) so that:
>
> a is the set of possible edge (set of edges each one is represented  
> by two int variables)
> b incrementation
> d candidat edge (represented by two int varaibless)
>
> but in c From what I know we can just put one single variable  so i  
> can't describe an edge
>
> i hope  this expression will be more explicit.
>
> Hamza
> From: tack at ps.uni-sb.de
> Date: Thu, 5 Nov 2009 11:52:22 +0100
> CC: users at gecode.org
> To: benouna84 at live.fr
> Subject: Re: [gecode-users] element constraint
>
> Hi,
>
> frank lemoine wrote:
> thank you christian for tips about the element constraint i run it,  
> it's a very usefull but still i had some difficulties i don't know  
> if gecode provide a solution for representing two intvar by a single  
> intvar.
>
> let this constaint element (home, a,b,c)
>
> i have two integer variables represented by Intvar, i want to use a  
> variable Intvar in c that can represent the link between this two  
> varaibles (an edge for example)
> the goal is to check if this pair is in a the set of all pairs in a
>
> I'm not sure you can use IntVars the way you describe the problem.   
> Do you want to have one variable for each node that describes the  
> set of edges incident to the node?  Then you'll have to use set  
> variables instead of integer variables.  Of course, if every node  
> has exactly one incident edge, IntVars are fine.  A different  
> approach is to use n*n Boolean variables if you have n nodes, one  
> for each edge, representing that the graph contains the edge or  
> not.  It really depends on what other constraints you want to put on  
> the graph.
> Maybe the literature on graph variables (simply google for CP Graph)  
> or tree constraints will help you get an idea.
>
> Cheers,
> Guido
>
>
> Nouveau Windows 7 : Trouvez le PC qui vous convient. En savoir plus.  
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091107/2d08f7af/attachment.htm>

From larsko at cs.st-andrews.ac.uk  Sat Nov  7 17:11:55 2009
From: larsko at cs.st-andrews.ac.uk (Lars Kotthoff)
Date: Sat, 7 Nov 2009 16:11:55 +0000
Subject: [gecode-users] Compiling statically
Message-ID: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>

Hi all,

 I've tried (and failed) to compile and linked Gecode statically.
./configure --enable-static doesn't seem to change anything and if I add -static
manually, it fails to compile with

g++ -pthread -static gecode/support/exception.o gecode/support/heap.o gecode/support/thread/thread.o gecode/support/thread/windows.o gecode/support/thread/pthreads.o -Wl,-soname=libgecodesupport.so.19 \
		-o libgecodesupport.so.19.0
/usr/lib/gcc/i486-linux-gnu/4.3.4/../../../../lib/crt1.o: In function `_start':
/build/buildd-eglibc_2.10.1-5-i386-GOKbsH/eglibc-2.10.1/csu/../sysdeps/i386/elf/start.S:115: undefined reference to `main'
collect2: ld returned 1 exit status
make[1]: *** [libgecodesupport.so.19.0] Error 1

Gcc version (Debian 4.3.4-6) 4.3.4. Any advice on what to change to make it
work?

Thanks,

Lars



From tack at ps.uni-sb.de  Sat Nov  7 17:53:57 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sat, 7 Nov 2009 17:53:57 +0100
Subject: [gecode-users] Compiling statically
In-Reply-To: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>
References: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>
Message-ID: <B2314334-01EE-470D-9881-AF696D3CE83C@ps.uni-sb.de>

Hi Lars,

we currently don't support creating both static and dynamic libraries,  
and our configure script has a bug, it doesn't switch off dynamic libs  
when you say --enable-static.  Please try --enable-static --disable- 
dynamic, I think it should work.

Cheers,
	Guido

Lars Kotthoff wrote:

> Hi all,
>
> I've tried (and failed) to compile and linked Gecode statically.
> ./configure --enable-static doesn't seem to change anything and if I  
> add -static
> manually, it fails to compile with
>
> g++ -pthread -static gecode/support/exception.o gecode/support/ 
> heap.o gecode/support/thread/thread.o gecode/support/thread/ 
> windows.o gecode/support/thread/pthreads.o -Wl,- 
> soname=libgecodesupport.so.19 \
> 		-o libgecodesupport.so.19.0
> /usr/lib/gcc/i486-linux-gnu/4.3.4/../../../../lib/crt1.o: In  
> function `_start':
> /build/buildd-eglibc_2.10.1-5-i386-GOKbsH/eglibc-2.10.1/csu/../ 
> sysdeps/i386/elf/start.S:115: undefined reference to `main'
> collect2: ld returned 1 exit status
> make[1]: *** [libgecodesupport.so.19.0] Error 1
>
> Gcc version (Debian 4.3.4-6) 4.3.4. Any advice on what to change to  
> make it
> work?
>
> Thanks,
>
> Lars
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users




From larsko at cs.st-andrews.ac.uk  Sat Nov  7 18:08:51 2009
From: larsko at cs.st-andrews.ac.uk (Lars Kotthoff)
Date: Sat, 7 Nov 2009 17:08:51 +0000
Subject: [gecode-users] Compiling statically
In-Reply-To: <B2314334-01EE-470D-9881-AF696D3CE83C@ps.uni-sb.de>
References: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>
	<B2314334-01EE-470D-9881-AF696D3CE83C@ps.uni-sb.de>
Message-ID: <submission.1N6omT-0002Qa-Bg@mail.cs.st-andrews.ac.uk>

> we currently don't support creating both static and dynamic libraries,  
> and our configure script has a bug, it doesn't switch off dynamic libs  
> when you say --enable-static.  Please try --enable-static --disable- 
> dynamic, I think it should work.

Thanks Guido, unfortunately it still doesn't work. The produced libraries and
binaries are still dynamically linked and the Makefile doesn't contain "-static"
anywhere.

Lars



From tack at ps.uni-sb.de  Sat Nov  7 19:00:40 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sat, 7 Nov 2009 19:00:40 +0100
Subject: [gecode-users] Compiling statically
In-Reply-To: <submission.1N6omT-0002Qa-Bg@mail.cs.st-andrews.ac.uk>
References: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>
	<B2314334-01EE-470D-9881-AF696D3CE83C@ps.uni-sb.de>
	<submission.1N6omT-0002Qa-Bg@mail.cs.st-andrews.ac.uk>
Message-ID: <38500FD0-4FEB-4ABA-BE70-D4F7CF5C4543@ps.uni-sb.de>

The Gecode libs themselves cannot be linked statically (e.g. against  
libstdc++), they're just archives of object files, after all.  One  
problem with the current build system is that if you've built dynamic  
libs before and they're still in the directory, they will be used for  
linking.  If you --enable-static --disable-dynamic in a fresh source  
directory, the executables should be linked against the static Gecode  
libs.

Another question is whether they should be  linked fully statically  
after configuring with --enable-static, or just use the static Gecode  
libs but still link libstdc++ dynamically.  No idea what's more useful  
there - but I guess we could add -static to the linker options.

Cheers,
	Guido

Lars Kotthoff wrote:

>> we currently don't support creating both static and dynamic  
>> libraries,
>> and our configure script has a bug, it doesn't switch off dynamic  
>> libs
>> when you say --enable-static.  Please try --enable-static --disable-
>> dynamic, I think it should work.
>
> Thanks Guido, unfortunately it still doesn't work. The produced  
> libraries and
> binaries are still dynamically linked and the Makefile doesn't  
> contain "-static"
> anywhere.
>
> Lars
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users




From larsko at cs.st-andrews.ac.uk  Sat Nov  7 19:39:21 2009
From: larsko at cs.st-andrews.ac.uk (Lars Kotthoff)
Date: Sat, 7 Nov 2009 18:39:21 +0000
Subject: [gecode-users] Compiling statically
In-Reply-To: <38500FD0-4FEB-4ABA-BE70-D4F7CF5C4543@ps.uni-sb.de>
References: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>
	<B2314334-01EE-470D-9881-AF696D3CE83C@ps.uni-sb.de>
	<submission.1N6omT-0002Qa-Bg@mail.cs.st-andrews.ac.uk>
	<38500FD0-4FEB-4ABA-BE70-D4F7CF5C4543@ps.uni-sb.de>
Message-ID: <submission.1N6qC3-0003M5-07@mail.cs.st-andrews.ac.uk>

> One  problem with the current build system is that if you've built dynamic
> libs before and they're still in the directory, they will be used for
> linking.  If you --enable-static --disable-dynamic in a fresh source
> directory, the executables should be linked against the static Gecode  libs.

./configure --enable-static --disable-dynamic && make
in a clean source directory builds the static and dynamic libs (by which I mean
the .a and .so files) and links the example binaries dynamically, e.g.

[larsko at akiba:~/gecode-3.2.1]0 $ ldd examples/golomb-ruler
	linux-gate.so.1 =>  (0xb7f8b000)
	libgecodeflatzinc.so.19 (0xb7f3d000)
	libgecodedriver.so.19 (0xb7f31000)
	libgecodesearch.so.19 (0xb7f1c000)
	libgecodescheduling.so.19 (0xb7edf000)
	libgecodegraph.so.19 (0xb7ed3000)
	libgecodeminimodel.so.19 (0xb7ec5000)
	libgecodeset.so.19 (0xb7b08000)
	libgecodeint.so.19 (0xb767d000)
	libgecodekernel.so.19 (0xb7674000)
	libgecodesupport.so.19 (0xb7670000)
	libstdc++.so.6 => /usr/lib/libstdc++.so.6 (0xb7564000)
	libm.so.6 => /lib/i686/cmov/libm.so.6 (0xb753e000)
	libgcc_s.so.1 => /lib/libgcc_s.so.1 (0xb7520000)
	libpthread.so.0 => /lib/i686/cmov/libpthread.so.0 (0xb7507000)
	libc.so.6 => /lib/i686/cmov/libc.so.6 (0xb73bf000)
	/lib/ld-linux.so.2 (0xb7f8c000)

> Another question is whether they should be  linked fully statically  
> after configuring with --enable-static, or just use the static Gecode  
> libs but still link libstdc++ dynamically.  No idea what's more useful  
> there - but I guess we could add -static to the linker options.

I think they should be completely static to avoid problems with different
versions of libstdc++ on different systems, especially since this library is not
strictly required.

Lars



From tack at ps.uni-sb.de  Sat Nov  7 22:04:33 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sat, 7 Nov 2009 22:04:33 +0100
Subject: [gecode-users] Compiling statically
In-Reply-To: <submission.1N6qC3-0003M5-07@mail.cs.st-andrews.ac.uk>
References: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>
	<B2314334-01EE-470D-9881-AF696D3CE83C@ps.uni-sb.de>
	<submission.1N6omT-0002Qa-Bg@mail.cs.st-andrews.ac.uk>
	<38500FD0-4FEB-4ABA-BE70-D4F7CF5C4543@ps.uni-sb.de>
	<submission.1N6qC3-0003M5-07@mail.cs.st-andrews.ac.uk>
Message-ID: <48D02BDD-69BC-4DC5-93F3-81294A6F7889@ps.uni-sb.de>

Lars Kotthoff wrote:
> ./configure --enable-static --disable-dynamic && make
> in a clean source directory builds the static and dynamic libs (by  
> which I mean
> the .a and .so files) and links the example binaries dynamically, e.g.

Ah, sorry, it's called --disable-shared, not --disable-dynamic (I  
always get that wrong).

>> Another question is whether they should be  linked fully statically
>> after configuring with --enable-static, or just use the static Gecode
>> libs but still link libstdc++ dynamically.  No idea what's more  
>> useful
>> there - but I guess we could add -static to the linker options.
>
> I think they should be completely static to avoid problems with  
> different
> versions of libstdc++ on different systems, especially since this  
> library is not
> strictly required.

I played with this a bit, and the problem with -static is that it only  
works if all libraries are actually available as static libraries,  
which sometimes they aren't (e.g. on a Mac).  Not sure what we're  
going to do, but I'll think about it.  The only thing where it really  
matters is the flatzinc interpreter, the other executables are just  
examples and tests anyway.

Cheers,
	Guido




From larsko at cs.st-andrews.ac.uk  Sat Nov  7 22:13:56 2009
From: larsko at cs.st-andrews.ac.uk (Lars Kotthoff)
Date: Sat, 7 Nov 2009 21:13:56 +0000
Subject: [gecode-users] Compiling statically
In-Reply-To: <48D02BDD-69BC-4DC5-93F3-81294A6F7889@ps.uni-sb.de>
References: <submission.1N6ntN-0001q2-Bx@mail.cs.st-andrews.ac.uk>
	<B2314334-01EE-470D-9881-AF696D3CE83C@ps.uni-sb.de>
	<submission.1N6omT-0002Qa-Bg@mail.cs.st-andrews.ac.uk>
	<38500FD0-4FEB-4ABA-BE70-D4F7CF5C4543@ps.uni-sb.de>
	<submission.1N6qC3-0003M5-07@mail.cs.st-andrews.ac.uk>
	<48D02BDD-69BC-4DC5-93F3-81294A6F7889@ps.uni-sb.de>
Message-ID: <submission.1N6sbd-0004qe-JB@mail.cs.st-andrews.ac.uk>

> I played with this a bit, and the problem with -static is that it only  
> works if all libraries are actually available as static libraries,  
> which sometimes they aren't (e.g. on a Mac).

On Mac (and probably Windows) it's quite reasonable not to link completely
statically I think because the different versions of the system are quite similar
(i.e. one vendor). On Linux on the other hand there're huge differences between
the distributions (and you can build your own from scratch of course), so it's
better to link statically there.

At least that's what we do for our release binaries :)

Lars



From benoitlaurent at neuf.fr  Mon Nov  9 23:17:22 2009
From: benoitlaurent at neuf.fr (benoit)
Date: Mon, 09 Nov 2009 23:17:22 +0100
Subject: [gecode-users] High memory consumption during execution
Message-ID: <4AF894F2.8070408@neuf.fr>

Hello,

In a previous message 
(http://www.ps.uni-sb.de/pipermail/gecode-users/2009-November/003287.html), 
I faced memory problems with the element constraint during the 
definition of my space. The concept of shared array implemented in the 
new version of Gecode (3.2.1) solved it.

However, a high memory consumption problem now occurs during execution. 
I suppose that it is also related to the element constraint (but I'm not 
completely sure). I tried to isolate a simple piece of code but failed 
to reproduce the problem. I also tried to identify the problem in debug 
mode but, at some point, I can not have access to the code (I'm using 
Visual Studio Express 2008). With the few information provided, it may 
be difficult to solve my problem. Is there a "classical" mistake that 
could explain this behavior ?

I can provide my code if needed but it is not very "digeste".

Thank you in advance for your help.

Beno?t



From zayenz at gmail.com  Tue Nov 10 08:55:37 2009
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Tue, 10 Nov 2009 08:55:37 +0100
Subject: [gecode-users] High memory consumption during execution
In-Reply-To: <4AF894F2.8070408@neuf.fr>
References: <4AF894F2.8070408@neuf.fr>
Message-ID: <5DCEFAB5-E6FA-4948-B119-3578218E5543@gmail.com>

Hi,

Please consult Section 9.2 in Modeling with Gecode.

Note that that will not help if your problem is due to a memory leak  
in your program.

Cheers,
Mikael

On 9 nov 2009, at 23.17, benoit wrote:

> Hello,
>
> In a previous message
> (http://www.ps.uni-sb.de/pipermail/gecode-users/2009-November/003287.html 
> ),
> I faced memory problems with the element constraint during the
> definition of my space. The concept of shared array implemented in the
> new version of Gecode (3.2.1) solved it.
>
> However, a high memory consumption problem now occurs during  
> execution.
> I suppose that it is also related to the element constraint (but I'm  
> not
> completely sure). I tried to isolate a simple piece of code but failed
> to reproduce the problem. I also tried to identify the problem in  
> debug
> mode but, at some point, I can not have access to the code (I'm using
> Visual Studio Express 2008). With the few information provided, it may
> be difficult to solve my problem. Is there a "classical" mistake that
> could explain this behavior ?
>
> I can provide my code if needed but it is not very "digeste".
>
> Thank you in advance for your help.
>
> Beno?t
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users




From cschulte at kth.se  Tue Nov 10 09:48:31 2009
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 10 Nov 2009 09:48:31 +0100
Subject: [gecode-users] High memory consumption during execution
In-Reply-To: <5DCEFAB5-E6FA-4948-B119-3578218E5543@gmail.com>
References: <4AF894F2.8070408@neuf.fr>
	<5DCEFAB5-E6FA-4948-B119-3578218E5543@gmail.com>
Message-ID: <000001ca61e2$9583b3a0$c08b1ae0$@se>

Another hint: if your model uses the standard Gecode search engines, you can
inquire how much memory is occupied by the nodes of the search tree. If
there is a huge difference between what is reported by the search engine and
what is reported by your operating system, you program just has a memory
leak.

Then, how deep is the search tree? How many variables and propagators does
your problem have?

In the end: we could say much more if you provided a little bit more detail
about what you observe. The information that your program uses a lot of
memory is not that helpful in itself.

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Mikael Zayenz Lagerkvist
Sent: Tuesday, November 10, 2009 8:56 AM
To: benoit
Cc: users at gecode.org
Subject: Re: [gecode-users] High memory consumption during execution

Hi,

Please consult Section 9.2 in Modeling with Gecode.

Note that that will not help if your problem is due to a memory leak  
in your program.

Cheers,
Mikael

On 9 nov 2009, at 23.17, benoit wrote:

> Hello,
>
> In a previous message
> (http://www.ps.uni-sb.de/pipermail/gecode-users/2009-November/003287.html 
> ),
> I faced memory problems with the element constraint during the
> definition of my space. The concept of shared array implemented in the
> new version of Gecode (3.2.1) solved it.
>
> However, a high memory consumption problem now occurs during  
> execution.
> I suppose that it is also related to the element constraint (but I'm  
> not
> completely sure). I tried to isolate a simple piece of code but failed
> to reproduce the problem. I also tried to identify the problem in  
> debug
> mode but, at some point, I can not have access to the code (I'm using
> Visual Studio Express 2008). With the few information provided, it may
> be difficult to solve my problem. Is there a "classical" mistake that
> could explain this behavior ?
>
> I can provide my code if needed but it is not very "digeste".
>
> Thank you in advance for your help.
>
> Beno?t
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users




From benoitlaurent at neuf.fr  Tue Nov 10 11:10:46 2009
From: benoitlaurent at neuf.fr (benoit)
Date: Tue, 10 Nov 2009 11:10:46 +0100
Subject: [gecode-users] High memory consumption during engine declaration
In-Reply-To: <000001ca61e2$9583b3a0$c08b1ae0$@se>
References: <4AF894F2.8070408@neuf.fr>
	<5DCEFAB5-E6FA-4948-B119-3578218E5543@gmail.com>
	<000001ca61e2$9583b3a0$c08b1ae0$@se>
Message-ID: <4AF93C26.3070403@neuf.fr>

Good morning,

Thank you both for your replies.
> Another hint: if your model uses the standard Gecode search engines, you can
> inquire how much memory is occupied by the nodes of the search tree. If
> there is a huge difference between what is reported by the search engine and
> what is reported by your operating system, you program just has a memory
> leak.
>   
I indeed use a standard Gecode search engine (Branch-and-Bound). I 
followed you advice and performed the test: both values are coherent.
> Then, how deep is the search tree? How many variables and propagators does
> your problem have?
>   
Here are the figures:
- Variables: 622
- Propagators: 25654
- Deep: 49

> In the end: we could say much more if you provided a little bit more detail
> about what you observe. The information that your program uses a lot of
> memory is not that helpful in itself.
>   
Mea culpa: the memory consumption reaches 862MB.

My message was inaccurate yesterday evening: the memory peak occurs when 
the engine constructor is called. It's maybe consistent with the figures 
provided above ?

Beno?t



From trosky99 at gmail.com  Tue Nov 10 12:05:29 2009
From: trosky99 at gmail.com (Alberto Delgado)
Date: Tue, 10 Nov 2009 12:05:29 +0100
Subject: [gecode-users] braking symmetries in backtracking
Message-ID: <e3e0e6e10911100305k64336ee8w8ed09d54fb79f407@mail.gmail.com>

Hi all,

I have a modeling/implementation question that maybe somebody  has
faced before,  or that gecode developers could help me answer.  I'm
trying to implement a symmetry-breaking strategy that works when the
search engine backtracks.  I have a set of items that need to be
allocated in a set of bins (bin-packing problem) and I branch over the
items to find for each item a possible bin where it can be allocated.

When it is no possible to allocate an item in a selected bin (the
search engine backtracks), i'd like to avoid trying  to allocate the
item in bins with the same available capacity as the bin that has just
been discarded,  since i already know it won't be possible.  This
should be as simple as identifying the bins with the same available
capacity as the bin selected by the branching,  and posting rel
constraints to remove these bins from the domain of the item. I
thought about doing this in the commit method,  and instead of just
posting one constraint to remove the bin that couldn't allocate the
item being considered,  also remove the bins with the same available
capacity.
The problem is that if i follow this approach i think i'll screw up
recomputation ,  and that's just if i'm able to get the information i
need to the commit method.

Do you guys have any suggestions on how to implement this in gecode?
any hints are welcome.


Best,

Alberto



From zayenz at gmail.com  Tue Nov 10 12:31:54 2009
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Tue, 10 Nov 2009 12:31:54 +0100
Subject: [gecode-users] braking symmetries in backtracking
In-Reply-To: <e3e0e6e10911100305k64336ee8w8ed09d54fb79f407@mail.gmail.com>
References: <e3e0e6e10911100305k64336ee8w8ed09d54fb79f407@mail.gmail.com>
Message-ID: <63b5c8b00911100331j3564af25t72fd35b69a6efd1a@mail.gmail.com>

Hi,

This sounds like the situation in Steel Mill Slab design. There, any slab
that has not had anything allocated to it yet is considered symmetrical.
That is, there is an interchangeable values symmetry on the identities of
the slabs. There are several ways to handle this kind of symmetry. Which
approach is the best depends on your problem, and on the heuristic you use
for search.

The example in Gecode for Steel Mill uses the technique from "The Steel Mill
Slab Design Problem Revisited", Van Hentenryck and Michel, CPAIOR 2008 to
break the symmetry in the Brancher. Another possibility is to add
constraints that break the symmetry explicitly. For an example on how to do
this, see for example "Breaking Value Symmetry", Walsh, AAAI-2008.

With regards to your proposed solution, you would need to record all the
information that you need to redo the decision in the Choice object (e.g.,
the set of symmetrical bins). When executing the commit-operation, you are
not guaranteed to have an equivalent state every time.

Hope this helps,
Mikael

On Tue, Nov 10, 2009 at 12:05 PM, Alberto Delgado <trosky99 at gmail.com>wrote:

> Hi all,
>
> I have a modeling/implementation question that maybe somebody  has
> faced before,  or that gecode developers could help me answer.  I'm
> trying to implement a symmetry-breaking strategy that works when the
> search engine backtracks.  I have a set of items that need to be
> allocated in a set of bins (bin-packing problem) and I branch over the
> items to find for each item a possible bin where it can be allocated.
>
> When it is no possible to allocate an item in a selected bin (the
> search engine backtracks), i'd like to avoid trying  to allocate the
> item in bins with the same available capacity as the bin that has just
> been discarded,  since i already know it won't be possible.  This
> should be as simple as identifying the bins with the same available
> capacity as the bin selected by the branching,  and posting rel
> constraints to remove these bins from the domain of the item. I
> thought about doing this in the commit method,  and instead of just
> posting one constraint to remove the bin that couldn't allocate the
> item being considered,  also remove the bins with the same available
> capacity.
> The problem is that if i follow this approach i think i'll screw up
> recomputation ,  and that's just if i'm able to get the information i
> need to the commit method.
>
> Do you guys have any suggestions on how to implement this in gecode?
> any hints are welcome.
>
>
> Best,
>
> Alberto
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>



-- 
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091110/82e911a5/attachment.htm>

From trosky99 at gmail.com  Wed Nov 11 09:08:39 2009
From: trosky99 at gmail.com (Alberto Delgado)
Date: Wed, 11 Nov 2009 09:08:39 +0100
Subject: [gecode-users] braking symmetries in backtracking
In-Reply-To: <63b5c8b00911100331j3564af25t72fd35b69a6efd1a@mail.gmail.com>
References: <e3e0e6e10911100305k64336ee8w8ed09d54fb79f407@mail.gmail.com>
	<63b5c8b00911100331j3564af25t72fd35b69a6efd1a@mail.gmail.com>
Message-ID: <e3e0e6e10911110008x2ef0b29cvdd0778105fad76cd@mail.gmail.com>

Hi Mikael,

Thanks for your answer.

> This sounds like the situation in Steel Mill Slab design. There, any slab
> that has not had anything allocated to it yet is considered symmetrical.
> That is, there is an interchangeable values symmetry on the identities of
> the slabs.

it is kind similar indeed.  I skimmed  the source code of the example
and if i understood correctly,  when the slab selected as val for an
order is empty then a choice point with a single alternative is
created,  avoiding the consideration of the remaining empty slabs as
possible values for the order. But this is possible to do because the
slabs are sorted by capacity (I assume),  and the empty slabs are
always at the end (higher indexes).  Also, since the min value of the
domain of the variables is the one selected by the heuristic, when an
empty slab is reached all other slabs have been previously triedfor
the order.

My case is a little bit more complicated,  i think,  since i can't
guarantee that all possible bins have been tried before for a item,
and that just the ones with the same available capacity as the one the
heuristic is currently considering are the ones left.


> Another possibility is to add
> constraints that break the symmetry explicitly. For an example on how to do
> this, see for example "Breaking Value Symmetry", Walsh, AAAI-2008.

The symmetry i described is dynamic since the available capacity of the bins
change all the time.  I don't think a PRECEDENCE constraint can be applied
here and I want to see if i can do something else first without
starting to consider
GE-trees.

>
> With regards to your proposed solution, you would need to record all the
> information that you need to redo the decision in the Choice object (e.g.,
> the set of symmetrical bins).

That's what I'm doing,  i declared a new attribute in the Choice class
that i extended in the brancher to keep the bins with the same
available capacity. In the commit method i constrain the item to be
different to all the bins  with same available capacity.
I'm using an std vector to keep the bins,  do i need to have any
considerations here about memory and where to allocate the vector?

>When executing the commit-operation, you are
> not guaranteed to have an equivalent state every time.

Does this happen even if i keep the set of equivalent bins in the Choice object?

Best,

Alberto



From cschulte at kth.se  Wed Nov 11 14:10:17 2009
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 11 Nov 2009 14:10:17 +0100
Subject: [gecode-users] High memory consumption during engine declaration
In-Reply-To: <4AF93C26.3070403@neuf.fr>
References: <4AF894F2.8070408@neuf.fr>	<5DCEFAB5-E6FA-4948-B119-3578218E5543@gmail.com>	<000001ca61e2$9583b3a0$c08b1ae0$@se>
	<4AF93C26.3070403@neuf.fr>
Message-ID: <001201ca62d0$50a68390$f1f38ab0$@se>

Hi,

I don't really know what could be the reason without further looking at the
program. The memory consumed looks massive, actually, almost impossible.

Let's do some math: the search tree has a depth of 45, say with
recomputation possibly using adaptive recomputation that might be around 10
spaces stored during search. That is, each space takes almost 100 Meg! A
thousand variables and 30000 propagators (which propagators do you use?)
should normally take much less.

So, looks really fishy.

Christian



--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of benoit
Sent: Tuesday, November 10, 2009 11:11 AM
To: Christian Schulte
Cc: 'Mikael Zayenz Lagerkvist'; users at gecode.org
Subject: [gecode-users] High memory consumption during engine declaration

Good morning,

Thank you both for your replies.
> Another hint: if your model uses the standard Gecode search engines, you
can
> inquire how much memory is occupied by the nodes of the search tree. If
> there is a huge difference between what is reported by the search engine
and
> what is reported by your operating system, you program just has a memory
> leak.
>   
I indeed use a standard Gecode search engine (Branch-and-Bound). I 
followed you advice and performed the test: both values are coherent.
> Then, how deep is the search tree? How many variables and propagators does
> your problem have?
>   
Here are the figures:
- Variables: 622
- Propagators: 25654
- Deep: 49

> In the end: we could say much more if you provided a little bit more
detail
> about what you observe. The information that your program uses a lot of
> memory is not that helpful in itself.
>   
Mea culpa: the memory consumption reaches 862MB.

My message was inaccurate yesterday evening: the memory peak occurs when 
the engine constructor is called. It's maybe consistent with the figures 
provided above ?

Beno?t

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users




From tack at ps.uni-sb.de  Wed Nov 11 14:32:18 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Wed, 11 Nov 2009 13:32:18 +0000
Subject: [gecode-users] High memory consumption during engine declaration
In-Reply-To: <001201ca62d0$50a68390$f1f38ab0$@se>
References: <4AF894F2.8070408@neuf.fr>
	<5DCEFAB5-E6FA-4948-B119-3578218E5543@gmail.com>
	<000001ca61e2$9583b3a0$c08b1ae0$@se> <4AF93C26.3070403@neuf.fr>
	<001201ca62d0$50a68390$f1f38ab0$@se>
Message-ID: <1f82f3260911110532t4976c6a9je5873fe9bea25fcd@mail.gmail.com>

Hi,

if the peak memory is during construction of the engine, it means it
occurs during your problem setup, not during search.  Maybe you can
explain a little more what you're doing there - do you use a lot of
intermediate (STL?) data structures, perform symbolic computations,
read in large files or the like?

Cheers,
   Guido

On Wed, Nov 11, 2009 at 1:10 PM, Christian Schulte <cschulte at kth.se> wrote:
> Hi,
>
> I don't really know what could be the reason without further looking at the
> program. The memory consumed looks massive, actually, almost impossible.
>
> Let's do some math: the search tree has a depth of 45, say with
> recomputation possibly using adaptive recomputation that might be around 10
> spaces stored during search. That is, each space takes almost 100 Meg! A
> thousand variables and 30000 propagators (which propagators do you use?)
> should normally take much less.
>
> So, looks really fishy.
>
> Christian
>
>
>
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of benoit
> Sent: Tuesday, November 10, 2009 11:11 AM
> To: Christian Schulte
> Cc: 'Mikael Zayenz Lagerkvist'; users at gecode.org
> Subject: [gecode-users] High memory consumption during engine declaration
>
> Good morning,
>
> Thank you both for your replies.
>> Another hint: if your model uses the standard Gecode search engines, you
> can
>> inquire how much memory is occupied by the nodes of the search tree. If
>> there is a huge difference between what is reported by the search engine
> and
>> what is reported by your operating system, you program just has a memory
>> leak.
>>
> I indeed use a standard Gecode search engine (Branch-and-Bound). I
> followed you advice and performed the test: both values are coherent.
>> Then, how deep is the search tree? How many variables and propagators does
>> your problem have?
>>
> Here are the figures:
> - Variables: 622
> - Propagators: 25654
> - Deep: 49
>
>> In the end: we could say much more if you provided a little bit more
> detail
>> about what you observe. The information that your program uses a lot of
>> memory is not that helpful in itself.
>>
> Mea culpa: the memory consumption reaches 862MB.
>
> My message was inaccurate yesterday evening: the memory peak occurs when
> the engine constructor is called. It's maybe consistent with the figures
> provided above ?
>
> Beno?t
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>



From yannick.parmentier at univ-orleans.fr  Wed Nov 11 18:23:41 2009
From: yannick.parmentier at univ-orleans.fr (Yannick Parmentier)
Date: Wed, 11 Nov 2009 18:23:41 +0100
Subject: [gecode-users] Gist - linking error
Message-ID: <20091111172341.GC2446@mononoke>


Hi all,

I am trying to use Gist (in stand alone mode) to explore the search tree of my CSP, but unfortunately, I cannot get it to work.
Without Gist, the CSP is solved as expected.

I just added:

#include <gecode/gist.hh>

and then called Gist::dfs on my Space object.

When I compile, I get:

c++   RCG.cc -o RCG -lgecodeint -lgecodeset -lgecodesearch
/tmp/cc7peTxn.o: In function `Gecode::Gist::dfs(Gecode::Space*, Gecode::Gist::Options const&)':
RCG.cc:(.text._ZN6Gecode4Gist3dfsEPNS_5SpaceERKNS0_7OptionsE[Gecode::Gist::dfs(Gecode::Space*, Gecode::Gist::Options const&)]+0x1c): undefined reference to `Gecode::Gist::explore(Gecode::Space*, bool, Gecode::Gist::Options const&)'
/tmp/cc7peTxn.o: In function `RCG::doSearch(RCG*)':
RCG.cc:(.text._ZN3RCG8doSearchEPS_[RCG::doSearch(RCG*)]+0x3a): undefined reference to `Gecode::Gist::Options::def'
collect2: ld returned 1 exit status
make: *** [RCG] Error 1

I tried to link against any gecode library, the result remains the same.

Cheers,

Yannick




From yannick.parmentier at univ-orleans.fr  Wed Nov 11 18:33:06 2009
From: yannick.parmentier at univ-orleans.fr (Yannick Parmentier)
Date: Wed, 11 Nov 2009 18:33:06 +0100
Subject: [gecode-users] Gist - linking error (continued)
Message-ID: <20091111173306.GD2446@mononoke>


Hi,

As a follow up to my previous email. 
The linking error probably comes from a missing flag when compiling gecode, namely the --enable-gist flag.

Sorry for the inconvenience.

Cheers,

Yannick








From cschulte at kth.se  Wed Nov 11 18:37:59 2009
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 11 Nov 2009 18:37:59 +0100
Subject: [gecode-users] Gist - linking error
In-Reply-To: <20091111172341.GC2446@mononoke>
References: <20091111172341.GC2446@mononoke>
Message-ID: <001501ca62f5$b68ffe00$23affa00$@se>

Please read how to link your program: like all other libraries you already
link against (-lgecodeint, ...) you also have to link against libgecodegist
(-lgecodegist).

If the problem pertains - as your message suggests - did you actually build
the Gist library? Do you have the required Qt libraries installed?

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Yannick Parmentier
Sent: Wednesday, November 11, 2009 6:24 PM
To: users at gecode.org
Subject: [gecode-users] Gist - linking error


Hi all,

I am trying to use Gist (in stand alone mode) to explore the search tree of
my CSP, but unfortunately, I cannot get it to work.
Without Gist, the CSP is solved as expected.

I just added:

#include <gecode/gist.hh>

and then called Gist::dfs on my Space object.

When I compile, I get:

c++   RCG.cc -o RCG -lgecodeint -lgecodeset -lgecodesearch
/tmp/cc7peTxn.o: In function `Gecode::Gist::dfs(Gecode::Space*,
Gecode::Gist::Options const&)':
RCG.cc:(.text._ZN6Gecode4Gist3dfsEPNS_5SpaceERKNS0_7OptionsE[Gecode::Gist::d
fs(Gecode::Space*, Gecode::Gist::Options const&)]+0x1c): undefined reference
to `Gecode::Gist::explore(Gecode::Space*, bool, Gecode::Gist::Options
const&)'
/tmp/cc7peTxn.o: In function `RCG::doSearch(RCG*)':
RCG.cc:(.text._ZN3RCG8doSearchEPS_[RCG::doSearch(RCG*)]+0x3a): undefined
reference to `Gecode::Gist::Options::def'
collect2: ld returned 1 exit status
make: *** [RCG] Error 1

I tried to link against any gecode library, the result remains the same.

Cheers,

Yannick


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users




From yannick.parmentier at univ-orleans.fr  Wed Nov 11 20:12:51 2009
From: yannick.parmentier at univ-orleans.fr (Yannick Parmentier)
Date: Wed, 11 Nov 2009 20:12:51 +0100
Subject: [gecode-users] Gist - linking error
In-Reply-To: <001501ca62f5$b68ffe00$23affa00$@se>
References: <20091111172341.GC2446@mononoke>
	<001501ca62f5$b68ffe00$23affa00$@se>
Message-ID: <20091111191251.GE2446@mononoke>


Thanks Christian for your answer.

I did not have any libgecodegist. I just recompiled gecode using the flag --enable-gist and, as you suggested, making sure that libqt was installed.
Now I can link against libgecodegist and use Gist.

Thanks again,

Yannick


On Wed, Nov 11, 2009 at 06:37:59PM +0100, Christian Schulte wrote:
> Please read how to link your program: like all other libraries you already
> link against (-lgecodeint, ...) you also have to link against libgecodegist
> (-lgecodegist).
> 
> If the problem pertains - as your message suggests - did you actually build
> the Gist library? Do you have the required Qt libraries installed?
> 
> Christian
> 
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
> 
> 
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of Yannick Parmentier
> Sent: Wednesday, November 11, 2009 6:24 PM
> To: users at gecode.org
> Subject: [gecode-users] Gist - linking error
> 
> 
> Hi all,
> 
> I am trying to use Gist (in stand alone mode) to explore the search tree of
> my CSP, but unfortunately, I cannot get it to work.
> Without Gist, the CSP is solved as expected.
> 
> I just added:
> 
> #include <gecode/gist.hh>
> 
> and then called Gist::dfs on my Space object.
> 
> When I compile, I get:
> 
> c++   RCG.cc -o RCG -lgecodeint -lgecodeset -lgecodesearch
> /tmp/cc7peTxn.o: In function `Gecode::Gist::dfs(Gecode::Space*,
> Gecode::Gist::Options const&)':
> RCG.cc:(.text._ZN6Gecode4Gist3dfsEPNS_5SpaceERKNS0_7OptionsE[Gecode::Gist::d
> fs(Gecode::Space*, Gecode::Gist::Options const&)]+0x1c): undefined reference
> to `Gecode::Gist::explore(Gecode::Space*, bool, Gecode::Gist::Options
> const&)'
> /tmp/cc7peTxn.o: In function `RCG::doSearch(RCG*)':
> RCG.cc:(.text._ZN3RCG8doSearchEPS_[RCG::doSearch(RCG*)]+0x3a): undefined
> reference to `Gecode::Gist::Options::def'
> collect2: ld returned 1 exit status
> make: *** [RCG] Error 1
> 
> I tried to link against any gecode library, the result remains the same.
> 
> Cheers,
> 
> Yannick
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
> 
> 

-- 
Yannick Parmentier

--------------------------------------------
tel: +33 2 38 41 72 68 (LIFO)
     +33 2 38 49 25 98 (IUT)
www: http://sourcesup.cru.fr/tulipa/yannick
--------------------------------------------



From benoitlaurent at neuf.fr  Thu Nov 12 15:47:54 2009
From: benoitlaurent at neuf.fr (benoit)
Date: Thu, 12 Nov 2009 15:47:54 +0100
Subject: [gecode-users] High memory consumption during engine declaration
In-Reply-To: <1f82f3260911110532t4976c6a9je5873fe9bea25fcd@mail.gmail.com>
References: <4AF894F2.8070408@neuf.fr>	
	<5DCEFAB5-E6FA-4948-B119-3578218E5543@gmail.com>	
	<000001ca61e2$9583b3a0$c08b1ae0$@se> <4AF93C26.3070403@neuf.fr>	
	<001201ca62d0$50a68390$f1f38ab0$@se>
	<1f82f3260911110532t4976c6a9je5873fe9bea25fcd@mail.gmail.com>
Message-ID: <4AFC201A.6040308@neuf.fr>

Hello,
I eventually identified the problem. I am to blame. Despite the piece of 
advice specified in the documentation, I did not worry about the exact 
domain of my variables ("temporarily" of course). Some of them were 
declared with Int::Limits::max.as upper bound. Coupled with the element 
constraint, it caused this high memory consumption. At least, my 
experience may benefit to others.
Thank you again for your help and sorry for the trouble.
Beno?t
> Hi,
>
> if the peak memory is during construction of the engine, it means it
> occurs during your problem setup, not during search.  Maybe you can
> explain a little more what you're doing there - do you use a lot of
> intermediate (STL?) data structures, perform symbolic computations,
> read in large files or the like?
>
> Cheers,
>    Guido
>
> On Wed, Nov 11, 2009 at 1:10 PM, Christian Schulte <cschulte at kth.se> wrote:
>   
>> Hi,
>>
>> I don't really know what could be the reason without further looking at the
>> program. The memory consumed looks massive, actually, almost impossible.
>>
>> Let's do some math: the search tree has a depth of 45, say with
>> recomputation possibly using adaptive recomputation that might be around 10
>> spaces stored during search. That is, each space takes almost 100 Meg! A
>> thousand variables and 30000 propagators (which propagators do you use?)
>> should normally take much less.
>>
>> So, looks really fishy.
>>
>> Christian
>>
>>
>>
>> --
>> Christian Schulte, www.ict.kth.se/~cschulte/
>>
>>
>> -----Original Message-----
>> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
>> Of benoit
>> Sent: Tuesday, November 10, 2009 11:11 AM
>> To: Christian Schulte
>> Cc: 'Mikael Zayenz Lagerkvist'; users at gecode.org
>> Subject: [gecode-users] High memory consumption during engine declaration
>>
>> Good morning,
>>
>> Thank you both for your replies.
>>     
>>> Another hint: if your model uses the standard Gecode search engines, you
>>>       
>> can
>>     
>>> inquire how much memory is occupied by the nodes of the search tree. If
>>> there is a huge difference between what is reported by the search engine
>>>       
>> and
>>     
>>> what is reported by your operating system, you program just has a memory
>>> leak.
>>>
>>>       
>> I indeed use a standard Gecode search engine (Branch-and-Bound). I
>> followed you advice and performed the test: both values are coherent.
>>     
>>> Then, how deep is the search tree? How many variables and propagators does
>>> your problem have?
>>>
>>>       
>> Here are the figures:
>> - Variables: 622
>> - Propagators: 25654
>> - Deep: 49
>>
>>     
>>> In the end: we could say much more if you provided a little bit more
>>>       
>> detail
>>     
>>> about what you observe. The information that your program uses a lot of
>>> memory is not that helpful in itself.
>>>
>>>       
>> Mea culpa: the memory consumption reaches 862MB.
>>
>> My message was inaccurate yesterday evening: the memory peak occurs when
>> the engine constructor is called. It's maybe consistent with the figures
>> provided above ?
>>
>> Beno?t
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>>
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>>
>>     
>
>
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091112/e5a2b304/attachment.htm>

From benouna84 at live.fr  Thu Nov 12 19:30:53 2009
From: benouna84 at live.fr (frank lemoine)
Date: Thu, 12 Nov 2009 19:30:53 +0100
Subject: [gecode-users] gecode error
Message-ID: <COL103-W1428388651749A376C510A6A90@phx.gbl>


hello gecode users,

 

i'm using an extensional constraint with 8 tuple the problem is that i get this message :This application has requested the Runtime to terminate it an unusual way . and when i use just 3 tuple it's fine. can some one help.

 

thank's
 		 	   		  
_________________________________________________________________
Tchattez en direct en en vid?o avec vos amis !  
http://www.windowslive.fr/messenger/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091112/8bcb9d4f/attachment.htm>

From cschulte at kth.se  Thu Nov 12 21:23:49 2009
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 12 Nov 2009 21:23:49 +0100
Subject: [gecode-users] gecode error
In-Reply-To: <COL103-W1428388651749A376C510A6A90@phx.gbl>
References: <COL103-W1428388651749A376C510A6A90@phx.gbl>
Message-ID: <000301ca63d6$0c4cc770$24e65650$@se>

Apparently, an exception is raised which you do not catch.

 

If you mean with ?3 tuple?  a ternary tuple and with ?8 tuple? an 8-ary
tuple, then: why should that work? Provided you are using a TupleSet and not
a DFA (which you don?t tell us). The arity of the tuple set must coincide
with the number of variables when posting an extensional constraint using
tuple sets. The documentation makes that plain (common sense does that too).

 

Christian

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of frank lemoine
Sent: Thursday, November 12, 2009 7:31 PM
To: gecode gecode
Subject: [gecode-users] gecode error

 

hello gecode users,
 
i'm using an extensional constraint with 8 tuple the problem is that i get
this message :This application has requested the Runtime to terminate it an
unusual way . and when i use just 3 tuple it's fine. can some one help.
 
thank's

  _____  

Vous ?tes ?tudiants ? B?n?ficiez de Windows 7 ? 35? !  D?couvrez
<http://www.windows-7-pour-les-etudiants.com>  notre offre ! 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091112/a85f475c/attachment.htm>

From zayenz at gmail.com  Fri Nov 13 13:52:05 2009
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Fri, 13 Nov 2009 13:52:05 +0100
Subject: [gecode-users] braking symmetries in backtracking
In-Reply-To: <e3e0e6e10911110008x2ef0b29cvdd0778105fad76cd@mail.gmail.com>
References: <e3e0e6e10911100305k64336ee8w8ed09d54fb79f407@mail.gmail.com> 
	<63b5c8b00911100331j3564af25t72fd35b69a6efd1a@mail.gmail.com> 
	<e3e0e6e10911110008x2ef0b29cvdd0778105fad76cd@mail.gmail.com>
Message-ID: <63b5c8b00911130452n6f4bb50bv6adefba23397e0f9@mail.gmail.com>

On Wed, Nov 11, 2009 at 9:08 AM, Alberto Delgado <trosky99 at gmail.com> wrote:
> > This sounds like the situation in Steel Mill Slab design. There, any slab
> > that has not had anything allocated to it yet is considered symmetrical.
> > That is, there is an interchangeable values symmetry on the identities of
> > the slabs.
>
> it is kind similar indeed. ?I skimmed ?the source code of the example
> and if i understood correctly, ?when the slab selected as val for an
> order is empty then a choice point with a single alternative is
> created, ?avoiding the consideration of the remaining empty slabs as
> possible values for the order. But this is possible to do because the
> slabs are sorted by capacity (I assume), ?and the empty slabs are
> always at the end (higher indexes). ?Also, since the min value of the
> domain of the variables is the one selected by the heuristic, when an
> empty slab is reached all other slabs have been previously triedfor
> the order.

Just to clear up, the slabs in steel mill can be of different sizes,
but the size is not decided until all things have been packed into it.
Then for every packed size, the loss-array gives how much empty space
is available. This assumes that there is a free choice of the
slab-sizes to use, which I guess is not the case for you.


> That's what I'm doing, ?i declared a new attribute in the Choice class
> that i extended in the brancher to keep the bins with the same
> available capacity. In the commit method i constrain the item to be
> different to all the bins ?with same available capacity.
> I'm using an std vector to keep the bins, ?do i need to have any
> considerations here about memory and where to allocate the vector?

This seems like it should work. All data in a Choice class should be
allocated from the normal heap, it needs to be able to outlive the
space it comes from.


> >When executing the commit-operation, you are
> > not guaranteed to have an equivalent state every time.
>
> Does this happen even if i keep the set of equivalent bins in the Choice object?

The current values of the variables can be different (either because
it is not at fix-point, or because there are non-monotonic
propagators), but it still represents the same subtree. I just meant
to warn you that you can''t compute any information from the variables
during commit.

Cheers,
Mikael
--
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/



From ggutierrez at atlas.puj.edu.co  Tue Nov 24 12:12:53 2009
From: ggutierrez at atlas.puj.edu.co (Gustavo Gutierrez)
Date: Tue, 24 Nov 2009 12:12:53 +0100
Subject: [gecode-users] Space allocator
Message-ID: <e7b0e5a40911240312k5f123306n4ffc8c2a24f8f47b@mail.gmail.com>

Hello,

After trying to allocate memory for a boost data structure from a gecode
space we got an error regarding a missing assignment operator in the
allocator code. We don't know if this method is actually needed by more data
structures or not but we think  the code fixing the problem is quite simple
and probably you could include it. Attached to this mail you will find the
small patch.


Regards,
-- 
Gustavo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091124/aa4216b0/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: allocator.patch
Type: text/x-patch
Size: 635 bytes
Desc: not available
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091124/aa4216b0/attachment.bin>

From cschulte at kth.se  Tue Nov 24 23:13:00 2009
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 24 Nov 2009 23:13:00 +0100
Subject: [gecode-users] Space allocator
In-Reply-To: <e7b0e5a40911240312k5f123306n4ffc8c2a24f8f47b@mail.gmail.com>
References: <e7b0e5a40911240312k5f123306n4ffc8c2a24f8f47b@mail.gmail.com>
Message-ID: <003201ca6d53$49e41d00$ddac5700$@se>

Hi Gustavo,

 

Thanks! It?s in the trunk now.

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Gustavo Gutierrez
Sent: Tuesday, November 24, 2009 12:13 PM
To: gecode list
Subject: [gecode-users] Space allocator

 

Hello,

After trying to allocate memory for a boost data structure from a gecode space we got an error regarding a missing assignment operator in the allocator code. We don't know if this method is actually needed by more data structures or not but we think  the code fixing the problem is quite simple and probably you could include it. Attached to this mail you will find the small patch.


Regards,
-- 
Gustavo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091124/63990405/attachment.htm>

From cschulte at kth.se  Thu Nov 26 17:21:36 2009
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 26 Nov 2009 17:21:36 +0100
Subject: [gecode-users] Server migration...
Message-ID: <009001ca6eb4$874adf00$95e09d00$@se>

Dear all,

 

We are in the process of migrating gecode.org to a new server. Please expect
some hick-ups in the near future. Right now, we are migrating the svn, so
svn access will not be possible for some time. We will let you know when svn
migration is done and also about other quirks to come.

 

Sorry for any inconvenience.

 

Christian

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ps.uni-sb.de/pipermail/users/attachments/20091126/d39d891a/attachment.htm>

From cschulte at kth.se  Fri Nov 27 14:01:39 2009
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 27 Nov 2009 14:01:39 +0100
Subject: [gecode-users] Server migration...
In-Reply-To: <009001ca6eb4$874adf00$95e09d00$@se>
References: <009001ca6eb4$874adf00$95e09d00$@se>
Message-ID: <003801ca6f61$c239d000$46ad7000$@se>

Dear all,

 

the server migration is done. So everything should work as before. Please
let us know if anything does not work as expected.

 

All the best

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Christian Schulte
Sent: Thursday, November 26, 2009 5:22 PM
To: 'gecode gecode'
Subject: [gecode-users] Server migration...

 

Dear all,

 

We are in the process of migrating gecode.org to a new server. Please expect
some hick-ups in the near future. Right now, we are migrating the svn, so
svn access will not be possible for some time. We will let you know when svn
migration is done and also about other quirks to come.

 

Sorry for any inconvenience.

 

Christian

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20091127/685abd88/attachment.html>

From vincent.barichard at univ-angers.fr  Sat Nov 28 20:55:14 2009
From: vincent.barichard at univ-angers.fr (Vincent Barichard)
Date: Sat, 28 Nov 2009 20:55:14 +0100
Subject: [gecode-users] Remapping of BoolVar propagation conditions
Message-ID: <F60FAE32-BB49-4F79-BBB2-053A63262B99@univ-angers.fr>

Hi,

I would like to add a propagation condition to the BoolVar variables.  
I succeeded
to add this new propagation condition but when I tried to subscribe  
variables to
this new propagation condition, I discovered that all propagation  
conditions
for BoolVar are remapped to PC_BOOL_VAL.

Why are they remapped ? Can I safely removed this mapping ?

I found the remapping of the propagation condition in the file gecode/ 
int/var-imp/bool.hpp.

   forceinline void
   BoolVarImp::subscribe(Space& home, Propagator& p, PropCond,
                         bool process) {
     // Subscription can be used with integer propagation conditions,
     // which must be remapped to the single Boolean propagation  
condition.
     BoolVarImpBase::subscribe(home,p,PC_BOOL_VAL,assigned(),process);
   }
   forceinline void
   BoolVarImp::cancel(Space& home, Propagator& p, PropCond) {
     BoolVarImpBase::cancel(home,p,PC_BOOL_VAL,assigned());
   }

Thank you for your help.

Cheers,
Vincent

Vincent Barichard         Universit? d'Angers (LERIA)
Tel: 02 41 73 52 06      D?partement Informatique
Fax: 02 41 73 50 73     H203



From tack at ps.uni-sb.de  Sun Nov 29 14:44:34 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sun, 29 Nov 2009 14:44:34 +0100
Subject: [gecode-users] Remapping of BoolVar propagation conditions
In-Reply-To: <F60FAE32-BB49-4F79-BBB2-053A63262B99@univ-angers.fr>
References: <F60FAE32-BB49-4F79-BBB2-053A63262B99@univ-angers.fr>
Message-ID: <85B1484E-6406-4F38-8FBF-9986D6C6A6F2@ps.uni-sb.de>

Hi Vincent,

for BoolVars, there are only two possible events, "assigned 0" and "assigned 1", so I assume you wanted to add those so that your propagator is only scheduled for particular assignments, not for the general PC_BOOL_VAL.
The reason why we don't support these events is that we require propagators to report when they are subsumed at the latest when all their variables are assigned.  If a propagator only subscribed to the hypothetical PC_BOOL_ONE, but the variable was assigned 0, the propagator would not be able to report subsumption, and would remain in the system although it could be removed.
Note that this is an optimization, so if you want to change the behavior, the system would still work as expected, it would just need more memory in certain situations.  You should however check first if the additional calls of the propagators are really a performance problem.

Cheers,
	Guido

Vincent Barichard wrote:

> Hi,
> 
> I would like to add a propagation condition to the BoolVar variables. I succeeded
> to add this new propagation condition but when I tried to subscribe variables to
> this new propagation condition, I discovered that all propagation conditions
> for BoolVar are remapped to PC_BOOL_VAL.
> 
> Why are they remapped ? Can I safely removed this mapping ?
> 
> I found the remapping of the propagation condition in the file gecode/int/var-imp/bool.hpp.
> 
>  forceinline void
>  BoolVarImp::subscribe(Space& home, Propagator& p, PropCond,
>                        bool process) {
>    // Subscription can be used with integer propagation conditions,
>    // which must be remapped to the single Boolean propagation condition.
>    BoolVarImpBase::subscribe(home,p,PC_BOOL_VAL,assigned(),process);
>  }
>  forceinline void
>  BoolVarImp::cancel(Space& home, Propagator& p, PropCond) {
>    BoolVarImpBase::cancel(home,p,PC_BOOL_VAL,assigned());
>  }
> 
> Thank you for your help.
> 
> Cheers,
> Vincent
> 
> Vincent Barichard         Universit? d'Angers (LERIA)
> Tel: 02 41 73 52 06      D?partement Informatique
> Fax: 02 41 73 50 73     H203
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From trosky99 at gmail.com  Sun Nov 29 14:49:11 2009
From: trosky99 at gmail.com (Alberto Delgado)
Date: Sun, 29 Nov 2009 14:49:11 +0100
Subject: [gecode-users] question about counting constraint
Message-ID: <e3e0e6e10911290549j6818ade1rf92efeba7fb3d99b@mail.gmail.com>

Hi all,

Let's say i have an IntVarArray vars,  an integer value b and an
IntVar car.  According to the documentation,  if i post the
constraint: count(*this,vars,b,IRT_EQ,car),  the variable car will
represent the number of occurrences of b in vars.

Now,  instead of b being an integer value let's assume it's an IntArgs
with all the elements of the domain of variables from vars, and that
car is now an IntVarArray that will represent the number of
occurrences of all values from b in vars.  I wanted to constrain the
occurrences of each value from b in vars according to car,  so i
implemented a for loop and posted a count constraint for each value in
b and variable in car:  count(*this,vars,b[i],IRT_EQ,car[i]).

Then I realized that it is possible to use just one count constraint:
count(*this,vars,car,b),  that should be equivalent to posting a count
constraint for each value in b.

Attached to this email there is an example that reflects what i
described above. When i run the example with line 64 uncommented and
line 67 commented,  this is using a loop to post a count constraint
for each value in b,  the solver finds a solution without failing at
all. If i comment line 64 and uncomment line 67,  posting just one
count constraint,  the solver fails right away.

Did i get wrong the definition of count(*this,vars,car,b) and it is
not equivalent to post a constraint for each value in b?

Thanks in advance,

Alberto
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.cc
Type: text/x-c++src
Size: 2133 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20091129/ae0bd3bd/attachment.cc>

From tack at ps.uni-sb.de  Sun Nov 29 15:39:52 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sun, 29 Nov 2009 15:39:52 +0100
Subject: [gecode-users] question about counting constraint
In-Reply-To: <e3e0e6e10911290549j6818ade1rf92efeba7fb3d99b@mail.gmail.com>
References: <e3e0e6e10911290549j6818ade1rf92efeba7fb3d99b@mail.gmail.com>
Message-ID: <BA1EE17D-D23A-4A5D-8557-255A0EA5B8C2@ps.uni-sb.de>

Hi Alberto,

that was a bug in the global count posting functions.  The values array (and thus the corresponding array of occurrence variables) had to be sorted.  I fixed this in the trunk to accept unsorted arrays, and it will be part of the upcoming 3.2.2 release.

Cheers,
	Guido

Alberto Delgado wrote:

> Hi all,
> 
> Let's say i have an IntVarArray vars,  an integer value b and an
> IntVar car.  According to the documentation,  if i post the
> constraint: count(*this,vars,b,IRT_EQ,car),  the variable car will
> represent the number of occurrences of b in vars.
> 
> Now,  instead of b being an integer value let's assume it's an IntArgs
> with all the elements of the domain of variables from vars, and that
> car is now an IntVarArray that will represent the number of
> occurrences of all values from b in vars.  I wanted to constrain the
> occurrences of each value from b in vars according to car,  so i
> implemented a for loop and posted a count constraint for each value in
> b and variable in car:  count(*this,vars,b[i],IRT_EQ,car[i]).
> 
> Then I realized that it is possible to use just one count constraint:
> count(*this,vars,car,b),  that should be equivalent to posting a count
> constraint for each value in b.
> 
> Attached to this email there is an example that reflects what i
> described above. When i run the example with line 64 uncommented and
> line 67 commented,  this is using a loop to post a count constraint
> for each value in b,  the solver finds a solution without failing at
> all. If i comment line 64 and uncomment line 67,  posting just one
> count constraint,  the solver fails right away.
> 
> Did i get wrong the definition of count(*this,vars,car,b) and it is
> not equivalent to post a constraint for each value in b?
> 
> Thanks in advance,
> 
> Alberto
> <test.cc>_______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From tack at ps.uni-sb.de  Sun Nov 29 15:42:49 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Sun, 29 Nov 2009 15:42:49 +0100
Subject: [gecode-users] question about counting constraint
In-Reply-To: <BA1EE17D-D23A-4A5D-8557-255A0EA5B8C2@ps.uni-sb.de>
References: <e3e0e6e10911290549j6818ade1rf92efeba7fb3d99b@mail.gmail.com>
	<BA1EE17D-D23A-4A5D-8557-255A0EA5B8C2@ps.uni-sb.de>
Message-ID: <7E220447-A043-4277-B993-B79E13ACD89E@ps.uni-sb.de>

Oh, and thanks of course :-)

Guido

Guido Tack wrote:

> Hi Alberto,
> 
> that was a bug in the global count posting functions.  The values array (and thus the corresponding array of occurrence variables) had to be sorted.  I fixed this in the trunk to accept unsorted arrays, and it will be part of the upcoming 3.2.2 release.
> 
> Cheers,
> 	Guido
> 
> Alberto Delgado wrote:
> 
>> Hi all,
>> 
>> Let's say i have an IntVarArray vars,  an integer value b and an
>> IntVar car.  According to the documentation,  if i post the
>> constraint: count(*this,vars,b,IRT_EQ,car),  the variable car will
>> represent the number of occurrences of b in vars.
>> 
>> Now,  instead of b being an integer value let's assume it's an IntArgs
>> with all the elements of the domain of variables from vars, and that
>> car is now an IntVarArray that will represent the number of
>> occurrences of all values from b in vars.  I wanted to constrain the
>> occurrences of each value from b in vars according to car,  so i
>> implemented a for loop and posted a count constraint for each value in
>> b and variable in car:  count(*this,vars,b[i],IRT_EQ,car[i]).
>> 
>> Then I realized that it is possible to use just one count constraint:
>> count(*this,vars,car,b),  that should be equivalent to posting a count
>> constraint for each value in b.
>> 
>> Attached to this email there is an example that reflects what i
>> described above. When i run the example with line 64 uncommented and
>> line 67 commented,  this is using a loop to post a count constraint
>> for each value in b,  the solver finds a solution without failing at
>> all. If i comment line 64 and uncomment line 67,  posting just one
>> count constraint,  the solver fails right away.
>> 
>> Did i get wrong the definition of count(*this,vars,car,b) and it is
>> not equivalent to post a constraint for each value in b?
>> 
>> Thanks in advance,
>> 
>> Alberto
>> <test.cc>_______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Sun Nov 29 17:34:31 2009
From: cschulte at kth.se (Christian Schulte)
Date: Sun, 29 Nov 2009 17:34:31 +0100
Subject: [gecode-users] Remapping of BoolVar propagation conditions
In-Reply-To: <85B1484E-6406-4F38-8FBF-9986D6C6A6F2@ps.uni-sb.de>
References: <F60FAE32-BB49-4F79-BBB2-053A63262B99@univ-angers.fr>
	<85B1484E-6406-4F38-8FBF-9986D6C6A6F2@ps.uni-sb.de>
Message-ID: <000001ca7111$d61084f0$82318ed0$@se>

Hi,

I am sorry but I do not understand Guido's answer. The reason why Boolean
propagation conditions are remapped is simple: we have many propagators that
are used both for Boolean as well integer views. Hence, both Boolean as well
as integer views need to have the same propagation conditions. As there is
no need to have anything but assigned as a condition for Boolean variables,
the integer conditions are mapped to assigned.

Changing this will break all propagators that are used for integer as well
as Boolean variables. 

However, if you want to add a propagation condition to Boolean variables
that's fine. You only have to make sure that integer conditions are mapped
appropriately.

If you really want to know whether a Boolean variable is assigned 0/1 don't
use propagation conditions but use advisors. See the Boolean propagators
such as NaryOr or Clause for an example.

Christian

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Guido Tack
Sent: Sunday, November 29, 2009 2:45 PM
To: Vincent Barichard
Cc: gecode list
Subject: Re: [gecode-users] Remapping of BoolVar propagation conditions

Hi Vincent,

for BoolVars, there are only two possible events, "assigned 0" and "assigned
1", so I assume you wanted to add those so that your propagator is only
scheduled for particular assignments, not for the general PC_BOOL_VAL.
The reason why we don't support these events is that we require propagators
to report when they are subsumed at the latest when all their variables are
assigned.  If a propagator only subscribed to the hypothetical PC_BOOL_ONE,
but the variable was assigned 0, the propagator would not be able to report
subsumption, and would remain in the system although it could be removed.
Note that this is an optimization, so if you want to change the behavior,
the system would still work as expected, it would just need more memory in
certain situations.  You should however check first if the additional calls
of the propagators are really a performance problem.

Cheers,
	Guido

Vincent Barichard wrote:

> Hi,
> 
> I would like to add a propagation condition to the BoolVar variables. I
succeeded
> to add this new propagation condition but when I tried to subscribe
variables to
> this new propagation condition, I discovered that all propagation
conditions
> for BoolVar are remapped to PC_BOOL_VAL.
> 
> Why are they remapped ? Can I safely removed this mapping ?
> 
> I found the remapping of the propagation condition in the file
gecode/int/var-imp/bool.hpp.
> 
>  forceinline void
>  BoolVarImp::subscribe(Space& home, Propagator& p, PropCond,
>                        bool process) {
>    // Subscription can be used with integer propagation conditions,
>    // which must be remapped to the single Boolean propagation condition.
>    BoolVarImpBase::subscribe(home,p,PC_BOOL_VAL,assigned(),process);
>  }
>  forceinline void
>  BoolVarImp::cancel(Space& home, Propagator& p, PropCond) {
>    BoolVarImpBase::cancel(home,p,PC_BOOL_VAL,assigned());
>  }
> 
> Thank you for your help.
> 
> Cheers,
> Vincent
> 
> Vincent Barichard         Universit? d'Angers (LERIA)
> Tel: 02 41 73 52 06      D?partement Informatique
> Fax: 02 41 73 50 73     H203
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From vincent.barichard at univ-angers.fr  Mon Nov 30 09:32:47 2009
From: vincent.barichard at univ-angers.fr (Vincent Barichard)
Date: Mon, 30 Nov 2009 09:32:47 +0100
Subject: [gecode-users] Remapping of BoolVar propagation conditions
In-Reply-To: <000001ca7111$d61084f0$82318ed0$@se>
References: <F60FAE32-BB49-4F79-BBB2-053A63262B99@univ-angers.fr>
	<85B1484E-6406-4F38-8FBF-9986D6C6A6F2@ps.uni-sb.de>
	<000001ca7111$d61084f0$82318ed0$@se>
Message-ID: <52DF1180-C350-49B9-9E7E-29B7A63DBCE8@univ-angers.fr>

Hi,

Thank you both for your answers. As I don't want to break all  
propagators that are used for
integer as well as boolean variables, I see no choice but to use  
PC_BOOL_VAL.

Maybe one of you may see another way ? I make new functions on Boolean  
variables (and associated views) which don't set domain to 1 or 0 (I  
copied "ModEvent  BoolVarImp::one_none(Space& home)" and removed the  
unwanted instructions). These functions notify new events (called  
ME_BOOL_SAME in bool.vis file (see attached file)). I mapped this new  
event to the PC_BOOL_SAME propagation condition.

Now I change an existing propagator (like the "Or" propagator), and I  
want it to be awaken when ME_BOOL_SAME
is emitted. As the variable is not yet assigned, I didn't want to emit  
the ME_BOOL_VAL event because I didn't want to
wake up propagators which only subscribed to the PC_BOOL_VAL condition.

So during propagation, I call my new functions on Boolean variables,  
the ME_BOOL_SAME event is sent and propagators which subscribe to the  
PC_BOOL_SAME condition are wake up. Other propagators are not awaken  
(except if a ME_BOOL_VAL event has also been sent). Is it possible ?  
Should I use ME_BOOL_VAL ? If I use ME_BOOL_VAL other propagators will  
be awaken for nothing.

Thanks for your help.

Cheers,
Vincent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: bool.vis
Type: application/octet-stream
Size: 2971 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20091130/a850ae13/attachment-0001.obj>
-------------- next part --------------

Le 29 nov. 09 ? 17:34, Christian Schulte a ?crit :

> Hi,
>
> I am sorry but I do not understand Guido's answer. The reason why  
> Boolean
> propagation conditions are remapped is simple: we have many  
> propagators that
> are used both for Boolean as well integer views. Hence, both Boolean  
> as well
> as integer views need to have the same propagation conditions. As  
> there is
> no need to have anything but assigned as a condition for Boolean  
> variables,
> the integer conditions are mapped to assigned.
>
> Changing this will break all propagators that are used for integer  
> as well
> as Boolean variables.
>
> However, if you want to add a propagation condition to Boolean  
> variables
> that's fine. You only have to make sure that integer conditions are  
> mapped
> appropriately.
>
> If you really want to know whether a Boolean variable is assigned  
> 0/1 don't
> use propagation conditions but use advisors. See the Boolean  
> propagators
> such as NaryOr or Clause for an example.
>
> Christian
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On  
> Behalf
> Of Guido Tack
> Sent: Sunday, November 29, 2009 2:45 PM
> To: Vincent Barichard
> Cc: gecode list
> Subject: Re: [gecode-users] Remapping of BoolVar propagation  
> conditions
>
> Hi Vincent,
>
> for BoolVars, there are only two possible events, "assigned 0" and  
> "assigned
> 1", so I assume you wanted to add those so that your propagator is  
> only
> scheduled for particular assignments, not for the general PC_BOOL_VAL.
> The reason why we don't support these events is that we require  
> propagators
> to report when they are subsumed at the latest when all their  
> variables are
> assigned.  If a propagator only subscribed to the hypothetical  
> PC_BOOL_ONE,
> but the variable was assigned 0, the propagator would not be able to  
> report
> subsumption, and would remain in the system although it could be  
> removed.
> Note that this is an optimization, so if you want to change the  
> behavior,
> the system would still work as expected, it would just need more  
> memory in
> certain situations.  You should however check first if the  
> additional calls
> of the propagators are really a performance problem.
>
> Cheers,
> 	Guido
>
> Vincent Barichard wrote:
>
>> Hi,
>>
>> I would like to add a propagation condition to the BoolVar  
>> variables. I
> succeeded
>> to add this new propagation condition but when I tried to subscribe
> variables to
>> this new propagation condition, I discovered that all propagation
> conditions
>> for BoolVar are remapped to PC_BOOL_VAL.
>>
>> Why are they remapped ? Can I safely removed this mapping ?
>>
>> I found the remapping of the propagation condition in the file
> gecode/int/var-imp/bool.hpp.
>>
>> forceinline void
>> BoolVarImp::subscribe(Space& home, Propagator& p, PropCond,
>>                       bool process) {
>>   // Subscription can be used with integer propagation conditions,
>>   // which must be remapped to the single Boolean propagation  
>> condition.
>>   BoolVarImpBase::subscribe(home,p,PC_BOOL_VAL,assigned(),process);
>> }
>> forceinline void
>> BoolVarImp::cancel(Space& home, Propagator& p, PropCond) {
>>   BoolVarImpBase::cancel(home,p,PC_BOOL_VAL,assigned());
>> }
>>
>> Thank you for your help.
>>
>> Cheers,
>> Vincent
>>
>> Vincent Barichard         Universit? d'Angers (LERIA)
>> Tel: 02 41 73 52 06      D?partement Informatique
>> Fax: 02 41 73 50 73     H203
>>
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

Vincent Barichard         Universit? d'Angers (LERIA)
Tel: 02 41 73 52 06      D?partement Informatique
Fax: 02 41 73 50 73     H203


From cschulte at kth.se  Mon Nov 30 16:35:14 2009
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 30 Nov 2009 16:35:14 +0100
Subject: [gecode-users] Remapping of BoolVar propagation conditions
In-Reply-To: <52DF1180-C350-49B9-9E7E-29B7A63DBCE8@univ-angers.fr>
References: <F60FAE32-BB49-4F79-BBB2-053A63262B99@univ-angers.fr>	<85B1484E-6406-4F38-8FBF-9986D6C6A6F2@ps.uni-sb.de>	<000001ca7111$d61084f0$82318ed0$@se>
	<52DF1180-C350-49B9-9E7E-29B7A63DBCE8@univ-angers.fr>
Message-ID: <007c01ca71d2$b7adec20$2709c460$@se>

Actually what you have to do is the following: you define two classes for
Boolean views, one that rewrites its propagation conditions and the other
one that does not. Then your propagators can use the views without rewriting
while the other propagators can use the variables with rewriting.

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Vincent Barichard
Sent: Monday, November 30, 2009 9:33 AM
To: Christian Schulte
Cc: 'Guido Tack'; 'gecode list'
Subject: Re: [gecode-users] Remapping of BoolVar propagation conditions

Hi,

Thank you both for your answers. As I don't want to break all propagators
that are used for integer as well as boolean variables, I see no choice but
to use PC_BOOL_VAL.

Maybe one of you may see another way ? I make new functions on Boolean
variables (and associated views) which don't set domain to 1 or 0 (I copied
"ModEvent  BoolVarImp::one_none(Space& home)" and removed the unwanted
instructions). These functions notify new events (called ME_BOOL_SAME in
bool.vis file (see attached file)). I mapped this new event to the
PC_BOOL_SAME propagation condition.

Now I change an existing propagator (like the "Or" propagator), and I want
it to be awaken when ME_BOOL_SAME is emitted. As the variable is not yet
assigned, I didn't want to emit the ME_BOOL_VAL event because I didn't want
to wake up propagators which only subscribed to the PC_BOOL_VAL condition.

So during propagation, I call my new functions on Boolean variables, the
ME_BOOL_SAME event is sent and propagators which subscribe to the
PC_BOOL_SAME condition are wake up. Other propagators are not awaken (except
if a ME_BOOL_VAL event has also been sent). Is it possible ?  
Should I use ME_BOOL_VAL ? If I use ME_BOOL_VAL other propagators will be
awaken for nothing.

Thanks for your help.

Cheers,
Vincent



From tack at ps.uni-sb.de  Mon Nov 30 17:05:30 2009
From: tack at ps.uni-sb.de (Guido Tack)
Date: Mon, 30 Nov 2009 17:05:30 +0100
Subject: [gecode-users] Gecode 3.2.2 released
Message-ID: <8E7F3A06-7B35-4899-BC98-45E9A2B6D951@ps.uni-sb.de>

Dear all,

we are releasing a bugfix version of Gecode.

                 Gecode 3.2.2
          http://www.gecode.org

This release adds the sequence constraint (contributed by David Rijsman, Quintiq) and has as always some small additions and fixes.

On our web site, you find source packages, as well as binary packages for Windows and Mac OS.

Cheers,
	Guido



