<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Memory consumption - element constraint
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Memory%20consumption%20-%20element%20constraint&In-Reply-To=%3C000f01ca5bff%24c51f6e80%244f5e4b80%24%40se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002687.html">
   <LINK REL="Next"  HREF="002689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Memory consumption - element constraint</H1>
    <B>Christian Schulte</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Memory%20consumption%20-%20element%20constraint&In-Reply-To=%3C000f01ca5bff%24c51f6e80%244f5e4b80%24%40se%3E"
       TITLE="[gecode-users] Memory consumption - element constraint">cschulte at kth.se
       </A><BR>
    <I>Mon Nov  2 22:02:20 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002687.html">[gecode-users] Memory consumption - element constraint
</A></li>
        <LI>Next message: <A HREF="002689.html">[gecode-users] Memory consumption - element constraint
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2688">[ date ]</a>
              <a href="thread.html#2688">[ thread ]</a>
              <a href="subject.html#2688">[ subject ]</a>
              <a href="author.html#2688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh, there is another quirk too watch out and that is on my todo list:
Suppose you post many, many element constraints each of which uses exactly
the same integer array. Then for each element constraint posted a new array
is created (not for each copied, but for each posted). What is in principle
possible is to first create something that is called a SharedArray (which is
not yet exposed on the modeling layer but is used inside the implementation
of element) and post the element constraint with this shared array instead.
Then the array will exist only once in memory.

However, this you can only see if you post several thousands of element
constraints.

Anyway, shared arrays will be exposed on the modeling layer in 3.2.1 which
will be available shortly.

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A> [mailto:<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users-bounces at gecode.org</A>] On Behalf
Of benoit
Sent: Monday, November 02, 2009 9:54 PM
To: Christian Schulte
Cc: <A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
Subject: Re: [gecode-users] Memory consumption - element constraint

Hello,
&gt;<i> Hi Benoit,
</I>&gt;<i>
</I>&gt;<i> Maybe you want to tell us how large your graphs are? 
</I>&gt;<i>   
</I>The largest one encountered so far only contains 310 nodes. Each arcs is 
duplicated 5 times. The density is approximatively 5%.
&gt;<i> To give you an idea, we have been playing a little bit with some word
</I>&gt;<i> problems (brought to us by H&#229;kan Kjellerstrand). Here, in the small
</I>examples
&gt;<i> we tried, the arrays have around 70,000 elements and there are plenty of
</I>&gt;<i> these element constraints and everything is solved in around 8 Megabytes
</I>of
&gt;<i> main memory. I think, H&#229;kan even successfully tried examples with ten
</I>times
&gt;<i> as many elements.
</I>&gt;<i>   
</I>Ok. In my case, the figures are far below. The problem must come from my 
implementation. I shall have a look on H&#229;kan's page.
&gt;<i> Or, to put it into perspective: solving these puzzles with the large
</I>element
&gt;<i> constraints takes a small fraction of the time it takes a C++ compiler to
</I>&gt;<i> compile the source code containing the word lists for the element
</I>&gt;<i> constraints as string constants...
</I>&gt;<i>   
</I>Ok.

Thank you for your answer and more generally for the excellent work 
accomplished in Gecode.

Regards,

Beno&#238;t


_______________________________________________
Gecode users mailing list
<A HREF="https://www.ps.uni-sb.de/mailman/listinfo/users">users at gecode.org</A>
<A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002687.html">[gecode-users] Memory consumption - element constraint
</A></li>
	<LI>Next message: <A HREF="002689.html">[gecode-users] Memory consumption - element constraint
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2688">[ date ]</a>
              <a href="thread.html#2688">[ thread ]</a>
              <a href="subject.html#2688">[ subject ]</a>
              <a href="author.html#2688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ps.uni-sb.de/mailman/listinfo/users">More information about the gecode-users
mailing list</a><br>
</body></html>
