<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Limits on nonlinear constraints
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Limits%20on%20nonlinear%20constraints&In-Reply-To=%3CFDE8C768-1C50-4848-9589-85518594FAE5%40gecode.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003010.html">
   <LINK REL="Next"  HREF="003012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Limits on nonlinear constraints</H1>
    <B>Guido Tack</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Limits%20on%20nonlinear%20constraints&In-Reply-To=%3CFDE8C768-1C50-4848-9589-85518594FAE5%40gecode.org%3E"
       TITLE="[gecode-users] Limits on nonlinear constraints">tack at gecode.org
       </A><BR>
    <I>Fri Aug 20 14:58:55 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003010.html">[gecode-users] Limits on nonlinear constraints
</A></li>
        <LI>Next message: <A HREF="003012.html">[gecode-users] Limits on nonlinear constraints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3011">[ date ]</a>
              <a href="thread.html#3011">[ thread ]</a>
              <a href="subject.html#3011">[ subject ]</a>
              <a href="author.html#3011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Javier Romero wrote:

&gt;<i> Hi,
</I>&gt;<i> I'm a newbie in Gecode, but in the first stages of trying it i've found something that puzzles me. After writing a program with a set of highly nonlinear constraints which includes the following constraint (apart from others)
</I>&gt;<i> 
</I>&gt;<i>     IntVar k = expr(*this, 2*x0*x1*x2);
</I>&gt;<i>     IntVar kc01= (*this,x2*(sqr(x0)+sqr(x1)-sqr(d01min)));
</I>&gt;<i>     IntVar kc02= (*this,x1*(sqr(x0)+sqr(x2)-sqr(d02min)));
</I>&gt;<i>     IntVar kc12= (*this,x0*(sqr(x2)+sqr(x1)-sqr(d12min)));
</I>&gt;<i>     rel(*this,k*(sqr(kc01)+sqr(kc02)+sqr(kc12)) &lt; (k*k*k+2*kc01*kc02*kc12));
</I>&gt;<i> 
</I>&gt;<i>  i get an output like this:
</I>[...]
&gt;<i> That is, it returns inmediately with no solution. However, the problem has a solution, and actually it finds it by commenting the last lined of the code posted above (by chance; the constraint is actually necessary). This is how the output looks when the solution is found:
</I>[...]
&gt;<i> I tested manually (and with a python script) that the solution obtained is compliant with the constraint that was removed. So i wonder if there is a limitation on the level of the nonlinearities in Gecode (i think it's unlikely), in the number of constraints (also unlikely) or what else could have happened. The code is basically an adaptation of SMM example to my arithmetic constraints. I can post it if necessary.
</I>
If you could give me a small example that I can compile and run, I can have a look.  The code for posting non-linear expressions is relatively new, and there may be bugs that our test suite has not found.

One thing you could try is to decompose the constraints (in particular the last line) manually, i.e. not use anything from minimodel.hh, but declare temporary IntVars and then only use the mult, linear, and sqr functions from int.hh.  If that works, then it's definitely a problem in how minimodel decomposes the constraint.

Cheers,
	Guido

-- 
Guido Tack, <A HREF="http://people.cs.kuleuven.be/~guido.tack/">http://people.cs.kuleuven.be/~guido.tack/</A>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003010.html">[gecode-users] Limits on nonlinear constraints
</A></li>
	<LI>Next message: <A HREF="003012.html">[gecode-users] Limits on nonlinear constraints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3011">[ date ]</a>
              <a href="thread.html#3011">[ thread ]</a>
              <a href="subject.html#3011">[ subject ]</a>
              <a href="author.html#3011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
