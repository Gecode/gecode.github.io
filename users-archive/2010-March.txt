From mauriciotorob at gmail.com  Thu Mar  4 17:39:15 2010
From: mauriciotorob at gmail.com (Mauricio Toro)
Date: Thu, 4 Mar 2010 17:39:15 +0100
Subject: [gecode-users] Linear constraints
Message-ID: <a6b4b44a1003040839l72c242aer42cfe5059eefcd33@mail.gmail.com>

Hello,

I am using linear constraints, reified and non-reified versions, and
I have problems to choose between domain propagation and
bound propagation. Where can I find further information about each
type of propagation and their complexities in time? I already
looked at the information provided in the documentation.

Thank you,

Mauricio

-- 
Mauricio TORO BERMUDEZ

Research Postgraduate Student (Ph.D)
Computer Science Research Laboratory of Bordeaux (LABRI)
University of Bordeaux 1: Science and Technology

http://www.labri.fr/perso/mtoro/

351, cours de la Lib?ration
F-33405 Talence Cedex. France.
Phone: (+33) 5 4000 24 85
Fax: (+33) 5 4000 66 69

Please don't print this e-mail unless you really need to.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100304/2a6f167a/attachment.htm>

From cschulte at kth.se  Thu Mar  4 17:48:50 2010
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 4 Mar 2010 17:48:50 +0100
Subject: [gecode-users] Linear constraints
In-Reply-To: <a6b4b44a1003040839l72c242aer42cfe5059eefcd33@mail.gmail.com>
References: <a6b4b44a1003040839l72c242aer42cfe5059eefcd33@mail.gmail.com>
Message-ID: <004301cabbba$9144d940$b3ce8bc0$@se>

The only interesting case is equality, where bounds and domain propagation
really differ vastly. For inequalities bounds and domain propagation
coincides (see the references below), and for disequality there is only
domain propagation in Gecode (as pure bounds propagation is actually more
difficult to implement and is less efficient).

 

Hence in the following I only talk about equality.

 

Bounds is linear, domain is exponential (O(d^n) for domain size s and n
variables). 

 

Domain in Gecode is naive, just scanning all possible assignments (with some
bounds reasoning).

 

For propagating bounds linear (achieving bounds(R) consistency in Gecode and
not bounds(Z) for equality), see for example:

 
http://web.it.kth.se/~cschulte/paper.html?id=SchulteStuckey:TOPLAS:2005

 

And also (which is mentioned in Modeling with Gecode):

@InCollection{bounds-consistency,

  author =              {Chiu Wo Choi and Warwick Harvey and Jimmy Ho-Man
Lee and Peter J. Stuckey},

  title =  {Finite Domain Bounds Consistency Revisited},

  volume =       {4304},

  year = 2006,

  Pages        = "49--58",

  booktitle    = "AI 2006: Advances in Artificial Intelligence",

  series       = "Lecture Notes in Computer Science",

  publisher    = "Springer Verlag",

}

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Mauricio Toro
Sent: Thursday, March 04, 2010 5:39 PM
To: gecode list
Subject: [gecode-users] Linear constraints

 

Hello,

 

I am using linear constraints, reified and non-reified versions, and 

I have problems to choose between domain propagation and

bound propagation. Where can I find further information about each

type of propagation and their complexities in time? I already

looked at the information provided in the documentation.

 

Thank you,

 

Mauricio

-- 
Mauricio TORO BERMUDEZ

Research Postgraduate Student (Ph.D)
Computer Science Research Laboratory of Bordeaux (LABRI)
University of Bordeaux 1: Science and Technology

http://www.labri.fr/perso/mtoro/

351, cours de la Lib?ration
F-33405 Talence Cedex. France.
Phone: (+33) 5 4000 24 85
Fax: (+33) 5 4000 66 69

Please don't print this e-mail unless you really need to.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100304/8451d316/attachment.htm>

From tack at gecode.org  Mon Mar 15 10:49:55 2010
From: tack at gecode.org (Guido Tack)
Date: Mon, 15 Mar 2010 10:49:55 +0100
Subject: [gecode-users] Gecode 3.3.0 released
Message-ID: <6B910F66-BD9F-4084-8ED4-22781AEB8DBC@gecode.org>

Dear all,

we are releasing a new version of Gecode:

                Gecode 3.3.0
         http://www.gecode.org

This release provides some fixes, some performance improvements for domain propagators, and quite some clean ups how propagators and advisors report their status to the kernel. Many of these clean ups are essential to make it easier to program propagators and branchers with Gecode.

On our web site, you find source packages, as well as binary packages for Windows and Mac OS.

This release of course comes with an updated tutorial documentation "Modeling with Gecode".  Within the next two weeks, we will replace it by a new document, "Modeling and Programming with Gecode", which adds the long-promised tutorials on programming propagators, branchings, and search engines.

Cheers,
	Guido



From claudio at colmeia.udesc.br  Thu Mar 18 10:25:32 2010
From: claudio at colmeia.udesc.br (=?ISO-8859-1?Q?Claudio_Cesar_de_S=E1?=)
Date: Thu, 18 Mar 2010 10:25:32 +0100
Subject: [gecode-users] A small and simple example with tuple and
	extensional use
Message-ID: <e68bab891003180225r561f5de9x8cc1dee65e6075a@mail.gmail.com>

Hi,

Someone has an illustrative and small example that use  TupleSet and
extensional constraints?
Before an extensional constraints a branch is mandatory?


Thanks


claudio



   (
   ))
  |""|-.
  |__|-'


**********************************************************************
Skype: claudio_cesar_sa
Links:

http://www.colmeia.udesc.br
http://www2.joinville.udesc.br/~coca
http://www2.joinville.udesc.br/~esp7maratona/
Blog: http://claudiocesar.wordpress.com/
***********************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100318/a67109b5/attachment.html>

From zayenz at gmail.com  Thu Mar 18 11:11:40 2010
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Thu, 18 Mar 2010 11:11:40 +0100
Subject: [gecode-users] A small and simple example with tuple and
	extensional use
In-Reply-To: <e68bab891003180225r561f5de9x8cc1dee65e6075a@mail.gmail.com>
References: <e68bab891003180225r561f5de9x8cc1dee65e6075a@mail.gmail.com>
Message-ID: <63b5c8b01003180311q7c674c5xd1fceb6f38f34d19@mail.gmail.com>

2010/3/18 Claudio Cesar de S? <claudio at colmeia.udesc.br>:
> Someone has an illustrative and small example that use? TupleSet and
> extensional constraints?

The Black-Hole patience example uses an extensional constraint
specified using a TupleSet to implement the constraint
   abs(x[i] - x[i+1]) in {1, 12}
by computing all allowable pairs of values for x[i] and x[i+1].


> Before an extensional constraints a branch is mandatory?

Not sure what you mean here. You might want to read the Modeling with
Gecode documentation [1].


Cheers,
Mikael

[1] http://www.gecode.org/documentation.html

-- 
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/


From peter.vanhee at gmail.com  Fri Mar 19 15:46:40 2010
From: peter.vanhee at gmail.com (Peter Vanhee)
Date: Fri, 19 Mar 2010 15:46:40 +0100
Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x
Message-ID: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>

Hey all,

I have more or less the same problem as mentioned here: http://thread.gmane.org/gmane.comp.lib.gecode.user/919,
however the solution seems to be outdated for gecode 3.x: e.g. GECODE_AUTOARRAY is not existing anymore etc.

Within the binary propagator, and when one variable is assigned (x0), I need to filter values in the other variable (x1). 
What I do right  now is:

// loop over all values of x1 and push to remove if necessary
vector<int> remove;
for (IntVarValues i(*x1); i(); ++i) {
	if (!predicate(home, x0->val(), i.val())) remove.push_back(i.val());
}

// remove values from domain
for(vector<int>::iterator i=remove.begin(); i!=remove.end(); ++i) {
	GECODE_ME_CHECK(x1->nq(_home, r));
}


This is not at all efficient:  90% of the time is spent in Int::IntVarImp::nq_full, and 38% in Int::IntVarImp::RangeList::min().
How can I change this? 

I have variables with big domains (into the millions of values) that have few continuous ranges.

Thanks,
Peter



From cschulte at kth.se  Fri Mar 19 15:55:53 2010
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 19 Mar 2010 15:55:53 +0100
Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x
In-Reply-To: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>
References: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>
Message-ID: <011001cac774$462082f0$d26188d0$@se>

Peter,

the changelog for the transitions from 1.* to 2.* and 2.* to 3.* actually
tells you what and how to change.

Then, we are currently in the process of writing "Modeling and Programming
with Gecode". Please give me 30 minutes to send out an annoucement of a
draft. The draft has a chapter that addresses your problem!

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Peter Vanhee
Sent: Friday, March 19, 2010 3:47 PM
To: users at gecode.org
Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x

Hey all,

I have more or less the same problem as mentioned here:
http://thread.gmane.org/gmane.comp.lib.gecode.user/919,
however the solution seems to be outdated for gecode 3.x: e.g.
GECODE_AUTOARRAY is not existing anymore etc.

Within the binary propagator, and when one variable is assigned (x0), I need
to filter values in the other variable (x1). 
What I do right  now is:

// loop over all values of x1 and push to remove if necessary
vector<int> remove;
for (IntVarValues i(*x1); i(); ++i) {
	if (!predicate(home, x0->val(), i.val())) remove.push_back(i.val());
}

// remove values from domain
for(vector<int>::iterator i=remove.begin(); i!=remove.end(); ++i) {
	GECODE_ME_CHECK(x1->nq(_home, r));
}


This is not at all efficient:  90% of the time is spent in
Int::IntVarImp::nq_full, and 38% in Int::IntVarImp::RangeList::min().
How can I change this? 

I have variables with big domains (into the millions of values) that have
few continuous ranges.

Thanks,
Peter


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From mmann at informatik.uni-freiburg.de  Fri Mar 19 15:58:55 2010
From: mmann at informatik.uni-freiburg.de (Martin Mann)
Date: Fri, 19 Mar 2010 15:58:55 +0100
Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x
In-Reply-To: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>
References: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>
Message-ID: <4BA3912F.3040609@informatik.uni-freiburg.de>


Hi Peter,

I solved that problem for Gecode 1.3.0 (still running for 3.*) by a 
dedicated implementation of a Gecode RangeIterator for a std::set 
(source attached). The source code can be easily adapted for your 
purpose either by sorting the std::vector after filling or by ensuring 
that you fill it with values of increasing order.

Dont know if there is a "native" Gecode support in 3.*, havent checked 
since I wrote it. :)

the application is than quite simple:

////////////////////////////////////////////////////
   std::set<int> data; // fill data
   GC_StlSetRangeIterator dataIt(&data);
   x.inter_r(*home, dataIt);
////////////////////////////////////////////////////

Hope it helps,

Martin



Peter Vanhee schrieb:
> Hey all,
> 
> I have more or less the same problem as mentioned here: http://thread.gmane.org/gmane.comp.lib.gecode.user/919,
> however the solution seems to be outdated for gecode 3.x: e.g. GECODE_AUTOARRAY is not existing anymore etc.
> 
> Within the binary propagator, and when one variable is assigned (x0), I need to filter values in the other variable (x1). 
> What I do right  now is:
> 
> // loop over all values of x1 and push to remove if necessary
> vector<int> remove;
> for (IntVarValues i(*x1); i(); ++i) {
> 	if (!predicate(home, x0->val(), i.val())) remove.push_back(i.val());
> }
> 
> // remove values from domain
> for(vector<int>::iterator i=remove.begin(); i!=remove.end(); ++i) {
> 	GECODE_ME_CHECK(x1->nq(_home, r));
> }
> 
> 
> This is not at all efficient:  90% of the time is spent in Int::IntVarImp::nq_full, and 38% in Int::IntVarImp::RangeList::min().
> How can I change this? 
> 
> I have variables with big domains (into the millions of values) that have few continuous ranges.
> 
> Thanks,
> Peter

-- 
Martin Mann, Dipl. Bioinf.
Bioinformatics - Inst. of Computer Science
Albert-Ludwigs-University Freiburg
Tel: ++49-761-203-8259
Fax: ++49-761-203-7462
http://www.bioinf.uni-freiburg.de/~mmann/
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: GC_StlSetRangeIterator.hh
URL: <http://www.gecode.org/pipermail/users/attachments/20100319/25734037/attachment.asc>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: GC_StlSetRangeIterator.cc
URL: <http://www.gecode.org/pipermail/users/attachments/20100319/25734037/attachment.txt>

From cschulte at kth.se  Fri Mar 19 16:33:25 2010
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 19 Mar 2010 16:33:25 +0100
Subject: [gecode-users] Draft "Modeling and Programming with Gecode"
Message-ID: <011601cac779$846d3440$8d479cc0$@se>

Dear all,

as we have been asked so often, here comes a first draft of "Modeling and
Programming with Gecode" that:
 - will replace Modeling with Gecode 
 - will add a pretty detailed discussion of how to program with Gecode

It is a pretty draftish draft! The programming propagators part is almost
complete, the other parts are mostly missing. The document has not yet been
carefully proof read or anything like that (even though all examples are
tested). Anyway, I think it might still interesting to see what we are
currently up to.

Do not even think of looking at it if you are afraid of early drafts!

The draft can be found at:
	http://www.gecode.org/doc/3.3.0/MPG.pdf
	

I might update the draft now and then. The propagator and brancher part will
be finished within the next two weeks after which we will make the first
official release of the document and will retire "Modeling with Gecode".

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/





From peter.vanhee at gmail.com  Fri Mar 19 16:34:23 2010
From: peter.vanhee at gmail.com (Peter Vanhee)
Date: Fri, 19 Mar 2010 16:34:23 +0100
Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x
In-Reply-To: <011001cac774$462082f0$d26188d0$@se>
References: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>
	<011001cac774$462082f0$d26188d0$@se>
Message-ID: <A28E9897-FDEE-4635-B352-05C703FAAEB2@gmail.com>

Great! Looking forward to read the draft.

Best,
Peter

On 19 Mar 2010, at 15:55, Christian Schulte wrote:

> Peter,
> 
> the changelog for the transitions from 1.* to 2.* and 2.* to 3.* actually
> tells you what and how to change.
> 
> Then, we are currently in the process of writing "Modeling and Programming
> with Gecode". Please give me 30 minutes to send out an annoucement of a
> draft. The draft has a chapter that addresses your problem!
> 
> Christian
> 
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
> 
> 
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of Peter Vanhee
> Sent: Friday, March 19, 2010 3:47 PM
> To: users at gecode.org
> Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x
> 
> Hey all,
> 
> I have more or less the same problem as mentioned here:
> http://thread.gmane.org/gmane.comp.lib.gecode.user/919,
> however the solution seems to be outdated for gecode 3.x: e.g.
> GECODE_AUTOARRAY is not existing anymore etc.
> 
> Within the binary propagator, and when one variable is assigned (x0), I need
> to filter values in the other variable (x1). 
> What I do right  now is:
> 
> // loop over all values of x1 and push to remove if necessary
> vector<int> remove;
> for (IntVarValues i(*x1); i(); ++i) {
> 	if (!predicate(home, x0->val(), i.val())) remove.push_back(i.val());
> }
> 
> // remove values from domain
> for(vector<int>::iterator i=remove.begin(); i!=remove.end(); ++i) {
> 	GECODE_ME_CHECK(x1->nq(_home, r));
> }
> 
> 
> This is not at all efficient:  90% of the time is spent in
> Int::IntVarImp::nq_full, and 38% in Int::IntVarImp::RangeList::min().
> How can I change this? 
> 
> I have variables with big domains (into the millions of values) that have
> few continuous ranges.
> 
> Thanks,
> Peter
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
> 



From peter.vanhee at gmail.com  Fri Mar 19 16:37:52 2010
From: peter.vanhee at gmail.com (Peter Vanhee)
Date: Fri, 19 Mar 2010 16:37:52 +0100
Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x
In-Reply-To: <4BA3912F.3040609@informatik.uni-freiburg.de>
References: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>
	<4BA3912F.3040609@informatik.uni-freiburg.de>
Message-ID: <C620C5A2-EEDF-4856-9A23-3CABCC308A9F@gmail.com>

Thanks Martin, 

this is very helpful.

I modified my code to use std::set as well with your range iterator, and I have a huge speed increase.
Note that I used narrow_r instead of inter_r.

Thanks!
Peter

On 19 Mar 2010, at 15:58, Martin Mann wrote:

> 
> Hi Peter,
> 
> I solved that problem for Gecode 1.3.0 (still running for 3.*) by a dedicated implementation of a Gecode RangeIterator for a std::set (source attached). The source code can be easily adapted for your purpose either by sorting the std::vector after filling or by ensuring that you fill it with values of increasing order.
> 
> Dont know if there is a "native" Gecode support in 3.*, havent checked since I wrote it. :)
> 
> the application is than quite simple:
> 
> ////////////////////////////////////////////////////
>  std::set<int> data; // fill data
>  GC_StlSetRangeIterator dataIt(&data);
>  x.inter_r(*home, dataIt);
> ////////////////////////////////////////////////////
> 
> Hope it helps,
> 
> Martin
> 
> 
> 
> Peter Vanhee schrieb:
>> Hey all,
>> I have more or less the same problem as mentioned here: http://thread.gmane.org/gmane.comp.lib.gecode.user/919,
>> however the solution seems to be outdated for gecode 3.x: e.g. GECODE_AUTOARRAY is not existing anymore etc.
>> Within the binary propagator, and when one variable is assigned (x0), I need to filter values in the other variable (x1). What I do right  now is:
>> // loop over all values of x1 and push to remove if necessary
>> vector<int> remove;
>> for (IntVarValues i(*x1); i(); ++i) {
>> 	if (!predicate(home, x0->val(), i.val())) remove.push_back(i.val());
>> }
>> // remove values from domain
>> for(vector<int>::iterator i=remove.begin(); i!=remove.end(); ++i) {
>> 	GECODE_ME_CHECK(x1->nq(_home, r));
>> }
>> This is not at all efficient:  90% of the time is spent in Int::IntVarImp::nq_full, and 38% in Int::IntVarImp::RangeList::min().
>> How can I change this? I have variables with big domains (into the millions of values) that have few continuous ranges.
>> Thanks,
>> Peter
> 
> -- 
> Martin Mann, Dipl. Bioinf.
> Bioinformatics - Inst. of Computer Science
> Albert-Ludwigs-University Freiburg
> Tel: ++49-761-203-8259
> Fax: ++49-761-203-7462
> http://www.bioinf.uni-freiburg.de/~mmann/
> /*
> *  Main authors:
> *     Martin Mann http://www.bioinf.uni-freiburg.de/~mmann/
> *
> *  Contributing authors:
> *     Sebastian Will http://www.bioinf.uni-freiburg.de/~will/
> *
> *  Copyright:
> *     Martin Mann, 2007
> *
> *  This file is part of the CPSP-tools package:
> *     http://www.bioinf.uni-freiburg.de/sw/cpsp/
> *
> *  See the file "LICENSE" for information on usage and
> *  redistribution of this file, and for a
> *     DISCLAIMER OF ALL WARRANTIES.
> *
> */
> 
> #ifndef GC_STLSETRANGEITERATOR_HH_
> #define GC_STLSETRANGEITERATOR_HH_
> 
> 
> #include <set>
> #include <iostream>
> 	
>  		/**
>  		 * Provides a constant Gecode RangeIterator of a std::set<int> that 
>  		 * calculates the ranges on demand.
>  		 */
> 	class GC_StlSetRangeIterator
> 	{
> 	private:
> 		const std::set<int>* data;
> 		std::set<int>::const_iterator actElem;
> 		
> 		bool noFurtherRange;
> 		
> 		int nextMin, nextMax;
> 		
> 			//! searchs for the next range and sets the inner members
> 		void getNextRange();
> 	public:
> 		GC_StlSetRangeIterator();
> 		GC_StlSetRangeIterator(const std::set<int>* data_);
> 		virtual ~GC_StlSetRangeIterator();
> 		
> 		void init(const std::set<int>* const data_) {
> 			data = data_;
> 			noFurtherRange = false;
> 			if (data != NULL) 
> 				actElem = data->begin();
> 			getNextRange();
> 		}
> 		
> 		bool operator()(void) const { return !noFurtherRange; }
> 		void operator++(void) { getNextRange(); }
> 		
> 		int min(void) const { return nextMin; }
> 		int max(void) const { return nextMax; }
> 		unsigned int width(void) { return nextMax-nextMin+1; }
> 		
> 		
> 	};
> 	
> 
> #endif /*GC_STLSETRANGEITERATOR_HH_*/
> /*
> *  Main authors:
> *     Martin Mann http://www.bioinf.uni-freiburg.de/~mmann/
> *
> *  Contributing authors:
> *     Sebastian Will http://www.bioinf.uni-freiburg.de/~will/
> *
> *  Copyright:
> *     Martin Mann, 2007
> *
> *  This file is part of the CPSP-tools package:
> *     http://www.bioinf.uni-freiburg.de/sw/cpsp/
> *
> *  See the file "LICENSE" for information on usage and
> *  redistribution of this file, and for a
> *     DISCLAIMER OF ALL WARRANTIES.
> *
> */
> 
> #include "cpsp/GC_StlSetRangeIterator.hh"
> 
>  	
>  	GC_StlSetRangeIterator::GC_StlSetRangeIterator() :
>  		data(NULL), noFurtherRange(true)
>  	{
>  		getNextRange();
>  	}
>  		
> 	GC_StlSetRangeIterator::GC_StlSetRangeIterator(const std::set<int>* data_) :
> 		data(data_), noFurtherRange(false)
> 	{
> 		if (data != NULL) 
> 			actElem = data->begin();
> 		getNextRange();
> 	}
> 	
> 	GC_StlSetRangeIterator::~GC_StlSetRangeIterator()
> 	{
> 	}
> 	
> 	void
> 	GC_StlSetRangeIterator::getNextRange() {
> 		if (data==NULL || actElem == data->end()) {
> 			noFurtherRange = true;
> 			return;
> 		}
> 			// find next range
> 		nextMin = *actElem;
> 		nextMax = nextMin;
> 			// build up new upper bound until end of set reached or gap in 
> 			// sequence
> 		while ( (++actElem != data->end()) && (*actElem == (nextMax+1))) {
> 			nextMax++;
> 		}
> 	}
> 



From mmann at informatik.uni-freiburg.de  Fri Mar 19 17:27:05 2010
From: mmann at informatik.uni-freiburg.de (Martin Mann)
Date: Fri, 19 Mar 2010 17:27:05 +0100
Subject: [gecode-users] Iterating/filtering IntView in Gecode 3.x
In-Reply-To: <C620C5A2-EEDF-4856-9A23-3CABCC308A9F@gmail.com>
References: <B3B1BC9D-5CA9-42BB-94D9-69211F2DF7F1@gmail.com>	<4BA3912F.3040609@informatik.uni-freiburg.de>
	<C620C5A2-EEDF-4856-9A23-3CABCC308A9F@gmail.com>
Message-ID: <4BA3A5D9.4040800@informatik.uni-freiburg.de>


Hi Peter,

I guess you iterate over the variables in increasing order already! 
Thus, you filled your std::vector ordered!

Since the vector::push_back operation is on average much faster than the 
set::insert operation (that cares about the sorting), you might get even 
better runtimes by going back to your vector and an adaption of the 
range iterator code..

But just a suggestion. And don't forget to have a look at the new Gecode 
manual draft! Christian and Co might have an even better solution at hand!

so long,

Martin


Peter Vanhee schrieb:
> Thanks Martin, 
> 
> this is very helpful.
> 
> I modified my code to use std::set as well with your range iterator, and I have a huge speed increase.
> Note that I used narrow_r instead of inter_r.
> 
> Thanks!
> Peter
> 
> On 19 Mar 2010, at 15:58, Martin Mann wrote:
> 
>> Hi Peter,
>>
>> I solved that problem for Gecode 1.3.0 (still running for 3.*) by a dedicated implementation of a Gecode RangeIterator for a std::set (source attached). The source code can be easily adapted for your purpose either by sorting the std::vector after filling or by ensuring that you fill it with values of increasing order.
>>
>> Dont know if there is a "native" Gecode support in 3.*, havent checked since I wrote it. :)
>>
>> the application is than quite simple:
>>
>> ////////////////////////////////////////////////////
>>  std::set<int> data; // fill data
>>  GC_StlSetRangeIterator dataIt(&data);
>>  x.inter_r(*home, dataIt);
>> ////////////////////////////////////////////////////
>>
>> Hope it helps,
>>
>> Martin
>>
>>
>>
>> Peter Vanhee schrieb:
>>> Hey all,
>>> I have more or less the same problem as mentioned here: http://thread.gmane.org/gmane.comp.lib.gecode.user/919,
>>> however the solution seems to be outdated for gecode 3.x: e.g. GECODE_AUTOARRAY is not existing anymore etc.
>>> Within the binary propagator, and when one variable is assigned (x0), I need to filter values in the other variable (x1). What I do right  now is:
>>> // loop over all values of x1 and push to remove if necessary
>>> vector<int> remove;
>>> for (IntVarValues i(*x1); i(); ++i) {
>>> 	if (!predicate(home, x0->val(), i.val())) remove.push_back(i.val());
>>> }
>>> // remove values from domain
>>> for(vector<int>::iterator i=remove.begin(); i!=remove.end(); ++i) {
>>> 	GECODE_ME_CHECK(x1->nq(_home, r));
>>> }
>>> This is not at all efficient:  90% of the time is spent in Int::IntVarImp::nq_full, and 38% in Int::IntVarImp::RangeList::min().
>>> How can I change this? I have variables with big domains (into the millions of values) that have few continuous ranges.
>>> Thanks,
>>> Peter


-- 
Martin Mann, Dipl. Bioinf.
Bioinformatics - Inst. of Computer Science
Albert-Ludwigs-University Freiburg
Tel: ++49-761-203-8259
Fax: ++49-761-203-7462
http://www.bioinf.uni-freiburg.de/~mmann/


From anusha.maneru at gmail.com  Thu Mar 25 23:09:45 2010
From: anusha.maneru at gmail.com (anusha rani)
Date: Thu, 25 Mar 2010 23:09:45 +0100
Subject: [gecode-users] Compilation error
Message-ID: <b1f5fd291003251509t7e4f0d8eq7b3f64096ec6ca74@mail.gmail.com>

Hi

I am trying to compile and run send-more-money.cpp. I have installed Gecode
3.3.2 and configured it on Visual c++ 2008. But i m getting the following
error.


1>------ Build started: Project: sendmoremoney, Configuration: Debug Win32
------

1>Compiling...

1>cl : Command line warning D9035 : option 'Wp64' has been deprecated and
will be removed in a future release

1>send-more-money.cpp

1>.\send-more-money.cpp(28) : fatal error C1083: Cannot open include file:
'gecode/int.hh': No such file or directory

1>Build log was saved at "file://c:\cygwin\CPLUS\Debug\BuildLog.htm"

1>sendmoremoney - 1 error(s), 1 warning(s)

========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========



Could you help me to find out where i am doing worng ?

Thanks in advance

MVH

Anusha.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100325/24da6b48/attachment.htm>

From zayenz at gmail.com  Fri Mar 26 06:44:43 2010
From: zayenz at gmail.com (Mikael Zayenz Lagerkvist)
Date: Fri, 26 Mar 2010 06:44:43 +0100
Subject: [gecode-users] Compilation error
In-Reply-To: <b1f5fd291003251509t7e4f0d8eq7b3f64096ec6ca74@mail.gmail.com>
References: <b1f5fd291003251509t7e4f0d8eq7b3f64096ec6ca74@mail.gmail.com>
Message-ID: <63b5c8b01003252244x1ec637e4v7c373aa810b5fad@mail.gmail.com>

Hi,

Please see the instructions for compiling in Modeling with Gecode. In
particular, it specifies how to set the include-path for the Gecode headers.

/Mikael

2010/3/25 anusha rani <anusha.maneru at gmail.com>

> Hi
>
> I am trying to compile and run send-more-money.cpp. I have installed Gecode
> 3.3.2 and configured it on Visual c++ 2008. But i m getting the following
> error.
>
>
> 1>------ Build started: Project: sendmoremoney, Configuration: Debug Win32
> ------
>
> 1>Compiling...
>
> 1>cl : Command line warning D9035 : option 'Wp64' has been deprecated and
> will be removed in a future release
>
> 1>send-more-money.cpp
>
> 1>.\send-more-money.cpp(28) : fatal error C1083: Cannot open include file:
> 'gecode/int.hh': No such file or directory
>
> 1>Build log was saved at "file://c:\cygwin\CPLUS\Debug\BuildLog.htm"
>
> 1>sendmoremoney - 1 error(s), 1 warning(s)
>
> ========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========
>
>
>
> Could you help me to find out where i am doing worng ?
>
> Thanks in advance
>
> MVH
>
> Anusha.
>
>
>
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>


-- 
Mikael Zayenz Lagerkvist, http://www.ict.kth.se/~zayenz/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100326/a34fb93a/attachment.htm>

From anusha.maneru at gmail.com  Fri Mar 26 09:27:11 2010
From: anusha.maneru at gmail.com (anusha rani)
Date: Fri, 26 Mar 2010 09:27:11 +0100
Subject: [gecode-users] Compilation error
In-Reply-To: <b1f5fd291003251509t7e4f0d8eq7b3f64096ec6ca74@mail.gmail.com>
References: <b1f5fd291003251509t7e4f0d8eq7b3f64096ec6ca74@mail.gmail.com>
Message-ID: <b1f5fd291003260127v7102b485k5585ee9fb5b47c92@mail.gmail.com>

Hi Mikael,

Now i have solved problem with includes. But i am getting another error. I
have gone through all the instructions at www.gecode.org and the pdf
document but i can't resolve this problem


1>------ Build started: Project: sendmoney, Configuration: Debug Win32
------1>Linking...

1>MSVCRTD.lib(crtexew.obj) : error LNK2019: unresolved external symbol
_WinMain at 16 referenced in function ___tmainCRTStartup

1>Debug\sendmoney.exe : fatal error LNK1120: 1 unresolved externals

1>Build log was saved at "file://c:\Program
Files\Gecode\include\CPLUS\Debug\BuildLog.htm"

1>sendmoney - 2 error(s), 0 warning(s)

========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========
Tack s? mycket,
MVH
Anusha.

On Thu, Mar 25, 2010 at 11:09 PM, anusha rani <anusha.maneru at gmail.com>wrote:

> Hi
>
> I am trying to compile and run send-more-money.cpp. I have installed Gecode
> 3.3.2 and configured it on Visual c++ 2008. But i m getting the following
> error.
>
>
> 1>------ Build started: Project: sendmoremoney, Configuration: Debug Win32
> ------
>
> 1>Compiling...
>
> 1>cl : Command line warning D9035 : option 'Wp64' has been deprecated and
> will be removed in a future release
>
> 1>send-more-money.cpp
>
> 1>.\send-more-money.cpp(28) : fatal error C1083: Cannot open include file:
> 'gecode/int.hh': No such file or directory
>
> 1>Build log was saved at "file://c:\cygwin\CPLUS\Debug\BuildLog.htm"
>
> 1>sendmoremoney - 1 error(s), 1 warning(s)
>
> ========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========
>
>
>
> Could you help me to find out where i am doing worng ?
>
> Thanks in advance
>
> MVH
>
> Anusha.
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100326/4208495a/attachment.htm>

From cschulte at kth.se  Fri Mar 26 15:26:19 2010
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 26 Mar 2010 15:26:19 +0100
Subject: [gecode-users] Compilation error
In-Reply-To: <b1f5fd291003260127v7102b485k5585ee9fb5b47c92@mail.gmail.com>
References: <b1f5fd291003251509t7e4f0d8eq7b3f64096ec6ca74@mail.gmail.com>
	<b1f5fd291003260127v7102b485k5585ee9fb5b47c92@mail.gmail.com>
Message-ID: <000901caccf0$4d92e3d0$e8b8ab70$@se>

Please make sure that you first try a pristine program that is included in
"Modeling with Gecode". Only after you got that to compile move on to your
on stuff.

 

The reason could be either: you forgot a main function in your program, or
you have still wrong compiler options (for linking, or you forgot /MD or
/MDd). So more reading in that case.

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of anusha rani
Sent: Friday, March 26, 2010 9:27 AM
To: users at gecode.org
Subject: Re: [gecode-users] Compilation error

 

Hi Mikael, 

 

Now i have solved problem with includes. But i am getting another error. I
have gone through all the instructions at www.gecode.org
<http://www.gecode.org/>  and the pdf document but i can't resolve this
problem 

 

1>------ Build started: Project: sendmoney, Configuration: Debug Win32
------1>Linking...

1>MSVCRTD.lib(crtexew.obj) : error LNK2019: unresolved external symbol
_WinMain at 16 referenced in function ___tmainCRTStartup

1>Debug\sendmoney.exe : fatal error LNK1120: 1 unresolved externals

1>Build log was saved at "file://c:\Program
Files\Gecode\include\CPLUS\Debug\BuildLog.htm"

1>sendmoney - 2 error(s), 0 warning(s)

========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========

Tack s? mycket,

MVH

Anusha.

On Thu, Mar 25, 2010 at 11:09 PM, anusha rani <anusha.maneru at gmail.com>
wrote:

Hi 

 

I am trying to compile and run send-more-money.cpp. I have installed Gecode
3.3.2 and configured it on Visual c++ 2008. But i m getting the following
error. 

 

1>------ Build started: Project: sendmoremoney, Configuration: Debug Win32
------

1>Compiling...

1>cl : Command line warning D9035 : option 'Wp64' has been deprecated and
will be removed in a future release

1>send-more-money.cpp

1>.\send-more-money.cpp(28) : fatal error C1083: Cannot open include file:
'gecode/int.hh': No such file or directory

1>Build log was saved at "file://c:\cygwin\CPLUS\Debug\BuildLog.htm"

1>sendmoremoney - 1 error(s), 1 warning(s)

========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========

 

Could you help me to find out where i am doing worng ? 

Thanks in advance

MVH

Anusha.

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100326/eeaa2d4f/attachment.htm>

From filip.konvicka at logis.cz  Fri Mar 26 15:38:50 2010
From: filip.konvicka at logis.cz (=?UTF-8?B?RmlsaXAgS29udmnEjWth?=)
Date: Fri, 26 Mar 2010 15:38:50 +0100
Subject: [gecode-users] Draft "Modeling and Programming with Gecode"
In-Reply-To: <011601cac779$846d3440$8d479cc0$@se>
References: <011601cac779$846d3440$8d479cc0$@se>
Message-ID: <hoigso$3m4$1@dough.gmane.org>

Hi,

> Do not even think of looking at it if you are afraid of early drafts!

I'm certainly not :-) It looks very nice, I'm looking forward to reading 
all of it soon.

This gently reminds me that I'm still (shame on me) using version 2 of 
Gecode... I've seen here on the list that some people tried to use the 
float vars in Gecode 3. Can you please give me the rough status on 
porting of the v2-compatible code to Gecode 3?

Thanks,
Filip



From cschulte at kth.se  Fri Mar 26 16:07:55 2010
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 26 Mar 2010 16:07:55 +0100
Subject: [gecode-users] Draft "Modeling and Programming with Gecode"
In-Reply-To: <hoigso$3m4$1@dough.gmane.org>
References: <011601cac779$846d3440$8d479cc0$@se> <hoigso$3m4$1@dough.gmane.org>
Message-ID: <002c01caccf6$1cfb1ac0$56f15040$@se>

Hi Filip,

the big picture is in:
	http://www.gecode.org/doc-latest/reference/PageHowToChange_3.html

You also have to do the changes from 3.2.2 to 3.3.0:

The failure macros for posting GECODE_ES_FAIL and GECODE_ME_FAIL
now only accept a single argument and assume that "home" actually
refers to the home space.  Read the forthcoming "Modeling and
Programming with Gecode" for details.

The functions ES_FIX_PARTIAL, ES_NOFIX_PARTIAL, ES_FIX_DISPOSE,
and ES_NOFIX_DISPOSE are now member of Space. Read the
forthcoming "Modeling and Programming with Gecode" for details.

The function ES_SUBSUMED now is a member of Space and accepts a
propagator as its single argument. The variant with a size as the
second argument is available as ES_SUBSUMED_DISPOSED but use is
highly discouraged. Read the forthcoming "Modeling and
Programming with Gecode" for details.

Best
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Filip Konvicka
Sent: Friday, March 26, 2010 3:39 PM
To: users at gecode.org
Subject: Re: [gecode-users] Draft "Modeling and Programming with Gecode"

Hi,

> Do not even think of looking at it if you are afraid of early drafts!

I'm certainly not :-) It looks very nice, I'm looking forward to reading 
all of it soon.

This gently reminds me that I'm still (shame on me) using version 2 of 
Gecode... I've seen here on the list that some people tried to use the 
float vars in Gecode 3. Can you please give me the rough status on 
porting of the v2-compatible code to Gecode 3?

Thanks,
Filip


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From tsaxena2212 at gmail.com  Tue Mar 30 21:17:59 2010
From: tsaxena2212 at gmail.com (Tripti Saxena)
Date: Tue, 30 Mar 2010 14:17:59 -0500
Subject: [gecode-users] GIST
Message-ID: <v2u9a93a7b41003301217o53d392c9ha73c48144ef32d8d@mail.gmail.com>

Hello,

    I have written a small solver in C++ and I was wondering if I can use
Gist to visual the search tree produced by the my solver. In other words is
it possible to use Gist independent of Gecode ? The basic interface provided
by Gist is good but I will have to make extension specific to my solver.

Has anyone tried this before. I read the manual and created a QT application
where I was trying to include Gist as a widget. Although the manual says it
is possible, I kept getting linker errors because the class definitions
(GistMainWindow) is not exported. Is there a way around it or maybe there is
something I am missing out.


Thanks in advance.


Tripti
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20100330/ed1d5444/attachment.htm>

From tack at gecode.org  Wed Mar 31 10:06:34 2010
From: tack at gecode.org (Guido Tack)
Date: Wed, 31 Mar 2010 10:06:34 +0200
Subject: [gecode-users] GIST
In-Reply-To: <v2u9a93a7b41003301217o53d392c9ha73c48144ef32d8d@mail.gmail.com>
References: <v2u9a93a7b41003301217o53d392c9ha73c48144ef32d8d@mail.gmail.com>
Message-ID: <156DF073-3C5D-48DE-A9B3-8BDC3C10B613@gecode.org>

Hi,

the exports were indeed wrong.  I fixed it in the Gecode svn trunk, it will be part of the next release.  I also added a small example that shows how to embed the Gist widget in your own Qt code.

Gist currently depends on Gecode, but it should be possible to replace the Gecode-specific parts.  One way of doing that would be to mimic Gecode's Space interface, i.e. implement your own Space class that has the same methods and works similarly.  I think then you would just need to remove the use of dfs in SpaceNode and TreeCanvas (they are only necessary for subtle recomputation issues related to Gecode internals).  Alternatively, you could reimplement SpaceNode to match your solver, and adapt all references to spaces from the remaining code (but I guess that's more work).

We usually only make parts of Gecode more generic if someone uses that genericity.  So if you need a more generic Gist and run into problems with the current design, please let us know!

Cheers,
	Guido

Tripti Saxena wrote:

> Hello, 
>   
>     I have written a small solver in C++ and I was wondering if I can use Gist to visual the search tree produced by the my solver. In other words is it possible to use Gist independent of Gecode ? The basic interface provided by Gist is good but I will have to make extension specific to my solver.  
> 
> Has anyone tried this before. I read the manual and created a QT application where I was trying to include Gist as a widget. Although the manual says it is possible, I kept getting linker errors because the class definitions (GistMainWindow) is not exported. Is there a way around it or maybe there is something I am missing out. 
> 
> 
> Thanks in advance.
> 
> 
> Tripti
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users




