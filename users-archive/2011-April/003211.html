<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] embedded gecode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20embedded%20gecode&In-Reply-To=%3CBANLkTik8Q-%3D%2BhJybSmW6sZpCKok%3D_YEK2w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003210.html">
   <LINK REL="Next"  HREF="003213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] embedded gecode</H1>
    <B>Mikael Zayenz Lagerkvist</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20embedded%20gecode&In-Reply-To=%3CBANLkTik8Q-%3D%2BhJybSmW6sZpCKok%3D_YEK2w%40mail.gmail.com%3E"
       TITLE="[gecode-users] embedded gecode">zayenz at gmail.com
       </A><BR>
    <I>Fri Apr  8 07:15:50 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003210.html">[gecode-users] embedded gecode
</A></li>
        <LI>Next message: <A HREF="003213.html">[gecode-users] embedded gecode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3211">[ date ]</a>
              <a href="thread.html#3211">[ thread ]</a>
              <a href="subject.html#3211">[ subject ]</a>
              <a href="author.html#3211">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Apr 8, 2011 at 6:54 AM, Ruben Zilibowitz &lt;<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">ruben.zilibowitz at gmail.com</A>
&gt;<i> wrote:
</I>
&gt;<i> &gt;&gt; 2) My executables, even after dead code elimination and other
</I>&gt;<i> optimisations are very large. It's around 17 Mb. I'm not sure there's an
</I>&gt;<i> easy fix for this, but any ideas would be welcome, for how to reduce file
</I>&gt;<i> size of the executable. It seems that there are many features I'm not going
</I>&gt;<i> to need, so perhaps I can try to strip down the library.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; First of all, that sounds like you're linking statically, right?  It's
</I>&gt;<i> true, the Gecode libraries are a bit on the fat side.  What you can
</I>&gt;<i> definitely do is strip the debug symbols.  Other than that, I think the
</I>&gt;<i> linker already only includes the symbols that it needs, so there's not much
</I>&gt;<i> you can do in addition.
</I>&gt;<i>
</I>&gt;<i> Yes, statically. I'm not sure there's any other way when it comes to
</I>&gt;<i> building iPhone apps. That 17 Mb is for a &quot;fat&quot; binary that supports two
</I>&gt;<i> architectures (armv6 and armv7). So the real figure is about half that.
</I>&gt;<i> Still it would be nice if it was smaller.
</I>

Stripping debug symbols helps a lot with size. On my machine, the size of
the dynamic libraries goes from 52 MiB to 7.1 MiB when stripped.

In addition, you can try and compile Gecode with -Os as optimization flag.
It won't be as fast, but it might make the executable smaller (I haven't
tried it, you'll need to experiment). Also, make sure that you are only
including the parts that you need (Gist and flatzinc might not be relevant
for example).

If you really want to make the executables as small as possible, then you
could start to remove parts that you are not using. You might want to
investigate if there is a way to make your compilation tool-chain do
automatic dead-code removal.

Out of curiosity, what does your App do?

Cheers,
Mikael

-- 
Mikael Zayenz Lagerkvist, <A HREF="http://www.ict.kth.se/~zayenz/">http://www.ict.kth.se/~zayenz/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://www.gecode.org/pipermail/users/attachments/20110408/9036fc3b/attachment.htm">http://www.gecode.org/pipermail/users/attachments/20110408/9036fc3b/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003210.html">[gecode-users] embedded gecode
</A></li>
	<LI>Next message: <A HREF="003213.html">[gecode-users] embedded gecode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3211">[ date ]</a>
              <a href="thread.html#3211">[ thread ]</a>
              <a href="subject.html#3211">[ subject ]</a>
              <a href="author.html#3211">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
