<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Which version of MSVC on Windows?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Which%20version%20of%20MSVC%20on%20Windows%3F&In-Reply-To=%3C000001cbcdb2%24774f9c90%2465eed5b0%24%40se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003163.html">
   <LINK REL="Next"  HREF="003167.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Which version of MSVC on Windows?</H1>
    <B>Christian Schulte</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Which%20version%20of%20MSVC%20on%20Windows%3F&In-Reply-To=%3C000001cbcdb2%24774f9c90%2465eed5b0%24%40se%3E"
       TITLE="[gecode-users] Which version of MSVC on Windows?">cschulte at kth.se
       </A><BR>
    <I>Wed Feb 16 09:21:08 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003163.html">[gecode-users] Which version of MSVC on Windows?
</A></li>
        <LI>Next message: <A HREF="003167.html">[gecode-users] Which version of MSVC on Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3164">[ date ]</a>
              <a href="thread.html#3164">[ thread ]</a>
              <a href="subject.html#3164">[ subject ]</a>
              <a href="author.html#3164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Actually, when I tried to compile Gecode with MSVC 2005 there were way more
errors than that (even central parts of the kernel would have to be
rewritten in order to compile as there seems to be a quirk with friend
declarations).

So the difference is between _compiling_ and _using_ Gecode with MSVC 2005. 

If you send me a patch I could add that to the trunk of Gecode but I would
still not say that 2005 is supported (actually, we just added a check in
Gecode's configure script that makes it barf if it does not find MSVC 2008
or better).

Cheers
Christian

--
Christian Schulte, web.ict.kth.se/~cschulte/


-----Original Message-----
From: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A> [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>] On Behalf
Of Alin
Sent: Tuesday, February 15, 2011 11:08 PM
To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
Subject: Re: [gecode-users] Which version of MSVC on Windows?

Alin &lt;<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">alin_pt at ...</A>&gt; writes:

&gt;<i> 
</I>&gt;<i> This error is a known bug in MSVC 2005
</I>&gt;<i> 
</I>&gt;<i>
</I><A HREF="http://connect.microsoft.com/VisualStudio/feedback/details/101942/error-c266">http://connect.microsoft.com/VisualStudio/feedback/details/101942/error-c266</A>
6-3-overloads-have-similar-conversions
&gt;<i> 
</I>&gt;<i> and has a workaround, but I don't think it's worth it
</I>&gt;<i> 
</I>&gt;<i>
</I><A HREF="http://connect.microsoft.com/VisualStudio/feedback/details/99178/the-compile">http://connect.microsoft.com/VisualStudio/feedback/details/99178/the-compile</A>
r-declares-an-invalid-built-in-operator#details
&gt;<i> 
</I>&gt;<i> Thanks for all the info, now I can continue, 
</I>&gt;<i> knowing that It's that compiler that does something wrong
</I>&gt;<i> and not me :D
</I>&gt;<i> 
</I>

Well actually i still need to stick with MSVC 2005, so I modified the code
to
compile with MSVC 2005, it's not that much work, only had to help the
compiler
in deciding what type to use:

so what I did was to modify the files at the coresponding line

gecode\gist\gist.hpp(163)
gecode\gist\gist.hpp(167)
gecode\gist\gist.hpp(171)
gecode\gist\gist.hpp(175)
gecode\driver\options.hpp(362)
gecode\driver\options.hpp(366)
gecode\driver\options.hpp(370)
gecode\driver\options.hpp(374)

and do a static cast to int for the parameter of the 
call: someobject[mustcast]

like this example:
from:  _click[n_click++]
to:    _click[static_cast&lt;int&gt;(n_click++)]

I imagine that there is no use in doing this for the new releases yourself,
but
if you want I can provide the modified source code to work with MSVC 2005 or
even the already compiled binary files (I compiled it only without gist
because
of configuration problems with qt, but this should be fixed soon)

Alin Gherman



_______________________________________________
Gecode users mailing list
<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
<A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003163.html">[gecode-users] Which version of MSVC on Windows?
</A></li>
	<LI>Next message: <A HREF="003167.html">[gecode-users] Which version of MSVC on Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3164">[ date ]</a>
              <a href="thread.html#3164">[ thread ]</a>
              <a href="subject.html#3164">[ subject ]</a>
              <a href="author.html#3164">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
