<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Loading the C runtime library without using	a	manifest
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Loading%20the%20C%20runtime%20library%20without%20using%0A%09a%09manifest&In-Reply-To=%3C8BD008FC9041C04FAD36A0BD46AAA69D056360129B%40SKA-WN-E25CEX.ptvag.ptv.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003123.html">
   <LINK REL="Next"  HREF="003125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Loading the C runtime library without using	a	manifest</H1>
    <B>Alexander Kleff</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Loading%20the%20C%20runtime%20library%20without%20using%0A%09a%09manifest&In-Reply-To=%3C8BD008FC9041C04FAD36A0BD46AAA69D056360129B%40SKA-WN-E25CEX.ptvag.ptv.de%3E"
       TITLE="[gecode-users] Loading the C runtime library without using	a	manifest">alexander.kleff at ptv.de
       </A><BR>
    <I>Wed Jan 19 08:38:36 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003123.html">[gecode-users] Loading the C runtime library without using	a	manifest
</A></li>
        <LI>Next message: <A HREF="003125.html">[gecode-users] Crash while freeing memory in connection with VS2010
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3124">[ date ]</a>
              <a href="thread.html#3124">[ thread ]</a>
              <a href="subject.html#3124">[ subject ]</a>
              <a href="author.html#3124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yeah,

that would be great, I didn't know a new release was coming so soon.
Thanks a lot.

Alexander

Von: Christian Schulte [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>]
Gesendet: Dienstag, 18. Januar 2011 20:41
An: Alexander Kleff
Cc: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
Betreff: RE: [gecode-users] Loading the C runtime library without using a manifest

How about releasing a new version within a week. Would be in fact less work than backporting and some more bug fixes would get out.

Deal?

Christian

--
Christian Schulte, web.ict.kth.se/~cschulte/


From: Alexander Kleff [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">alexander.kleff at ptv.de</A>]
Sent: Tuesday, January 18, 2011 7:02 PM
To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>
Subject: AW: [gecode-users] Loading the C runtime library without using a manifest

Hi,

At least I need some fix now, so either your back port or my workaround. To back port would be very kind of you as the workaround is a bit involved because the manifest is created automatically and has to be edited by hand afterwards (or possibly by a script in the future).
I don't know how much inconvenience it causes to you to back port but it would help me very much.

Best regards,
Alexander

Von: Christian Schulte [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>]
Gesendet: Dienstag, 18. Januar 2011 14:25
An: Alexander Kleff; <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
Betreff: RE: [gecode-users] Loading the C runtime library without using a manifest

If you really insist I could back port the fix to 3.4.2 and release new MSIs for windows. Or could you wait for the next release?

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/

From: Alexander Kleff [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">alexander.kleff at ptv.de</A>]
Sent: Tuesday, January 18, 2011 2:20 PM
To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>; <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
Subject: AW: [gecode-users] Loading the C runtime library without using a manifest

Hi,

indeed, with these dlls I do not need to change anything in my test application to make it run (didn't try it in the actual application). So for now, I'm fine. Thanks.
Do you intend to provide x64 and debug binaries as well?
Would be nice.

Best regards,
Alexander

Von: Christian Schulte [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>]&lt;mailto:[mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>]&gt;
Gesendet: Dienstag, 18. Januar 2011 11:43
An: 'Christian Schulte'; Alexander Kleff; <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>&lt;mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>&gt;
Betreff: RE: [gecode-users] Loading the C runtime library without using a manifest

Hi Alexander,

I just build dlls for Gecode 3.4.2 with manifests embedded. Could you please try whether this solves your problem?

An archive with just the dlls, pdbs, and libs can be found here (they are actually build from the trunk but should work):
                <A HREF="http://dl.dropbox.com/u/5119459/Gecode-3.4.2-manifest-dll.7z">http://dl.dropbox.com/u/5119459/Gecode-3.4.2-manifest-dll.7z</A>

Best
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/&lt;<A HREF="http://www.ict.kth.se/~cschulte/">http://www.ict.kth.se/~cschulte/</A>&gt;

From: Christian Schulte [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>]&lt;mailto:[mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>]&gt;
Sent: Friday, January 14, 2011 4:01 PM
To: 'Alexander Kleff'; '<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>'
Subject: RE: [gecode-users] Loading the C runtime library without using a manifest

Hi,

Actually I have to admit that (as you found out) we have to tried to ignore this as much as possible, in particular as MSVC 2008 and MSVC 2010 do and require different things regarding manifests.

Okay, the first user has complained: we are going to look into it in one of the next (if not the next) releases. Could I get back to you as a possible tester of what we might do?

Thanks for letting us know.

Best
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/&lt;<A HREF="http://www.ict.kth.se/~cschulte/">http://www.ict.kth.se/~cschulte/</A>&gt;

From: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>&lt;mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>&gt; [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>]&lt;mailto:[mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>]&gt; On Behalf Of Alexander Kleff
Sent: Friday, January 14, 2011 3:52 PM
To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>&lt;mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>&gt;
Subject: [gecode-users] Loading the C runtime library without using a manifest

Hi everyone!
According to the last sentence in the last mail under &quot;Linking to Gecode with Microsoft Visual C++&quot; you wait until somebody complains about the absence of a manifest.
Well, I had some trouble loading Gecode libraries as I ran into the Microsoft runtime error R6034 which is &quot;An application has made an attempt to load the C runtime library without using a manifest.&quot; Since Gecode doesn't come with a manifest, I added a &lt;dependency&gt; statement for the needed runtime to the manifest of the calling application manually. So now it loads but it seems to me that it would be &quot;cleaner&quot; to have this in Gecode. Do you agree? Or am I mislead?
For the sake of completeness, I'm currently migrating to Visual Studio 2010 under Win7. By the way, the calling application is written in C#.
Best regards,
Alexander

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://www.gecode.org/pipermail/users/attachments/20110119/3761185c/attachment-0001.htm">http://www.gecode.org/pipermail/users/attachments/20110119/3761185c/attachment-0001.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003123.html">[gecode-users] Loading the C runtime library without using	a	manifest
</A></li>
	<LI>Next message: <A HREF="003125.html">[gecode-users] Crash while freeing memory in connection with VS2010
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3124">[ date ]</a>
              <a href="thread.html#3124">[ thread ]</a>
              <a href="subject.html#3124">[ subject ]</a>
              <a href="author.html#3124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
