<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] EXTERNAL: RE: Compilation trouble in 64 bit	environment?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20EXTERNAL%3A%20RE%3A%20Compilation%20trouble%20in%2064%20bit%0A%09environment%3F&In-Reply-To=%3C000a01cc4ac7%24df1eb260%249d5c1720%24%40kth.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003332.html">
   <LINK REL="Next"  HREF="003318.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] EXTERNAL: RE: Compilation trouble in 64 bit	environment?</H1>
    <B>Christian Schulte</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20EXTERNAL%3A%20RE%3A%20Compilation%20trouble%20in%2064%20bit%0A%09environment%3F&In-Reply-To=%3C000a01cc4ac7%24df1eb260%249d5c1720%24%40kth.se%3E"
       TITLE="[gecode-users] EXTERNAL: RE: Compilation trouble in 64 bit	environment?">cschulte at kth.se
       </A><BR>
    <I>Mon Jul 25 14:39:16 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003332.html">[gecode-users] EXTERNAL: RE: Compilation trouble in 64 bit	environment?
</A></li>
        <LI>Next message: <A HREF="003318.html">[gecode-users] Initializing domain of IntegerVars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3333">[ date ]</a>
              <a href="thread.html#3333">[ thread ]</a>
              <a href="subject.html#3333">[ subject ]</a>
              <a href="author.html#3333">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ashis,

The memory spikes: do they appear during compilation or execution?

As far as Gecode is concerned, the installation of Visual Studio is
sufficient, no Windows SDK is needed. I am no expert as it comes to the SDKs
but if I remember correctly they also come with the commandline compilers
(at least they did).

Having files in both directories is to be expected if you install anything
better than the free express version of Visual Studio as these provide
compilers for both x86 and x64.

Documentation is in getting started in MPG but it is all straightforward. 

What I might do is to make really really sure that all old binaries created
are gone and that you do not accidentally mix object files from different
compiler versions.

Best
Christian

--
Christian Schulte, KTH, web.it.kth.se/~cschulte/


-----Original Message-----
From: Maity, Ashis K [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">ashis.k.maity at lmco.com</A>] 
Sent: Friday, July 22, 2011 6:02 PM
To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>; <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
Subject: RE: EXTERNAL: RE: [gecode-users] Compilation trouble in 64 bit
environment?

Christian, 

It is MSVC 2008 (Microsoft Visual Studio 9.0). Our IT installed that in my
computer and it had several issues. I had to reinstall Windows SDK and a few
other things. Now I can at least compile and run. But it appears something
is not right as some memory spikes are really scary. Most importantly the
memory spike does not occur in the old executable (that I had saved) when I
run the same problem. Would reinstalling Visual Studio help? Is it common to
have some visual studio files in &quot;C:\Program Files (x86)\&quot; directory and
some in &quot;C:\Program Files&quot;. Also I have two Windows SDKs (one C:\Program
Files (x86) and one in C:\Program Files) -- is that okay? Would you point me
to any documentation that have instructions for Gecode and Visual Studio
configurations?

Thanks,

Ashis

-----Original Message-----
From: Christian Schulte [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>]
Sent: Friday, July 22, 2011 11:36 AM
To: Maity, Ashis K; <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
Subject: EXTERNAL: RE: [gecode-users] Compilation trouble in 64 bit
environment?

Well, as you do not tell which version of Visual Studio you use...

 But there are no issues: Gecode compiles and runs just fine with MSVC 2008
and 2010 both for x86 (32 bit) and x64 (64 bit). The MSVC 2010 compilers
seem to use more memory and seem to take more time, but that's fine. The
warnings you get can be safely ignored (we also test for warnings), somehow
you switched on the highest warning level where everything gets you a
warning (try the standard C++ header files to see what I mean).

I myself use Windows 7 and all the different versions of MSVC mentioned
above, so I can't real see any issues.

Best
Christian

--
Christian Schulte, KTH, web.it.kth.se/~cschulte/

-----Original Message-----
From: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A> [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>] On Behalf
Of Maity, Ashis K
Sent: Friday, July 22, 2011 5:11 PM
To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>; <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
Subject: [gecode-users] Compilation trouble in 64 bit environment?

Hi All,

I have recently upgraded my computer to 64 bit Windows 7 and new visual
Studio installation. After this I get a bunch of warnings like the following
and the compilation takes a long time. Worse, while running the same
problem, the new environment consumes a ton of memory. Did anybody
experience similar issues? Any feedback is appreciated.

Thanks,

Ashis

C:\data\amaity\Gecode36\include\gecode/support/exception.hpp(46) : warning
C4275: non dll-interface class 'std::exception' used as base for
dll-interface class 'Gecode::Exception'
1&gt;        C:\Program Files (x86)\Microsoft Visual Studio
9.0\VC\include\exception(95) : see declaration of 'std::exception'
1&gt;        C:\data\amaity\Gecode36\include\gecode/support/exception.hpp(46) :
see declaration of 'Gecode::Exception'
1&gt;C:\data\amaity\Gecode36\include\gecode/kernel/archive.hpp(246) : 
1&gt;warning
C4800: 'unsigned int' : forcing value to bool 'true' or 'false' (performance
warning)
1&gt;C:\data\amaity\Gecode36\include\gecode/kernel/region.hpp(75) : warning
C4200: nonstandard extension used : zero-sized array in struct/union
1&gt;        Cannot generate copy-ctor or copy-assignment operator when UDT
contains a zero-sized array
1&gt;C:\data\amaity\Gecode36\include\gecode/gist.hh(162) : warning C4251:
'Gecode::Gist::TextOutput::n' : class 'std::basic_string&lt;_Elem,_Traits,_Ax&gt;'
needs to have dll-interface to be used by clients of class
'Gecode::Gist::TextOutput'
1&gt;        with
1&gt;        [
1&gt;            _Elem=char,
1&gt;            _Traits=std::char_traits&lt;char&gt;,
1&gt;            _Ax=std::allocator&lt;char&gt;
1&gt;        ]
1&gt;C:\data\amaity\Gecode36\include\gecode/driver.hh(485) : warning C4251:
'Gecode::Options::inspect' : class 'Gecode::Options::_I' needs to have
dll-interface to be used by clients of class 'Gecode::Options'
1&gt;        C:\data\amaity\Gecode36\include\gecode/driver.hh(447) : see
declaration of 'Gecode::Options::_I'
1&gt;C:\data\amaity\Gecode36\include\gecode/driver/options.hpp(319) : 
1&gt;warning
C4800: 'int' : forcing value to bool 'true' or 'false' (performance warning)
1&gt;.\Scheduler.cpp(178) : warning C4267: 'initializing' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(220) : warning C4267: 'initializing' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(245) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(366) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(465) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(466) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(472) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(473) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(486) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(486) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(489) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(506) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(551) : warning C4267: 'initializing' : conversion from
'size_t' to 'unsigned int', possible loss of data
1&gt;.\Scheduler.cpp(609) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(609) : warning C4267: 'argument' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(655) : warning C4267: 'initializing' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(666) : warning C4267: 'initializing' : conversion from
'size_t' to 'int', possible loss of data
1&gt;.\Scheduler.cpp(679) : warning C4267: 'initializing' : conversion from
'size_t' to 'int', possible loss of data
1&gt;C:\data\amaity\Gecode36\include\gecode/support/heap.hpp(358) : warning
C4345: behavior change: an object of POD type constructed with an
initializer of the form () will be default-initialized
1&gt;        C:\data\amaity\Gecode36\include\gecode/support/heap.hpp(376) : 
1&gt; see
reference to function template instantiation 'T
*Gecode::Heap::alloc&lt;Gecode::DFA::Transition&gt;(unsigned long)' being compiled
1&gt;        with
1&gt;        [
1&gt;            T=Gecode::DFA::Transition
1&gt;        ]
1&gt;        
1&gt; C:\data\amaity\Gecode36\include\gecode/int/extensional/dfa.hpp(87)
:<i> see reference to function template instantiation 'T
</I>*Gecode::Heap::alloc&lt;Gecode::DFA::Transition&gt;(int)' being compiled
1&gt;        with
1&gt;        [
1&gt;            T=Gecode::DFA::Transition
1&gt;        ]

_______________________________________________
Gecode users mailing list
<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
<A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003332.html">[gecode-users] EXTERNAL: RE: Compilation trouble in 64 bit	environment?
</A></li>
	<LI>Next message: <A HREF="003318.html">[gecode-users] Initializing domain of IntegerVars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3333">[ date ]</a>
              <a href="thread.html#3333">[ thread ]</a>
              <a href="subject.html#3333">[ subject ]</a>
              <a href="author.html#3333">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
