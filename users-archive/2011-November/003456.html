<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] sorted constraint seg faults with empty arrays
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20sorted%20constraint%20seg%20faults%20with%20empty%20arrays&In-Reply-To=%3C42A699D3-DCA0-4642-89A4-C64669EF60E9%40gecode.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003454.html">
   <LINK REL="Next"  HREF="003455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] sorted constraint seg faults with empty arrays</H1>
    <B>Guido Tack</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20sorted%20constraint%20seg%20faults%20with%20empty%20arrays&In-Reply-To=%3C42A699D3-DCA0-4642-89A4-C64669EF60E9%40gecode.org%3E"
       TITLE="[gecode-users] sorted constraint seg faults with empty arrays">tack at gecode.org
       </A><BR>
    <I>Thu Nov  3 20:16:17 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003454.html">[gecode-users] sorted constraint seg faults with empty arrays
</A></li>
        <LI>Next message: <A HREF="003455.html">[gecode-users] Gecode 4.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3456">[ date ]</a>
              <a href="thread.html#3456">[ thread ]</a>
              <a href="subject.html#3456">[ subject ]</a>
              <a href="author.html#3456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks, Kish.  I just fixed it in the svn trunk.

Cheers,
Guido

-- 
Guido Tack, <A HREF="http://people.cs.kuleuven.be/~guido.tack/">http://people.cs.kuleuven.be/~guido.tack/</A>




On 3 Nov 2011, at 18:36, Kish Shen wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I am getting a segmentation fault when using the sorted constraint with empty IntVarArgs arrays (i.e. size of the array is zero).
</I>&gt;<i> 
</I>&gt;<i> I found this when I was producing unit tests for the sorted constraint for the ECLiPSe Gecode interface. One of the thing I test for is for the variable array(s) being empty, because I expect the arguments to the constraints to be generated by the user's program, and it could be that this may result in no variables being involved in the constructed constraint. Originally I used to check if such arrays are empty, and raise an error at the ECLiPSe level if it is, so the Gecode constraint was never called with an empty array, but I was sent a program from one of our users who tried to call the lexicographical ordering constraints with empty arrays, and when I did pass the empty array to Gecode, it seem to cope without problems.
</I>&gt;<i> 
</I>&gt;<i> With the sorted constraint, I get a seg. fault. I am using
</I>&gt;<i> 
</I>&gt;<i> sort(home, x, y)
</I>&gt;<i> 
</I>&gt;<i> where both x and y are IntVarArgs of size 0, which should just succeed trivially, but it seems that the seg fault happens during the calling of sort().
</I>&gt;<i> 
</I>&gt;<i> This is the first constraint that I have run into problems with using size 0 IntVarArgs -- I have tested quite a few other constraints so far, and until now they have all worked.
</I>&gt;<i> 
</I>&gt;<i> I am using Gecode 3.7.1, and I tried on both 32 bit Linux and 64 bit Intel Mac.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Kish
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> This e-mail may contain confidential and privileged material for the
</I>&gt;<i> sole use of the intended recipient. Any review, use, distribution or
</I>&gt;<i> disclosure by others is strictly prohibited. If you are not the intended
</I>&gt;<i> recipient (or authorized to receive for the recipient), please contact
</I>&gt;<i> the sender by reply e-mail and delete all copies of this message.
</I>&gt;<i> Cisco Systems Limited (Company Number: 02558939), is registered in
</I>&gt;<i> England and Wales with its registered office at 1 Callaghan Square,
</I>&gt;<i> Cardiff, South Glamorgan CF10 5BT.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gecode users mailing list
</I>&gt;<i> <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;<i> <A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003454.html">[gecode-users] sorted constraint seg faults with empty arrays
</A></li>
	<LI>Next message: <A HREF="003455.html">[gecode-users] Gecode 4.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3456">[ date ]</a>
              <a href="thread.html#3456">[ thread ]</a>
              <a href="subject.html#3456">[ subject ]</a>
              <a href="author.html#3456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
