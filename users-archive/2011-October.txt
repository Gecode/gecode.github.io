From ncasti at fdi.ucm.es  Mon Oct  3 13:59:11 2011
From: ncasti at fdi.ucm.es (=?iso-8859-1?Q?=22Ignacio_Casti=F1eiras_P=E9rez=22?=)
Date: Mon, 03 Oct 2011 13:59:11 +0200
Subject: [gecode-users] Redirect the output of a MinimizeScript
Message-ID: <f538b39837cc4.4e89bfaf@ucm.es>



Hi, 

Thank you very much for your reply. It works!



But, by
changing from the MinimizeScript class to the MinimizeSpace class I have found
two new difficulties: 



1. I can
use a Search::Statistics object to print the propagations, nodes, failures,
peak depth and peak memory used. But, is there any API method for printing the
runtime? 


2. I
also want to add a stop object to the search engine, to stop the search when a
certain time limit is reached. In MinimizeScript I can pass it as a command-line
argument. For doing it in MinimizeSpace I have read the MPG section 7.4, but I
didn't manage to do so (bad programmer I am). I have look at the examples of
the distribution, but I don't find any one using it. Do you have any example of
how to pass a stop object?



Thank
you in advance. 

Best, 

Nacho


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20111003/0dcc2189/attachment.htm>

From tack at gecode.org  Mon Oct  3 14:08:08 2011
From: tack at gecode.org (Guido Tack)
Date: Mon, 3 Oct 2011 14:08:08 +0200
Subject: [gecode-users] Redirect the output of a MinimizeScript
In-Reply-To: <f538b39837cc4.4e89bfaf@ucm.es>
References: <f538b39837cc4.4e89bfaf@ucm.es>
Message-ID: <4D23B884-FD1E-49FE-8978-37B16A036D40@gecode.org>

On 3 Oct 2011, at 13:59, Ignacio Casti?eiras P?rez wrote:
> Hi,
> 
> Thank you very much for your reply. It works!
> 
> But, by changing from the MinimizeScript class to the MinimizeSpace class I have found two new difficulties:
> 
> 1. I can use a Search::Statistics object to print the propagations, nodes, failures, peak depth and peak memory used. But, is there any API method for printing the runtime? 
> 
You can use the Support::Timer class as follows:

Support::Timer t;
t.start();
... // do your search
Driver::stop(t, std::cout); // print time information to cout
> 2. I also want to add a stop object to the search engine, to stop the search when a certain time limit is reached. In MinimizeScript I can pass it as a command-line argument. For doing it in MinimizeSpace I have read the MPG section 7.4, but I didn't manage to do so (bad programmer I am). I have look at the examples of the distribution, but I don't find any one using it. Do you have any example of how to pass a stop object?
> 
Assuming you use the DFS class for search and your model class is S, you can add a stop object like this:

Search::Options so;
Search::TimeStop ts(10000); // stop after 10000 ms
so.stop = &ts;
DFS<S> dfs(root, so);
...

For more complex stop objects, have a look at the Gecode source code, in particular the Cutoff class in file driver/script.hpp.

Hope this helps.

Guido

-- 
Guido Tack, http://people.cs.kuleuven.be/~guido.tack/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20111003/9f98e566/attachment.htm>

From tack at gecode.org  Mon Oct 10 11:28:44 2011
From: tack at gecode.org (Guido Tack)
Date: Mon, 10 Oct 2011 11:28:44 +0200
Subject: [gecode-users] Gecode 3.7.1 released
Message-ID: <4CFB9D5B-4D52-4733-82B5-5D3BFA187165@gecode.org>

Dear all,

we are releasing a new version of Gecode:

       Gecode 3.7.1
http://www.gecode.org

This release fixes several bugs, upgrades to MiniZinc version 1.4, and features some minor improvements.

On our web site, you find source packages, binary packages for Windows and Mac OS, and the full documentation.

Cheers,
	Guido



From announce-owner at gecode.org  Wed Oct 12 04:09:13 2011
From: announce-owner at gecode.org (announce-owner at gecode.org)
Date: Tue, 11 Oct 2011 23:09:13 -0300
Subject: [gecode-users] Are you looking for me
Message-ID: <2657440864.TE53NBH1142673@qjtfuputmbugkh.zugzwqpgey.su>

Hola my precious!

The reduction of the universe to a single being, the expansion of a single being even to God, this is love.

Hello Honey! I would like to tell you a bit about myself.
I'm tall with a middle figure.
I have long blond, very beautiful hair, small nice nose, perfect lips and big blue eyes. 
I am a sociable easy going person, so I like meeting friends, going out, have fun and new something interesting.
I'm looking for a strong relations with a caring and smart man!

I am really tired of all these temporary relations. 
I would like to find a man who will be able to estimate not only my beauty, but also my brain and my soul...
I want him to kind and handsome, brave and tender, romantic and honest.

my site: www.seekforyou.ru

 my sweet, kisses

Stazy



From dalheimer at itwm.fhg.de  Wed Oct 12 10:57:24 2011
From: dalheimer at itwm.fhg.de (Mathias Dalheimer)
Date: Wed, 12 Oct 2011 10:57:24 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
Message-ID: <4E955674.5090807@itwm.fhg.de>

Hi,

I'm having trouble expressing the following constraints: I have two
IntVarArrays which contain short timeseries (i.e. consumption values for
one hour, while the remaining hours of one day are empty/not
constrained). The *position* of the constraints of the consumption can
move within the day, this is governed by two IntVars (m, n) (which are
my optimization goal, so the cost function is calculated depending on
the position variables). The underlying question is where to place the
consumption in order to optimize some cost function.

Now I have some other constraints that depend on the position m and n of
the consumption. I need to sum the timeseries. So, as an example, I have
something like this (. denotes no constraint):


. . . 1 2 1 2 3 . . . . . . . . .   // m=3
. . . . . . . 2 4 5 6 5 . . . . .   // n=8

Now my question: How do I encode a constraint that depends on the sum of
these two IntVarArrays while m and n (the position) can change?

So, in the previous example, this would be:

. . . 1 2 1 2 3 . . . . . . . . .   // m=3
. . . . . . . 2 4 5 6 5 . . . . .   // n=8
. . . 1 2 1 2 5 4 5 6 5 . . . . .   // sum

In another example with different m and n:

1 2 1 2 3 . . . . . . . . . . . .  // m=0
. . . . . . . 2 4 5 6 5 . . . . .  // n=8
1 2 1 2 3 . . 2 4 5 6 5 . . . . .  // sum

Different m's and n's are being evaluated and an optimal set of m and n
is the result of the optimization.

Thanks for any pointers,
-Mathias


From cschulte at kth.se  Wed Oct 12 11:21:57 2011
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 12 Oct 2011 11:21:57 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
In-Reply-To: <4E955674.5090807@itwm.fhg.de>
References: <4E955674.5090807@itwm.fhg.de>
Message-ID: <000501cc88c0$647eed40$2d7cc7c0$@kth.se>

Hi,

How about the following idea (just a sketch) based on the fact that the
timeseries is short (hopefully that's right).

Let me call the two arrays for the timeseries a and b and sum for the sum of
a and b,

1) Create variable arrays for a and b of the same length.

2) Post for each element in a and b something like:
	sum[i] = expr(home, a[i] + b[i])

3) Post the resource patterns by using a regular expression together with an
extensional constraint. Let's take as example the pattern for a (in a real
application you might want to compute the regular expression
programmatically, see for example the Kakuro case study in MPG):
	REG ra = *REG(0) + REG(1) + REG(2) + REG(1) + REG(2) + REG(3) +
*REG(0);
 The regular expression says: the timeseries can appear somewhere in a,
preceeded and succeeded by an arbitrary number of zeros. Create a DFA for it
	DFA da(ra);
  And post the extensional constraint on a
	extensional(home, a, da);

4) Now the constraints that enforce the relation between a and m (assuming m
starts counting from zero):
	for (int i=0; i<a.size(); i++)
		rel(home, (i < m) == (a[i] == 0));
  This does nothing but saying that for all positions less than m, the
element in a must be zero.

Of course, 3) and 4) must also be done for b.

Not that great as it uses lots of reified constraints but maybe worth a shot
(hopefully, I understood the problem allright). 4) Might be more efficient
if you pre-compute lower and upper bounds for m based on the length of the
pattern.

Cheers
Christian

--
Christian Schulte, KTH, web.it.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Mathias Dalheimer
Sent: Wednesday, October 12, 2011 10:57 AM
To: users at gecode.org
Subject: [gecode-users] Sum of IntVarArrays with changing array positions

Hi,

I'm having trouble expressing the following constraints: I have two
IntVarArrays which contain short timeseries (i.e. consumption values for one
hour, while the remaining hours of one day are empty/not constrained). The
*position* of the constraints of the consumption can move within the day,
this is governed by two IntVars (m, n) (which are my optimization goal, so
the cost function is calculated depending on the position variables). The
underlying question is where to place the consumption in order to optimize
some cost function.

Now I have some other constraints that depend on the position m and n of the
consumption. I need to sum the timeseries. So, as an example, I have
something like this (. denotes no constraint):


. . . 1 2 1 2 3 . . . . . . . . .   // m=3
. . . . . . . 2 4 5 6 5 . . . . .   // n=8

Now my question: How do I encode a constraint that depends on the sum of
these two IntVarArrays while m and n (the position) can change?

So, in the previous example, this would be:

. . . 1 2 1 2 3 . . . . . . . . .   // m=3
. . . . . . . 2 4 5 6 5 . . . . .   // n=8
. . . 1 2 1 2 5 4 5 6 5 . . . . .   // sum

In another example with different m and n:

1 2 1 2 3 . . . . . . . . . . . .  // m=0 . . . . . . . 2 4 5 6 5 . . . . .
// n=8
1 2 1 2 3 . . 2 4 5 6 5 . . . . .  // sum

Different m's and n's are being evaluated and an optimal set of m and n is
the result of the optimization.

Thanks for any pointers,
-Mathias

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From tack at gecode.org  Wed Oct 12 11:26:05 2011
From: tack at gecode.org (Guido Tack)
Date: Wed, 12 Oct 2011 11:26:05 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
In-Reply-To: <4E955674.5090807@itwm.fhg.de>
References: <4E955674.5090807@itwm.fhg.de>
Message-ID: <B0F482C8-C227-408A-A58D-1B08F27DCD02@gecode.org>

Hi Mathias,

you can express the constraint using element constraints.  Say the two sequences are x and y, you create two new sequences xx and yy (with appropriate length) and then post the following constraints:

for (int i=0; i<x.size(); i++) post(home, x[i] == element(xx,m+i))
for (int i=0; i<y.size(); i++) post(home, y[i] == element(yy,n+i))

for (int i=0; i<xx.size(); i++) post(home, xy[i] = x[i]+y[i]);

If you need to constrain the "empty" positions to 0 (e.g. because your optimization function doesn't do that automatically), you can do that in addition:

for (int i=0; i<xx.size(); i++) post(home, (i < m || i > m+x.size()) >> xx[i]==0));
for (int i=0; i<yy.size(); i++) post(home, (i < n || i > n+y.size()) >> yy[i]==0));

I didn't test the code, but I hope you get the idea.

Christian's email just arrived - I think my solution is different in that the time series can be variables, which means you can't use regular.  I understand that correctly from your description?

Cheers,
Guido

On 12 Oct 2011, at 10:57, Mathias Dalheimer wrote:

> Hi,
> 
> I'm having trouble expressing the following constraints: I have two
> IntVarArrays which contain short timeseries (i.e. consumption values for
> one hour, while the remaining hours of one day are empty/not
> constrained). The *position* of the constraints of the consumption can
> move within the day, this is governed by two IntVars (m, n) (which are
> my optimization goal, so the cost function is calculated depending on
> the position variables). The underlying question is where to place the
> consumption in order to optimize some cost function.
> 
> Now I have some other constraints that depend on the position m and n of
> the consumption. I need to sum the timeseries. So, as an example, I have
> something like this (. denotes no constraint):
> 
> 
> . . . 1 2 1 2 3 . . . . . . . . .   // m=3
> . . . . . . . 2 4 5 6 5 . . . . .   // n=8
> 
> Now my question: How do I encode a constraint that depends on the sum of
> these two IntVarArrays while m and n (the position) can change?
> 
> So, in the previous example, this would be:
> 
> . . . 1 2 1 2 3 . . . . . . . . .   // m=3
> . . . . . . . 2 4 5 6 5 . . . . .   // n=8
> . . . 1 2 1 2 5 4 5 6 5 . . . . .   // sum
> 
> In another example with different m and n:
> 
> 1 2 1 2 3 . . . . . . . . . . . .  // m=0
> . . . . . . . 2 4 5 6 5 . . . . .  // n=8
> 1 2 1 2 3 . . 2 4 5 6 5 . . . . .  // sum
> 
> Different m's and n's are being evaluated and an optimal set of m and n
> is the result of the optimization.
> 
> Thanks for any pointers,
> -Mathias
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-- 
Guido Tack, http://people.cs.kuleuven.be/~guido.tack/







From dalheimer at itwm.fhg.de  Wed Oct 12 16:27:04 2011
From: dalheimer at itwm.fhg.de (Mathias Dalheimer)
Date: Wed, 12 Oct 2011 16:27:04 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
In-Reply-To: <4E95A3B8.3080801@itwm.fhg.de>
References: <4E955674.5090807@itwm.fhg.de>
	<B0F482C8-C227-408A-A58D-1B08F27DCD02@gecode.org>
	<4E95A3B8.3080801@itwm.fhg.de>
Message-ID: <4E95A3B8.3080801@itwm.fhg.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Dear Guido, dear Christian, list,

wow, I'm impressed - usually not even paid support does answer so fast
and so accurate. Thank you very much!

I've implemented Guidos idea, but I still have a problem. My code looks
like this:

I have some member variables (all IntVarArrays), here's the
initialization list:

  :_start_times(*this, devices.size(), 0, MINS_PER_DAY)
  _movable_load(*this, MINS_PER_DAY, 0, 15000)
  _dev0_load(*this, MINS_PER_DAY, 0, 15000)
  _dev1_load(*this, MINS_PER_DAY, 0, 15000)
  _dev0(*this, devices[0].size(), 0, 15000)
  _dev1(*this, devices[1].size(), 0, 15000)

devices is of type std::vector< std::vector >, I copy the
initial device data to _dev0 (and _dev1):

  for (size_t i=0; i < devices[0].size(); ++i) {
    rel(*this, _dev0[i] == devices[0][i]);
  }

Then, I use Guido's recommendation:

 for (int j=0; j < _dev0.size(); ++j) {
    rel(*this, _dev0_load[j] == element(_dev0, _start_times[0] + j));
 }

Please note that I was not able to use the post function - the compiler
complains that the function is not defined, although minimodel.hh is
included. After this step (again the same code for _dev1), I can sum up
the _devX_load IntVarArrays:

  for (int i=0; i<_movable_load.size(); ++i) {
    rel(*this, _movable_load[i] == _dev0_load[i] + _dev1_load[i]);
  }

This works in principle (The _movable_load series is calculated
correctly), but only if the device positions (_start_times) are 0. These
are also the solutions found by Gecode. If I restrict the start times to
something different, i.e.

  rel(*this, _start_times[0] == 1);

Gecode will not find any solutions. I'm sure I'm only missing something
simple - any ideas? Thanks again for your time!

Cheers,
- -Mathias


Guido Tack wrote:
> Hi Mathias,
> 
> you can express the constraint using element constraints.  Say the 
> two sequences are x and y, you create two new sequences xx and yy 
> (with appropriate length) and then post the following constraints:
> 
> for (int i=0; i< m || i > m+x.size())
>>> xx[i]==0)); for (int i=0; i< n || i
>> n+y.size()) >> yy[i]==0));
> I didn't test the code, but I hope you get the idea.
> 
> Christian's email just arrived - I think my solution is different in 
> that the time series can be variables, which means you can't use 
> regular.  I understand that correctly from your description?
> 
> Cheers, Guido
> 
> On 12 Oct 2011, at 10:57, Mathias Dalheimer wrote:
> 
>> Hi,
>> 
>> I'm having trouble expressing the following constraints: I have two
>> IntVarArrays which contain short timeseries (i.e. consumption 
>> values for one hour, while the remaining hours of one day are 
>> empty/not constrained). The *position* of the constraints of the 
>> consumption can move within the day, this is governed by two 
>> IntVars (m, n) (which are my optimization goal, so the cost 
>> function is calculated depending on the position variables). The 
>> underlying question is where to place the consumption in order to 
>> optimize some cost function.
>> 
>> Now I have some other constraints that depend on the position m
>> and n of the consumption. I need to sum the timeseries. So, as an 
>> example, I have something like this (. denotes no constraint):
>> 
>> 
>> . . . 1 2 1 2 3 . . . . . . . . .   // m=3 . . . . . . . 2 4 5 6 5 
>> . . . . .   // n=8
>> 
>> Now my question: How do I encode a constraint that depends on the 
>> sum of these two IntVarArrays while m and n (the position) can 
>> change?
>> 
>> So, in the previous example, this would be:
>> 
>> . . . 1 2 1 2 3 . . . . . . . . .   // m=3 . . . . . . . 2 4 5 6 5 
>> . . . . .   // n=8 . . . 1 2 1 2 5 4 5 6 5 . . . . .   // sum
>> 
>> In another example with different m and n:
>> 
>> 1 2 1 2 3 . . . . . . . . . . . .  // m=0 . . . . . . . 2 4 5 6 5
>> . . . . .  // n=8 1 2 1 2 3 . . 2 4 5 6 5 . . . . .  // sum
>> 
>> Different m's and n's are being evaluated and an optimal set of m 
>> and n is the result of the optimization.
>> 
>> Thanks for any pointers, -Mathias
>> 
>> _______________________________________________ Gecode users 
>> mailing list users at gecode.org 
>> https://www.gecode.org/mailman/listinfo/gecode-users
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (Darwin)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk6VtB8ACgkQ/Rbs3OTm+ySf6wCg0c/kkj/TI98JdoP2jpKc6bSr
a/MAnjWOkQrhcJxmgdltGcpA5v+xYS+y
=Wboo
-----END PGP SIGNATURE-----


From tack at gecode.org  Thu Oct 13 10:33:58 2011
From: tack at gecode.org (Guido Tack)
Date: Thu, 13 Oct 2011 10:33:58 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
In-Reply-To: <4E95A3B8.3080801@itwm.fhg.de>
References: <4E955674.5090807@itwm.fhg.de>
	<B0F482C8-C227-408A-A58D-1B08F27DCD02@gecode.org>
	<4E95A3B8.3080801@itwm.fhg.de> <4E95A3B8.3080801@itwm.fhg.de>
Message-ID: <5486CDEF-0B6E-44CF-9DF1-879FFC9F5FCA@gecode.org>

On 12 Oct 2011, at 16:27, Mathias Dalheimer wrote:
> Dear Guido, dear Christian, list,
> 
> wow, I'm impressed - usually not even paid support does answer so fast
> and so accurate. Thank you very much!
> 
> I've implemented Guidos idea, but I still have a problem. My code looks
> like this:
> 
> I have some member variables (all IntVarArrays), here's the
> initialization list:
> 
>  :_start_times(*this, devices.size(), 0, MINS_PER_DAY)
>  _movable_load(*this, MINS_PER_DAY, 0, 15000)
>  _dev0_load(*this, MINS_PER_DAY, 0, 15000)
>  _dev1_load(*this, MINS_PER_DAY, 0, 15000)
>  _dev0(*this, devices[0].size(), 0, 15000)
>  _dev1(*this, devices[1].size(), 0, 15000)
> 
> devices is of type std::vector< std::vector >, I copy the
> initial device data to _dev0 (and _dev1):
> 
>  for (size_t i=0; i < devices[0].size(); ++i) {
>    rel(*this, _dev0[i] == devices[0][i]);
>  }
> 
> Then, I use Guido's recommendation:
> 
> for (int j=0; j < _dev0.size(); ++j) {
>    rel(*this, _dev0_load[j] == element(_dev0, _start_times[0] + j));
> }

Shouldn't this be the other way around:

for (int j=0; j < _dev0.size(); ++j) {
   rel(*this, _dev0[j] == element(_dev0_load, _start_times[0] + j));
}


> Please note that I was not able to use the post function - the compiler
> complains that the function is not defined, although minimodel.hh is
> included.

Right, sorry, rel was called post in an earlier version of Gecode and I still get that mixed up sometimes.

Cheers,
Guido

-- 
Guido Tack, http://people.cs.kuleuven.be/~guido.tack/



From kelbelj at fel.cvut.cz  Thu Oct 13 14:13:13 2011
From: kelbelj at fel.cvut.cz (Jan Kelbel)
Date: Thu, 13 Oct 2011 14:13:13 +0200
Subject: [gecode-users] printing of time in script.cpp
Message-ID: <4E96D5D9.70502@fel.cvut.cz>

Hi,

I found some non-correct behavior in function
void stop(Support::Timer& timer, std::ostream& os)
lines 57 to 67 in release 3.7.1 in file gecode\driver\script.cpp

When for example (o_hour > 0) and (o_min == 0), then the result of the 
output is o_hour:o_sec.o_msec, and the minute part is skipped.

Possibly, the lines 59 and 60 can be replaced by:

if (o_hour) {
   os << o_hour << ":";
   if (0 == o_min) {
     os << "00:";
     os.width(2); os.fill('0');
   }
}

Cheers,
	Jan



From denys.duchier at univ-orleans.fr  Thu Oct 13 14:25:44 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Thu, 13 Oct 2011 14:25:44 +0200
Subject: [gecode-users] [ANN] gecode/python v0.20
Message-ID: <87botl5b93.fsf@univ-orleans.fr>

I am pleased to announce release 0.20 of gecode-python, the simplified
gecode bindings for python.

WHAT'S NEW:

- updated for gecode 3.7.1
- raise python exception for c++ exception on variable creation
- fixed bug in intset construction, and as constraint parameter

get it either from pypi.python.org or from the lp:gecode-python branch
on launchpad.net.

INSTALL:

- from pypi using easy_install (provided by setuptools):

        sudo -E easy_install gecode-python
  or    easy_install gecode-python --prefix ~

  if you are upgrading a previous install:

        sudo -E easy_install -U gecode-python
  or    easy_install -U gecode-python --prefix ~

- from pypi using the tarball:

        tar zxf gecode-python-0.17.tar.gz
        cd gecode-python-0.17
        sudo -E python setup.py install
  or    python setup.py install --prefix ~

- using the launchpad branch:

        bzr branch lp:gecode-python
        cd gecode-python
        sudo -E python setup.py install
  or    python setup.py install --prefix ~

if you are installing using "--prefix ~" I recommend that:
1. you create directory ~/.local if it does not already exist
2. you create a symbolic link:
        ~/.local/lib   -> ~/lib
   or   ~/.local/lib64 -> ~/lib64
   depending on whether you have a ~/lib or a ~/lib64 directory in your
   home after install.
this will allow python to find your locally installed packages without
requiring you to fiddle with environment variable PYTHONPATH.

Cheers,

--Denys


From denys.duchier at univ-orleans.fr  Thu Oct 13 14:29:28 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Thu, 13 Oct 2011 14:29:28 +0200
Subject: [gecode-users] [ANN] gecode/python v0.20
In-Reply-To: <87botl5b93.fsf@univ-orleans.fr> (Denys Duchier's message of
	"Thu, 13 Oct 2011 14:25:44 +0200")
References: <87botl5b93.fsf@univ-orleans.fr>
Message-ID: <8762jt5b2v.fsf@univ-orleans.fr>

Denys Duchier <denys.duchier at univ-orleans.fr> writes:

> I am pleased to announce release 0.20 of gecode-python, the simplified
> gecode bindings for python.

oops, released 0.21 with up-to-date MANIFEST. sorry about that!

--Denys


From dalheimer at itwm.fhg.de  Thu Oct 13 14:42:16 2011
From: dalheimer at itwm.fhg.de (Mathias Dalheimer)
Date: Thu, 13 Oct 2011 14:42:16 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
In-Reply-To: <5486CDEF-0B6E-44CF-9DF1-879FFC9F5FCA@gecode.org>
References: <4E955674.5090807@itwm.fhg.de>
	<B0F482C8-C227-408A-A58D-1B08F27DCD02@gecode.org>
	<4E95A3B8.3080801@itwm.fhg.de> <4E95A3B8.3080801@itwm.fhg.de>
	<5486CDEF-0B6E-44CF-9DF1-879FFC9F5FCA@gecode.org>
Message-ID: <4E96DCA8.50000@itwm.fhg.de>

Hi,

Guido Tack wrote:
> On 12 Oct 2011, at 16:27, Mathias Dalheimer wrote:

>> Then, I use Guido's recommendation:
>> 
>> for (int j=0; j < _dev0.size(); ++j) { rel(*this, _dev0_load[j] ==
>> element(_dev0, _start_times[0] + j)); }
> 
> Shouldn't this be the other way around:
> 
> for (int j=0; j < _dev0.size(); ++j) { rel(*this, _dev0[j] ==
> element(_dev0_load, _start_times[0] + j)); }

OK, this did the trick. My model is working, although pretty slow, but
this should be a matter of tweaking the domain sizes and so on.

If you don't mind, I have another question: Why does the oder matter? My
interpretation of MPG p.87, "Figure 6.1: Integer expressions and
relations" is that the order is not relevant. What am I missing?

>> Please note that I was not able to use the post function - the
>> compiler complains that the function is not defined, although
>> minimodel.hh is included.
> 
> Right, sorry, rel was called post in an earlier version of Gecode and
> I still get that mixed up sometimes.

No problem - thanks for your help!

Cheers,
-Mathias


From tack at gecode.org  Thu Oct 13 15:34:46 2011
From: tack at gecode.org (Guido Tack)
Date: Thu, 13 Oct 2011 15:34:46 +0200
Subject: [gecode-users] printing of time in script.cpp
In-Reply-To: <4E96D5D9.70502@fel.cvut.cz>
References: <4E96D5D9.70502@fel.cvut.cz>
Message-ID: <CABkauycwmw+3cjrr03d_WVwhZubrFGyXj42AijgppkzNYkNnVQ@mail.gmail.com>

Thanks for the bug report, I fixed it in the svn trunk.

Cheers,
Guido

On Thu, Oct 13, 2011 at 2:13 PM, Jan Kelbel <kelbelj at fel.cvut.cz> wrote:
> Hi,
>
> I found some non-correct behavior in function
> void stop(Support::Timer& timer, std::ostream& os)
> lines 57 to 67 in release 3.7.1 in file gecode\driver\script.cpp
>
> When for example (o_hour > 0) and (o_min == 0), then the result of the
> output is o_hour:o_sec.o_msec, and the minute part is skipped.
>
> Possibly, the lines 59 and 60 can be replaced by:
>
> if (o_hour) {
> ?os << o_hour << ":";
> ?if (0 == o_min) {
> ? ?os << "00:";
> ? ?os.width(2); os.fill('0');
> ?}
> }
>
> Cheers,
> ? ? ? ?Jan
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>


From tack at gecode.org  Thu Oct 13 15:36:41 2011
From: tack at gecode.org (Guido Tack)
Date: Thu, 13 Oct 2011 15:36:41 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
In-Reply-To: <4E96DCA8.50000@itwm.fhg.de>
References: <4E955674.5090807@itwm.fhg.de>
	<B0F482C8-C227-408A-A58D-1B08F27DCD02@gecode.org>
	<4E95A3B8.3080801@itwm.fhg.de>
	<5486CDEF-0B6E-44CF-9DF1-879FFC9F5FCA@gecode.org>
	<4E96DCA8.50000@itwm.fhg.de>
Message-ID: <CABkauyfn829Af=r0RUgH4auSBi37wXWkojVX5o-wvE9DVaTbRA@mail.gmail.com>

On Thu, Oct 13, 2011 at 2:42 PM, Mathias Dalheimer
<dalheimer at itwm.fhg.de> wrote:
>> for (int j=0; j < _dev0.size(); ++j) { rel(*this, _dev0[j] ==
>> element(_dev0_load, _start_times[0] + j)); }
>
> If you don't mind, I have another question: Why does the oder matter? My
> interpretation of MPG p.87, "Figure 6.1: Integer expressions and
> relations" is that the order is not relevant. What am I missing?

It's not the order, it's the difference between x[j]==y[m+j] versus
y[j]==x[m+j].

Guido


From dalheimer at itwm.fhg.de  Thu Oct 13 16:28:22 2011
From: dalheimer at itwm.fhg.de (Mathias Dalheimer)
Date: Thu, 13 Oct 2011 16:28:22 +0200
Subject: [gecode-users] Sum of IntVarArrays with changing array positions
In-Reply-To: <CABkauyfn829Af=r0RUgH4auSBi37wXWkojVX5o-wvE9DVaTbRA@mail.gmail.com>
References: <4E955674.5090807@itwm.fhg.de>
	<B0F482C8-C227-408A-A58D-1B08F27DCD02@gecode.org>
	<4E95A3B8.3080801@itwm.fhg.de>
	<5486CDEF-0B6E-44CF-9DF1-879FFC9F5FCA@gecode.org>
	<4E96DCA8.50000@itwm.fhg.de>
	<CABkauyfn829Af=r0RUgH4auSBi37wXWkojVX5o-wvE9DVaTbRA@mail.gmail.com>
Message-ID: <4E96F586.2030205@itwm.fhg.de>

Guido Tack wrote:
> It's not the order, it's the difference between x[j]==y[m+j] versus
> y[j]==x[m+j].

Oh my, not my day today. Sorry.

Cheers,
-Mathias


From cschulte at kth.se  Fri Oct 14 15:02:43 2011
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 14 Oct 2011 15:02:43 +0200
Subject: [gecode-users] Gecode 4.0.0
Message-ID: <006501cc8a71$900c6250$b02526f0$@se>

Dear all,

As this year has already a number of releases of Gecode from the 3.* version
series we have decided to slow the pace and prepare for Gecode 4.0.0 as the
next major release.

This mail is just to assure you that we are not dormant but that it will
take longer before the next version appears. If there is the need for a bug
fix release we will of course do that in the meantime.

Our current plan is to include the following features:

- Integrate propagator groups, see here:
	
http://web.it.kth.se/~cschulte/paper.php?id=LagerkvistSchulte:CP:2009

- Integrate lightweight dynamic symmetry breaking, see here:
	Lightweight Dynamic Symmetry Breaking.  C. Mears, M. Garcia de la
Banda, B. Demoen, M. Wallace.
     SymCon'08.
   LDSB is a dynamic symmetry breaking method designed to handle
   common symmetries efficiently under any variable and value
   ordering.

- Integrate float variables

- Provide modeling layer for float variables

- Support for restarts during search and large neighborhood search

- Make randomized tie-breaking more flexible

- Modeling layer for scheduling constraints

- Branching for scheduling problems


Some more speculative things that might or might not make it are:

- Integrate discrepancy-based search that is not LDS (?)

- Half-reification, see here:
	Thibaut Feydy, Zoltan Somogyi, Peter J. Stuckey: Half Reification
and Flattening. CP 2011: 286-301

- Redundancy analysis, see here:
	http://web.it.kth.se/~cschulte/paper.php?id=SchulteStuckey:PPDP:2008

Best
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/





From cschulte at kth.se  Fri Oct 14 15:08:48 2011
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 14 Oct 2011 15:08:48 +0200
Subject: [gecode-users] Gecode 4.0.0
In-Reply-To: <006501cc8a71$900c6250$b02526f0$@se>
References: <006501cc8a71$900c6250$b02526f0$@se>
Message-ID: <006b01cc8a72$69968a00$3cc39e00$@se>

Damn it, there are two pieces of information missing...

Timeline: we aim at the second quarter of 2012 for Gecode 4.0.0. But today I
went through some older emails (written when we discussed what Gecode 3.*
should be) and there I wrote that Gecode 4 should be around end of 2009.
Okay, still trust me! This time everything is much different ;-) Just
kidding.

Then, of course: Is there something that we absolutely must do for our
users?

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Christian Schulte
Sent: Friday, October 14, 2011 3:03 PM
To: users at gecode.org
Subject: [gecode-users] Gecode 4.0.0

Dear all,

As this year has already a number of releases of Gecode from the 3.* version
series we have decided to slow the pace and prepare for Gecode 4.0.0 as the
next major release.

This mail is just to assure you that we are not dormant but that it will
take longer before the next version appears. If there is the need for a bug
fix release we will of course do that in the meantime.

Our current plan is to include the following features:

- Integrate propagator groups, see here:
	
http://web.it.kth.se/~cschulte/paper.php?id=LagerkvistSchulte:CP:2009

- Integrate lightweight dynamic symmetry breaking, see here:
	Lightweight Dynamic Symmetry Breaking.  C. Mears, M. Garcia de la
Banda, B. Demoen, M. Wallace.
     SymCon'08.
   LDSB is a dynamic symmetry breaking method designed to handle
   common symmetries efficiently under any variable and value
   ordering.

- Integrate float variables

- Provide modeling layer for float variables

- Support for restarts during search and large neighborhood search

- Make randomized tie-breaking more flexible

- Modeling layer for scheduling constraints

- Branching for scheduling problems


Some more speculative things that might or might not make it are:

- Integrate discrepancy-based search that is not LDS (?)

- Half-reification, see here:
	Thibaut Feydy, Zoltan Somogyi, Peter J. Stuckey: Half Reification
and Flattening. CP 2011: 286-301

- Redundancy analysis, see here:
	http://web.it.kth.se/~cschulte/paper.php?id=SchulteStuckey:PPDP:2008

Best
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/




_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From vivian at vdesmedt.com  Sun Oct 16 14:23:59 2011
From: vivian at vdesmedt.com (Vivian De Smedt)
Date: Sun, 16 Oct 2011 14:23:59 +0200
Subject: [gecode-users] [ANN] gecode/python v0.20
In-Reply-To: <87botl5b93.fsf@univ-orleans.fr>
References: <87botl5b93.fsf@univ-orleans.fr>
Message-ID: <4E9ACCDF.1050902@vdesmedt.com>

Denys,

I have tried to install your package on Windows box and I wonder if you 
forgot to import os in setup.py.from distutils.core import setup

    from distutils.extension import Extension
    from sys import platform as PLATFORM
    import os

    if PLATFORM == "darwin":
         XARGS = dict(extra_link_args=["-framework","gecode"])
    elif PLATFORM == "win32":
         XARGS = dict(include_dirs=[os.environ["GECODEDIR"]+"include"],
                      library_dirs=[os.environ["GECODEDIR"]+"lib"])
    else:
         XARGS = dict(libraries=["stdc++", "gecodeint", "gecodeset",
    "gecodesearch",
                                 "gecodekernel", "gecodesupport"])


Yours,
Vivian;


On 13/10/2011 14:25, Denys Duchier wrote:
> I am pleased to announce release 0.20 of gecode-python, the simplified
> gecode bindings for python.
>
> WHAT'S NEW:
>
> - updated for gecode 3.7.1
> - raise python exception for c++ exception on variable creation
> - fixed bug in intset construction, and as constraint parameter
>
> get it either from pypi.python.org or from the lp:gecode-python branch
> on launchpad.net.
>
> INSTALL:
>
> - from pypi using easy_install (provided by setuptools):
>
>          sudo -E easy_install gecode-python
>    or    easy_install gecode-python --prefix ~
>
>    if you are upgrading a previous install:
>
>          sudo -E easy_install -U gecode-python
>    or    easy_install -U gecode-python --prefix ~
>
> - from pypi using the tarball:
>
>          tar zxf gecode-python-0.17.tar.gz
>          cd gecode-python-0.17
>          sudo -E python setup.py install
>    or    python setup.py install --prefix ~
>
> - using the launchpad branch:
>
>          bzr branch lp:gecode-python
>          cd gecode-python
>          sudo -E python setup.py install
>    or    python setup.py install --prefix ~
>
> if you are installing using "--prefix ~" I recommend that:
> 1. you create directory ~/.local if it does not already exist
> 2. you create a symbolic link:
>          ~/.local/lib   ->  ~/lib
>     or   ~/.local/lib64 ->  ~/lib64
>     depending on whether you have a ~/lib or a ~/lib64 directory in your
>     home after install.
> this will allow python to find your locally installed packages without
> requiring you to fiddle with environment variable PYTHONPATH.
>
> Cheers,
>
> --Denys
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20111016/d409007c/attachment.htm>

From kisshen at cisco.com  Mon Oct 17 02:09:26 2011
From: kisshen at cisco.com (Kish Shen)
Date: Mon, 17 Oct 2011 01:09:26 +0100
Subject: [gecode-users] extensional constraints with regular expressions
Message-ID: <4E9B7236.5030703@cisco.com>

Hi,

I have just added support for extensional constraints to ECLiPSe's 
Gecode interface, and I started testing the constraint with test cases, 
and I got a seg fault when I used a negative number in the repeat count 
in a regular expression.

The expression was supplied at the ECLiPSe level, but it should be 
equivalent to:


REG r = REG(1)(-1, 3) + *REG(4);
extensional(home, x, r);

The seg fault happened in the call to extensional.

I am using Gecode 3.7.0.

For the following slightly different REG:

REG r = REG(1)(-1) + *REG(4);

the result of the call to extensional is that all the variables in x are 
given the domain 4, I assume from the *REG(4) part of the regular 
expression. Is this correct? To me, the use of a negative number here 
should be equivalent to using 0, i.e. repeat 1 at least -1 times is the 
same as repeating 1 at least 0 times.

I also implemented using DFA for the extensional constraint, but my 
first version of the code had some typo bugs in it that meant some of 
the arguments to create the DFA were not initialised:

int f(fsize);
DFA::Transition t[tsize);
...
DFA d(0, t, f);


The code was supposed to initialise f and t before the DFA d(0, t, f) 
line, so t and f had no valid values. What happen is that Gecode seem to 
go into a loop for the call -- is this because it is failing to find the 
-1 that should be in f?

I understand that the problem is because I did not initialise t and f, 
but is there anyway to avoid a loop, e.g. for an exception to bw raised? 
If the looping is due to the missing -1, would this be a problem, 
because it is probably quite easy for a user to forget to add a 
terminating -1 in their code (this actually would not be a problem for 
my code, as the interface code insert a -1, so the user do not have to)

Cheers,

Kish
-- 
This e-mail may contain confidential and privileged material for the
sole use of the intended recipient. Any review, use, distribution or
disclosure by others is strictly prohibited. If you are not the intended
recipient (or authorized to receive for the recipient), please contact
the sender by reply e-mail and delete all copies of this message.
Cisco Systems Limited (Company Number: 02558939), is registered in
England and Wales with its registered office at 1 Callaghan Square,
Cardiff, South Glamorgan CF10 5BT.


From denys.duchier at univ-orleans.fr  Mon Oct 17 14:00:00 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Mon, 17 Oct 2011 14:00:00 +0200
Subject: [gecode-users] [ANN] gecode/python v0.20
In-Reply-To: <4E9ACCDF.1050902@vdesmedt.com> (Vivian De Smedt's message of
	"Sun, 16 Oct 2011 14:23:59 +0200")
References: <87botl5b93.fsf@univ-orleans.fr> <4E9ACCDF.1050902@vdesmedt.com>
Message-ID: <8739erde0v.fsf@univ-orleans.fr>

Vivian De Smedt <vivian at vdesmedt.com> writes:

> I have tried to install your package on Windows box and I wonder if you forgot
> to import os in setup.py.from distutils.core import setup

thank you Vivian,
this should now be fixed on lauchpad.
Cheers,

--Denys


From cschulte at kth.se  Tue Oct 18 12:47:17 2011
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 18 Oct 2011 12:47:17 +0200
Subject: [gecode-users] extensional constraints with regular expressions
In-Reply-To: <4E9B7236.5030703@cisco.com>
References: <4E9B7236.5030703@cisco.com>
Message-ID: <001701cc8d83$538159c0$fa840d40$@kth.se>

Hi,

Sorry that is your bug and not Gecode's: the argument type to the repetition
operators in Gecode is "unsigned int". You give a negative argument that
then is silently cast to an unsigned int and the SEGFAULT then comes from
just running out of memory.

If you want to be alerted about these kind of implicit casts, please
increase the warning level of the compiler you use.

Cheers
Christian 

--
Christian Schulte, KTH, web.it.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Monday, October 17, 2011 2:09 AM
To: users at gecode.org
Subject: [gecode-users] extensional constraints with regular expressions

Hi,

I have just added support for extensional constraints to ECLiPSe's Gecode
interface, and I started testing the constraint with test cases, and I got a
seg fault when I used a negative number in the repeat count in a regular
expression.

The expression was supplied at the ECLiPSe level, but it should be
equivalent to:


REG r = REG(1)(-1, 3) + *REG(4);
extensional(home, x, r);

The seg fault happened in the call to extensional.

I am using Gecode 3.7.0.

For the following slightly different REG:

REG r = REG(1)(-1) + *REG(4);

the result of the call to extensional is that all the variables in x are 
given the domain 4, I assume from the *REG(4) part of the regular 
expression. Is this correct? To me, the use of a negative number here 
should be equivalent to using 0, i.e. repeat 1 at least -1 times is the 
same as repeating 1 at least 0 times.

I also implemented using DFA for the extensional constraint, but my 
first version of the code had some typo bugs in it that meant some of 
the arguments to create the DFA were not initialised:

int f(fsize);
DFA::Transition t[tsize);
...
DFA d(0, t, f);


The code was supposed to initialise f and t before the DFA d(0, t, f) 
line, so t and f had no valid values. What happen is that Gecode seem to 
go into a loop for the call -- is this because it is failing to find the 
-1 that should be in f?

I understand that the problem is because I did not initialise t and f, 
but is there anyway to avoid a loop, e.g. for an exception to bw raised? 
If the looping is due to the missing -1, would this be a problem, 
because it is probably quite easy for a user to forget to add a 
terminating -1 in their code (this actually would not be a problem for 
my code, as the interface code insert a -1, so the user do not have to)

Cheers,

Kish
-- 
This e-mail may contain confidential and privileged material for the
sole use of the intended recipient. Any review, use, distribution or
disclosure by others is strictly prohibited. If you are not the intended
recipient (or authorized to receive for the recipient), please contact
the sender by reply e-mail and delete all copies of this message.
Cisco Systems Limited (Company Number: 02558939), is registered in
England and Wales with its registered office at 1 Callaghan Square,
Cardiff, South Glamorgan CF10 5BT.

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From denys.duchier at univ-orleans.fr  Sat Oct 22 16:03:58 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Sat, 22 Oct 2011 16:03:58 +0200
Subject: [gecode-users] [ANN] gecode/python v0.22
Message-ID: <87bot92kdt.fsf@univ-orleans.fr>

I am pleased to announce release 0.22 of gecode-python, the simplified
gecode bindings for python.  This release brings a number of goodies!

WHAT'S NEW:

- support for "restart" search engine:
  s.search(restart=True)

- support for search options:
  s.search(threads=N1, c_d=N2, a_d=N3)

- support for keeping only some of the variables:
  s.keep(V)
  if some variables are thus marked as "kept", then only these variables
  will be explicitly copied during search.  This could bring substantial
  benefits in memory usage.  Of course, in a solution, you can then only
  look at variables that have been "kept".  If no variable is marked as
  "kept", then they are all kept.  Thus marking variables as "kept" is
  purely an optimization.

- support for Gist:
  s.gist(onclick=None, threads=None, c_d=None, a_d=None)
  if your installation of Gecode has Gist support, then this will invoke it.
  onclick is an inspector or an iterable of inspectors.  An inspector is
  a callable, or a class whose instances are callables, that has/have been
  specially annoted by a decorator:

  @inspector("My Inspector 1")
  def show1(s2):
      print s2.values([X1,X2])

  Note that s2 is not necessarily a solution!  You may also define a
  textinspector to show textual output in a graphical window:

  @textinspector("My Inspector 2")
  def show2(s2):
      return "X1=%s X2=%s" % s2.values([X1,X2])

  A textinspector must return a string.

INSTALL:

- from pypi using easy_install (provided by setuptools):

        sudo -E easy_install gecode-python
  or    easy_install gecode-python --prefix ~

  if you are upgrading a previous install:

        sudo -E easy_install -U gecode-python
  or    easy_install -U gecode-python --prefix ~

- from pypi using the tarball:

        tar zxf gecode-python-0.17.tar.gz
        cd gecode-python-0.17
        sudo -E python setup.py install
  or    python setup.py install --prefix ~

- using the launchpad branch:

        bzr branch lp:gecode-python
        cd gecode-python
        sudo -E python setup.py install
  or    python setup.py install --prefix ~

if you are installing using "--prefix ~" I recommend that:
1. you create directory ~/.local if it does not already exist
2. you create a symbolic link:
        ~/.local/lib   -> ~/lib
   or   ~/.local/lib64 -> ~/lib64
   depending on whether you have a ~/lib or a ~/lib64 directory in your
   home after install.
this will allow python to find your locally installed packages without
requiring you to fiddle with environment variable PYTHONPATH.

Cheers,

--Denys


From serge.lemouton at ircam.fr  Sat Oct 22 17:59:00 2011
From: serge.lemouton at ircam.fr (serge lemouton)
Date: Sat, 22 Oct 2011 17:59:00 +0200
Subject: [gecode-users] looking for an example of path constraints
Message-ID: <FCC2A572-8EC6-41DF-9C86-98A231AD791E@ircam.fr>

Hi all,

I am trying to use the new path constraints with the cost matrix, but without any success, yet.

In the TSP example script, why simply replacing the  

  	circuit(*this, c, succ, costs, total, opt.icl());
 		 by
 	 path(*this, c, succ, start, end,costs, total, opt.icl());

 does'nt find any solution ?

Thanks for any hint,

Serge Lemouton

From vivian at vdesmedt.com  Mon Oct 24 09:30:13 2011
From: vivian at vdesmedt.com (Vivian De Smedt)
Date: Mon, 24 Oct 2011 09:30:13 +0200
Subject: [gecode-users] [ANN] gecode/python v0.22
In-Reply-To: <87bot92kdt.fsf@univ-orleans.fr>
References: <87bot92kdt.fsf@univ-orleans.fr>
Message-ID: <4EA51405.9050605@vdesmedt.com>

Denys,

When I try to build the 0.22 version I have a problem with 
gecode-common.icc at line 422 with the flush function that doesn't seems 
to be recognized.
If I comment the line the code compile fine.

Vivian.

On 22/10/2011 16:03, Denys Duchier wrote:
> I am pleased to announce release 0.22 of gecode-python, the simplified
> gecode bindings for python.  This release brings a number of goodies!
>
> WHAT'S NEW:
>
> - support for "restart" search engine:
>    s.search(restart=True)
>
> - support for search options:
>    s.search(threads=N1, c_d=N2, a_d=N3)
>
> - support for keeping only some of the variables:
>    s.keep(V)
>    if some variables are thus marked as "kept", then only these variables
>    will be explicitly copied during search.  This could bring substantial
>    benefits in memory usage.  Of course, in a solution, you can then only
>    look at variables that have been "kept".  If no variable is marked as
>    "kept", then they are all kept.  Thus marking variables as "kept" is
>    purely an optimization.
>
> - support for Gist:
>    s.gist(onclick=None, threads=None, c_d=None, a_d=None)
>    if your installation of Gecode has Gist support, then this will invoke it.
>    onclick is an inspector or an iterable of inspectors.  An inspector is
>    a callable, or a class whose instances are callables, that has/have been
>    specially annoted by a decorator:
>
>    @inspector("My Inspector 1")
>    def show1(s2):
>        print s2.values([X1,X2])
>
>    Note that s2 is not necessarily a solution!  You may also define a
>    textinspector to show textual output in a graphical window:
>
>    @textinspector("My Inspector 2")
>    def show2(s2):
>        return "X1=%s X2=%s" % s2.values([X1,X2])
>
>    A textinspector must return a string.
>
> INSTALL:
>
> - from pypi using easy_install (provided by setuptools):
>
>          sudo -E easy_install gecode-python
>    or    easy_install gecode-python --prefix ~
>
>    if you are upgrading a previous install:
>
>          sudo -E easy_install -U gecode-python
>    or    easy_install -U gecode-python --prefix ~
>
> - from pypi using the tarball:
>
>          tar zxf gecode-python-0.17.tar.gz
>          cd gecode-python-0.17
>          sudo -E python setup.py install
>    or    python setup.py install --prefix ~
>
> - using the launchpad branch:
>
>          bzr branch lp:gecode-python
>          cd gecode-python
>          sudo -E python setup.py install
>    or    python setup.py install --prefix ~
>
> if you are installing using "--prefix ~" I recommend that:
> 1. you create directory ~/.local if it does not already exist
> 2. you create a symbolic link:
>          ~/.local/lib   ->  ~/lib
>     or   ~/.local/lib64 ->  ~/lib64
>     depending on whether you have a ~/lib or a ~/lib64 directory in your
>     home after install.
> this will allow python to find your locally installed packages without
> requiring you to fiddle with environment variable PYTHONPATH.
>
> Cheers,
>
> --Denys
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>



From denys.duchier at univ-orleans.fr  Mon Oct 24 11:37:39 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Mon, 24 Oct 2011 11:37:39 +0200
Subject: [gecode-users] [ANN] gecode/python v0.22
In-Reply-To: <4EA51405.9050605@vdesmedt.com> (Vivian De Smedt's message of
	"Mon, 24 Oct 2011 09:30:13 +0200")
References: <87bot92kdt.fsf@univ-orleans.fr> <4EA51405.9050605@vdesmedt.com>
Message-ID: <877h3uwx0c.fsf@univ-orleans.fr>

Vivian De Smedt <vivian at vdesmedt.com> writes:

> When I try to build the 0.22 version I have a problem with gecode-common.icc at
> line 422 with the flush function that doesn't seems to be recognized.
> If I comment the line the code compile fine.

That's very odd!  The flush method is supposed to be inherited from
Gist::TextOutput.  Does it work when you replace flush() by
Gist::TextOutput::flush()?

Cheers,

--Denys


From David.Rijsman at quintiq.com  Mon Oct 24 15:33:38 2011
From: David.Rijsman at quintiq.com (David Rijsman)
Date: Mon, 24 Oct 2011 15:33:38 +0200
Subject: [gecode-users] assert in propagator cast
Message-ID: <4EA58552020000850001B23A@mail.quintiq.nl>

I need some help with an assert being thrown by Gecode, hopefully by an error I made in a propagator I have created. Is there an obvious candidate for an error I made in my propagator when this assert is thrown?

The assert is thrown in core.hpp

  forceinline Propagator&
  Advisor::propagator(void) const {
    assert(!disposed());
    return *Propagator::cast(ActorLink::prev());
  }

as a result of an invocation of  Advisor::cast(*a)->propagator().afc() in:


  template<class VIC>
  forceinline double
  VarImp<VIC>::afc(void) const {
    if (degree() == 0)
      return 0.0;
    double d = degree();
    // Count the afc of each propagator
    {
      ActorLink** a = const_cast<VarImp<VIC>*>(this)->actor(0);
      ActorLink** e = const_cast<VarImp<VIC>*>(this)->actorNonZero(pc_max+1);
      while (a < e) {
        d += Propagator::cast(*a)->afc(); a++;
      }
    }
    // Count the afc of each advisor's propagator
    {
      ActorLink** a = const_cast<VarImp<VIC>*>(this)->actorNonZero(pc_max+1);
      ActorLink** e = const_cast<VarImp<VIC>*>(this)->base+entries;
      while (a < e) {
        d += Advisor::cast(*a)->propagator().afc(); a++;
      }
    }
    return d;
  }

thanks,

David Rijsman



From vivian at vdesmedt.com  Mon Oct 24 18:59:53 2011
From: vivian at vdesmedt.com (Vivian De Smedt)
Date: Mon, 24 Oct 2011 18:59:53 +0200
Subject: [gecode-users] [ANN] gecode/python v0.22
In-Reply-To: <877h3uwx0c.fsf@univ-orleans.fr>
References: <87bot92kdt.fsf@univ-orleans.fr> <4EA51405.9050605@vdesmedt.com>
	<877h3uwx0c.fsf@univ-orleans.fr>
Message-ID: <4EA59989.6030807@vdesmedt.com>

Denys,

Thanks for your message.
I have installed gecode 3.7.1 and now it seems to work fine.

The moral is that the version 2.2 don't work with gecode 3.6.0

Yours,
Vivian.

On 24/10/2011 11:37, Denys Duchier wrote:
> Vivian De Smedt<vivian at vdesmedt.com>  writes:
>
>> When I try to build the 0.22 version I have a problem with gecode-common.icc at
>> line 422 with the flush function that doesn't seems to be recognized.
>> If I comment the line the code compile fine.
> That's very odd!  The flush method is supposed to be inherited from
> Gist::TextOutput.  Does it work when you replace flush() by
> Gist::TextOutput::flush()?
>
> Cheers,
>
> --Denys
>



From denys.duchier at univ-orleans.fr  Mon Oct 24 20:08:49 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Mon, 24 Oct 2011 20:08:49 +0200
Subject: [gecode-users] [ANN] gecode/python v0.22
In-Reply-To: <4EA59989.6030807@vdesmedt.com> (Vivian De Smedt's message of
	"Mon, 24 Oct 2011 18:59:53 +0200")
References: <87bot92kdt.fsf@univ-orleans.fr> <4EA51405.9050605@vdesmedt.com>
	<877h3uwx0c.fsf@univ-orleans.fr> <4EA59989.6030807@vdesmedt.com>
Message-ID: <87ty6ydzym.fsf@univ-orleans.fr>

Vivian De Smedt <vivian at vdesmedt.com> writes:

> Thanks for your message.
> I have installed gecode 3.7.1 and now it seems to work fine.
>
> The moral is that the version 2.2 don't work with gecode 3.6.0

darn! you're right! there is no flush() in that version. oops!
I'll fix it soon. thanks for the report!

Cheers,

--Denys


From denys.duchier at univ-orleans.fr  Mon Oct 24 21:15:40 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Mon, 24 Oct 2011 21:15:40 +0200
Subject: [gecode-users] [ANN] gecode/python v0.22
In-Reply-To: <87ty6ydzym.fsf@univ-orleans.fr> (Denys Duchier's message of
	"Mon, 24 Oct 2011 20:08:49 +0200")
References: <87bot92kdt.fsf@univ-orleans.fr> <4EA51405.9050605@vdesmedt.com>
	<877h3uwx0c.fsf@univ-orleans.fr> <4EA59989.6030807@vdesmedt.com>
	<87ty6ydzym.fsf@univ-orleans.fr>
Message-ID: <87pqhmdwv7.fsf@univ-orleans.fr>

Denys Duchier <denys.duchier at univ-orleans.fr> writes:

> darn! you're right! there is no flush() in that version. oops!
> I'll fix it soon. thanks for the report!

fixed on launchpad (lp:gecode-python)!
Cheers,

--Denys


From denys.duchier at univ-orleans.fr  Mon Oct 24 21:26:08 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Mon, 24 Oct 2011 21:26:08 +0200
Subject: [gecode-users] compile-time testing of gecode version
Message-ID: <87fwiidwdr.fsf@univ-orleans.fr>

Hi Guys,

unless I missed it, there doesn't seem to be any simple way for a
gecode-using program to have #if/#ifdef sections conditioned on the
version of gecode it is being built against.  That's a pain for
portability.

In gecode-python, I just added the macro GECODE_VERSION_NUMBER
which is constructed in the same way as the boost version number:

For version X.Y.Z, the version number is X*100000+Y*100+Z

Would it be objectionable to add such a macro to gecode itself?

Cheers,

--Denys


From l.digaspero at uniud.it  Mon Oct 24 23:13:51 2011
From: l.digaspero at uniud.it (Luca Di Gaspero)
Date: Mon, 24 Oct 2011 23:13:51 +0200
Subject: [gecode-users] Gecode Python Set Variables
Message-ID: <91367EF5-E6B5-4E6F-A392-BD56CC09C6BE@uniud.it>

Hello,

is there the possibility to define and use set variables with the python bindings? Could you provide a small example?

Thanks in advance,

Luca

From denys.duchier at univ-orleans.fr  Mon Oct 24 23:21:44 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Mon, 24 Oct 2011 23:21:44 +0200
Subject: [gecode-users] Gecode Python Set Variables
In-Reply-To: <91367EF5-E6B5-4E6F-A392-BD56CC09C6BE@uniud.it> (Luca Di
	Gaspero's message of "Mon, 24 Oct 2011 23:13:51 +0200")
References: <91367EF5-E6B5-4E6F-A392-BD56CC09C6BE@uniud.it>
Message-ID: <8762jedr13.fsf@univ-orleans.fr>

Luca Di Gaspero <l.digaspero at uniud.it> writes:

> is there the possibility to define and use set variables with the python
> bindings? Could you provide a small example?

All is (succinctly) documented in the README file which I attach below:

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: README
URL: <http://www.gecode.org/pipermail/users/attachments/20111024/62ba46d4/attachment.asc>
-------------- next part --------------

The constraints are exactly the same as in Gecode, except that they are
methods of the space rather than take the space as first argument.

Please, let me know if something is still unclear.  Eventually, I will
provide more extensive documentation, but I haven't had time to work on
that yet, sorry :-/

Cheers,

--Denys


From cschulte at kth.se  Tue Oct 25 10:16:00 2011
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 25 Oct 2011 10:16:00 +0200
Subject: [gecode-users] compile-time testing of gecode version
In-Reply-To: <87fwiidwdr.fsf@univ-orleans.fr>
References: <87fwiidwdr.fsf@univ-orleans.fr>
Message-ID: <006901cc92ee$566f2ca0$034d85e0$@se>

Hi Denys,

That's okay, if you send me a patch I'll add it to the trunk.

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Denys Duchier
Sent: Monday, October 24, 2011 9:26 PM
To: users at gecode.org
Subject: [gecode-users] compile-time testing of gecode version

Hi Guys,

unless I missed it, there doesn't seem to be any simple way for a
gecode-using program to have #if/#ifdef sections conditioned on the
version of gecode it is being built against.  That's a pain for
portability.

In gecode-python, I just added the macro GECODE_VERSION_NUMBER
which is constructed in the same way as the boost version number:

For version X.Y.Z, the version number is X*100000+Y*100+Z

Would it be objectionable to add such a macro to gecode itself?

Cheers,

--Denys

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From l.digaspero at uniud.it  Tue Oct 25 12:56:22 2011
From: l.digaspero at uniud.it (Luca Di Gaspero)
Date: Tue, 25 Oct 2011 12:56:22 +0200
Subject: [gecode-users] New gecode version desiderata: channeling between
	set variables
Message-ID: <B789BDAE-BD89-470D-A054-EC8574448FEC@uniud.it>

Hi all,

would it be possible to have channeling constraints between SetVarArrays in the new gecode version. Even though they are just implemented with decomposition they would be extremely useful in modeling (and in teaching). 
The constraints I am thinking about are of the form:

i \in SetA_j \iff j \in SetB_i

which can be of course implemented through a few element() constraints, but it would be great to have a global channel(*this, Set_A, Set_B)!

Thanks in advance,

Luca

From cschulte at kth.se  Tue Oct 25 14:07:18 2011
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 25 Oct 2011 14:07:18 +0200
Subject: [gecode-users] looking for an example of path constraints
In-Reply-To: <FCC2A572-8EC6-41DF-9C86-98A231AD791E@ircam.fr>
References: <FCC2A572-8EC6-41DF-9C86-98A231AD791E@ircam.fr>
Message-ID: <00c501cc930e$a51cb910$ef562b30$@se>

Hi,

Please check the meaning of path again in the documentation: it enforces a
path and not a circuit!

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of serge lemouton
Sent: Saturday, October 22, 2011 5:59 PM
To: users at gecode.org
Subject: [gecode-users] looking for an example of path constraints

Hi all,

I am trying to use the new path constraints with the cost matrix, but
without any success, yet.

In the TSP example script, why simply replacing the  

  	circuit(*this, c, succ, costs, total, opt.icl());
 		 by
 	 path(*this, c, succ, start, end,costs, total, opt.icl());

 does'nt find any solution ?

Thanks for any hint,

Serge Lemouton
_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Tue Oct 25 17:42:01 2011
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 25 Oct 2011 17:42:01 +0200
Subject: [gecode-users] New gecode version desiderata: channeling
	between	set variables
In-Reply-To: <B789BDAE-BD89-470D-A054-EC8574448FEC@uniud.it>
References: <B789BDAE-BD89-470D-A054-EC8574448FEC@uniud.it>
Message-ID: <015c01cc932c$a3e1a560$eba4f020$@kth.se>

Hi,

Sounds like a pretty good idea. I'll leave it to Guido as the master of set
variables (he is away right now).

Christian

--
Christian Schulte, KTH, web.it.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Luca Di Gaspero
Sent: Tuesday, October 25, 2011 12:56 PM
To: users at gecode.org
Subject: [gecode-users] New gecode version desiderata: channeling between
set variables

Hi all,

would it be possible to have channeling constraints between SetVarArrays in
the new gecode version. Even though they are just implemented with
decomposition they would be extremely useful in modeling (and in teaching). 
The constraints I am thinking about are of the form:

i \in SetA_j \iff j \in SetB_i

which can be of course implemented through a few element() constraints, but
it would be great to have a global channel(*this, Set_A, Set_B)!

Thanks in advance,

Luca
_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Tue Oct 25 17:47:46 2011
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 25 Oct 2011 17:47:46 +0200
Subject: [gecode-users] assert in propagator cast
In-Reply-To: <4EA58552020000850001B23A@mail.quintiq.nl>
References: <4EA58552020000850001B23A@mail.quintiq.nl>
Message-ID: <015e01cc932d$71905ec0$54b11c40$@kth.se>

Hi David,

Let me do some guessing here:

1) You are using a propagator that uses advisors.
2) The dispose method of your advisors does not unsubscribe the advisor from
the view.
3) The propagator's dispose method disposes the advisors' council without
deleting the advisors subscriptions

Bang! Is that correct?

If yes, there are two ways to fix it:
a) The dispose method of the advisors also unsubscribes, or
b) In the propagator's dispose method you iterate over all advisors and
unsubscribe (The iterator is called Advisors<A> where A is the type of the
advisor). You might want to search for Advisors in gecode/int/bool/or.hpp
for an example.

I hope that helps!

Best
Christian

PS: Sorry for the delay, I was travelling.

--
Christian Schulte, KTH, web.it.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of David Rijsman
Sent: Monday, October 24, 2011 3:34 PM
To: users at gecode.org
Subject: [gecode-users] assert in propagator cast

I need some help with an assert being thrown by Gecode, hopefully by an
error I made in a propagator I have created. Is there an obvious candidate
for an error I made in my propagator when this assert is thrown?

The assert is thrown in core.hpp

  forceinline Propagator&
  Advisor::propagator(void) const {
    assert(!disposed());
    return *Propagator::cast(ActorLink::prev());
  }

as a result of an invocation of  Advisor::cast(*a)->propagator().afc() in:


  template<class VIC>
  forceinline double
  VarImp<VIC>::afc(void) const {
    if (degree() == 0)
      return 0.0;
    double d = degree();
    // Count the afc of each propagator
    {
      ActorLink** a = const_cast<VarImp<VIC>*>(this)->actor(0);
      ActorLink** e =
const_cast<VarImp<VIC>*>(this)->actorNonZero(pc_max+1);
      while (a < e) {
        d += Propagator::cast(*a)->afc(); a++;
      }
    }
    // Count the afc of each advisor's propagator
    {
      ActorLink** a =
const_cast<VarImp<VIC>*>(this)->actorNonZero(pc_max+1);
      ActorLink** e = const_cast<VarImp<VIC>*>(this)->base+entries;
      while (a < e) {
        d += Advisor::cast(*a)->propagator().afc(); a++;
      }
    }
    return d;
  }

thanks,

David Rijsman


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From serge.lemouton at ircam.fr  Tue Oct 25 23:58:59 2011
From: serge.lemouton at ircam.fr (serge lemouton)
Date: Tue, 25 Oct 2011 23:58:59 +0200
Subject: [gecode-users] looking for an example of path constraints
In-Reply-To: <00c501cc930e$a51cb910$ef562b30$@se>
References: <FCC2A572-8EC6-41DF-9C86-98A231AD791E@ircam.fr>
	<00c501cc930e$a51cb910$ef562b30$@se>
Message-ID: <5D0E51F7-719C-4485-BD06-8933BCFD7FB2@ircam.fr>

Hello, 

I know that, and that is exactly what I was looking for !
But if it exists an hamiltonian circuit with n edges, it should exist at least n path with n-1 edges, right ?
and I don't know how to search those with the Gecode "path" constraint ...
Could you provide an example, please ?

Thanks in advance,

Serge



On 25 oct. 2011, at 14:07, Christian Schulte wrote:

> Hi,
> 
> Please check the meaning of path again in the documentation: it enforces a
> path and not a circuit!
> 
> Christian
> 
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
> 
> 
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of serge lemouton
> Sent: Saturday, October 22, 2011 5:59 PM
> To: users at gecode.org
> Subject: [gecode-users] looking for an example of path constraints
> 
> Hi all,
> 
> I am trying to use the new path constraints with the cost matrix, but
> without any success, yet.
> 
> In the TSP example script, why simply replacing the  
> 
>  	circuit(*this, c, succ, costs, total, opt.icl());
> 		 by
> 	 path(*this, c, succ, start, end,costs, total, opt.icl());
> 
> does'nt find any solution ?
> 
> Thanks for any hint,
> 
> Serge Lemouton
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
> 
> 



From denys.duchier at univ-orleans.fr  Thu Oct 27 15:46:14 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Thu, 27 Oct 2011 15:46:14 +0200
Subject: [gecode-users] [ANN] gecode/python v0.23
Message-ID: <8762jamtsp.fsf@univ-orleans.fr>

I am pleased to announce release 0.23 of gecode-python, the simplified
gecode bindings for python.

WHAT'S NEW:

- support for writing search engines in python:

  + s.status() returns the status of space s
  + s.choice() returns a Choice object
  + s.commit(Choice, int) commits s to an alternative of the Choice
  + if c is a Choice, c.alternatives() is the number of alternatives
  + s.constrain(sol) constrains s to be better than solution sol
    according to the stated optimization criterion

INSTALL:

- from pypi using easy_install (provided by setuptools):

        sudo -E easy_install gecode-python
  or    easy_install gecode-python --prefix ~

  if you are upgrading a previous install:

        sudo -E easy_install -U gecode-python
  or    easy_install -U gecode-python --prefix ~

- from pypi using the tarball:

        tar zxf gecode-python-0.17.tar.gz
        cd gecode-python-0.17
        sudo -E python setup.py install
  or    python setup.py install --prefix ~

- using the launchpad branch:

        bzr branch lp:gecode-python
        cd gecode-python
        sudo -E python setup.py install
  or    python setup.py install --prefix ~

if you are installing using "--prefix ~" I recommend that:
1. you create directory ~/.local if it does not already exist
2. you create a symbolic link:
        ~/.local/lib   -> ~/lib
   or   ~/.local/lib64 -> ~/lib64
   depending on whether you have a ~/lib or a ~/lib64 directory in your
   home after install.
this will allow python to find your locally installed packages without
requiring you to fiddle with environment variable PYTHONPATH.

Cheers,

--Denys


From kisshen at cisco.com  Fri Oct 28 22:22:04 2011
From: kisshen at cisco.com (Kish Shen)
Date: Fri, 28 Oct 2011 21:22:04 +0100
Subject: [gecode-users] channel constraint posting not initially domain
	consistent?
Message-ID: <4EAB0EEC.5020908@cisco.com>

Hi,

I have been testing the constraints implemented in the ECLiPSe Gecode 
interface, and I have run into this puzzling behaviour for the channel() 
constraint (the version that maps BoolVarArgs to an IntVar),
i.e.

Gecode::channel (Home home, const BoolVarArgs &x, IntVar y, int o=0, 
IntConLevel icl=ICL_DEF)
  	Post domain consistent propagator for channeling Boolean and integer 
variables

In one of my tests, I assigned 0 to one of the BoolVarArgs, which is 
done by something like:

x[i] = BoolVar(home, 0, 0);

so I expected the value represented by i+o to be excluded from the 
domain of y, but it does not seem to be. Concretely, here is what
I used at the ECLiPSe level:

bool_channeling(V, [B1,B2,B3,0,B5], 0).

where V is the IntVar, and the Bs are the BoolVarArgs, and o is set to 
0. When this is posted, I get the domain 0..4 for V, i.e. 3 was not 
excluded from the domain (home.status() has been called -- propagation 
happens by default after the posting of every constraint,  also 
propagation must have occurred because V is given the domain 0..4, which 
came from the channel constraint, as V was initially given a default 
domain that is much larger)

however, if I set the boolean to 0 after posting the constraint first, 
then I do get 3 being excluded:

bool_channeling(V, [B1,B2,B3,B4,B5], 0), B4 = 0.

In this case V has the domain [0..2, 4]

and furthermore,

bool_channeling(V, [B1,B2,B3,0,B5], 0), B2 = 0.

I get [0,2,4] for the domain of V, which shows that 0 was correctly 
assigned to B4 (x[3] where x is the BoolVarArgs), and that somehow the 
initial posting of the constraint does not achieve domain consistency, 
but subsequent posting seem to.

I am using Gecode 3.7.1.
-- 
This e-mail may contain confidential and privileged material for the
sole use of the intended recipient. Any review, use, distribution or
disclosure by others is strictly prohibited. If you are not the intended
recipient (or authorized to receive for the recipient), please contact
the sender by reply e-mail and delete all copies of this message.
Cisco Systems Limited (Company Number: 02558939), is registered in
England and Wales with its registered office at 1 Callaghan Square,
Cardiff, South Glamorgan CF10 5BT.


From denys.duchier at univ-orleans.fr  Sat Oct 29 13:05:37 2011
From: denys.duchier at univ-orleans.fr (Denys Duchier)
Date: Sat, 29 Oct 2011 13:05:37 +0200
Subject: [gecode-users] New gecode version desiderata: channeling
	between	set variables
In-Reply-To: <015c01cc932c$a3e1a560$eba4f020$@kth.se> (Christian Schulte's
	message of "Tue, 25 Oct 2011 17:42:01 +0200")
References: <B789BDAE-BD89-470D-A054-EC8574448FEC@uniud.it>
	<015c01cc932c$a3e1a560$eba4f020$@kth.se>
Message-ID: <87bot0qcqm.fsf@univ-orleans.fr>

"Christian Schulte" <cschulte at kth.se> writes:

> Sounds like a pretty good idea. I'll leave it to Guido as the master of set
> variables (he is away right now).
> [...]
>> From: Luca Di Gaspero <l.digaspero at uniud.it>
>> [...]
>> would it be possible to have channeling constraints between SetVarArrays in
>> the new gecode version. Even though they are just implemented with
>> decomposition they would be extremely useful in modeling (and in teaching). 
>> The constraints I am thinking about are of the form:
>>
>> i \in SetA_j \iff j \in SetB_i

Here you go:

-------------- next part --------------
A non-text attachment was scrubbed...
Name: channelset.patch
Type: text/x-patch
Size: 8432 bytes
Desc: channeling between setvarargs
URL: <http://www.gecode.org/pipermail/users/attachments/20111029/8ce796f1/attachment.bin>
-------------- next part --------------

Cheers,

--Denys

PS: Guido, you might want to shuffle the code to different files. I just
wasn't sure where to put it.

From cschulte at kth.se  Mon Oct 31 13:03:31 2011
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 31 Oct 2011 13:03:31 +0100
Subject: [gecode-users] channel constraint posting not initially
	domain	consistent?
In-Reply-To: <4EAB0EEC.5020908@cisco.com>
References: <4EAB0EEC.5020908@cisco.com>
Message-ID: <001d01cc97c5$1c435cf0$54ca16d0$@se>

Hi,

Yes there was a bug in posting the propagator for channel. It is fixed in
the trunk.

It's really small and also appended as a patch.

Thanks!
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Friday, October 28, 2011 10:22 PM
To: users at gecode.org
Subject: [gecode-users] channel constraint posting not initially domain
consistent?

Hi,

I have been testing the constraints implemented in the ECLiPSe Gecode
interface, and I have run into this puzzling behaviour for the channel()
constraint (the version that maps BoolVarArgs to an IntVar), i.e.

Gecode::channel (Home home, const BoolVarArgs &x, IntVar y, int o=0,
IntConLevel icl=ICL_DEF)
  	Post domain consistent propagator for channeling Boolean and integer
variables

In one of my tests, I assigned 0 to one of the BoolVarArgs, which is done by
something like:

x[i] = BoolVar(home, 0, 0);

so I expected the value represented by i+o to be excluded from the domain of
y, but it does not seem to be. Concretely, here is what I used at the
ECLiPSe level:

bool_channeling(V, [B1,B2,B3,0,B5], 0).

where V is the IntVar, and the Bs are the BoolVarArgs, and o is set to 0.
When this is posted, I get the domain 0..4 for V, i.e. 3 was not excluded
from the domain (home.status() has been called -- propagation happens by
default after the posting of every constraint,  also propagation must have
occurred because V is given the domain 0..4, which came from the channel
constraint, as V was initially given a default domain that is much larger)

however, if I set the boolean to 0 after posting the constraint first, then
I do get 3 being excluded:

bool_channeling(V, [B1,B2,B3,B4,B5], 0), B4 = 0.

In this case V has the domain [0..2, 4]

and furthermore,

bool_channeling(V, [B1,B2,B3,0,B5], 0), B2 = 0.

I get [0,2,4] for the domain of V, which shows that 0 was correctly assigned
to B4 (x[3] where x is the BoolVarArgs), and that somehow the initial
posting of the constraint does not achieve domain consistency, but
subsequent posting seem to.

I am using Gecode 3.7.1.
--
This e-mail may contain confidential and privileged material for the sole
use of the intended recipient. Any review, use, distribution or disclosure
by others is strictly prohibited. If you are not the intended recipient (or
authorized to receive for the recipient), please contact the sender by reply
e-mail and delete all copies of this message.
Cisco Systems Limited (Company Number: 02558939), is registered in England
and Wales with its registered office at 1 Callaghan Square, Cardiff, South
Glamorgan CF10 5BT.

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users
-------------- next part --------------
A non-text attachment was scrubbed...
Name: channel.patch
Type: application/octet-stream
Size: 496 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20111031/97eaa89b/attachment.obj>

