From naguissa1989 at gmail.com  Tue Dec  3 02:52:41 2013
From: naguissa1989 at gmail.com (naguissa light)
Date: Tue, 3 Dec 2013 02:52:41 +0100
Subject: [gecode-users] stop the DFS search after finding the first solution
Message-ID: <CA+wh-JsQWMCh4bQc9PhOruywoqox7-91f5ASe=fRHX_qkzDR9A@mail.gmail.com>

hi all !

i want to know if there is a possibility to stop the DFS search after just
finding the first solution, i want to do that because i just want one
solution and i think that the DFS searchs in the whole tree after that it
prints one solution that's why when i run my model i takes too much time to
print the solution

So is that possible to do??


Thank you

Naguissa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/f65bede1/attachment.html>

From naguissa1989 at gmail.com  Tue Dec  3 03:33:28 2013
From: naguissa1989 at gmail.com (naguissa light)
Date: Tue, 3 Dec 2013 03:33:28 +0100
Subject: [gecode-users] using MaximizeScript to find the optimal solution
Message-ID: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>

hi all!

i want in my model to find the optimal solution so when i read the MPG i
find that i have to use MaximizeScript ( to maximize the objective
function) so what i want to know is : is it possible to find more then one
optimal solution when using MaximizeScript ????????


Thank you for your help


Naguissa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/1d438fd0/attachment.html>

From naguissa1989 at gmail.com  Tue Dec  3 03:40:44 2013
From: naguissa1989 at gmail.com (naguissa light)
Date: Tue, 3 Dec 2013 03:40:44 +0100
Subject: [gecode-users] using MaximizeScript to find the optimal solution
In-Reply-To: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>
References: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>
Message-ID: <CA+wh-Jsr95dPzH++qM4hW1ZmLiNUksCEjptq9cpBX9R30rhr=Q@mail.gmail.com>

I was wondring about that because when i try to get just one feasable
solution for my model i used Space ( the numbre of feasable solutions are
48) so when i try to get the optimal solution for my model i used
MaximizeScript and i get 1140 solutions !!!!!!!!!!!! is that normal ????,,

Did i miss any thing here???

Thank You for your help

Naguissa


2013/12/3 naguissa light <naguissa1989 at gmail.com>

>
> hi all!
>
> i want in my model to find the optimal solution so when i read the MPG i
> find that i have to use MaximizeScript ( to maximize the objective
> function) so what i want to know is : is it possible to find more then one
> optimal solution when using MaximizeScript ????????
>
>
> Thank you for your help
>
>
> Naguissa
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/0aeca293/attachment.html>

From tack at gecode.org  Tue Dec  3 05:40:12 2013
From: tack at gecode.org (Guido Tack)
Date: Tue, 3 Dec 2013 15:40:12 +1100
Subject: [gecode-users] stop the DFS search after finding the first
	solution
In-Reply-To: <CA+wh-JsQWMCh4bQc9PhOruywoqox7-91f5ASe=fRHX_qkzDR9A@mail.gmail.com>
References: <CA+wh-JsQWMCh4bQc9PhOruywoqox7-91f5ASe=fRHX_qkzDR9A@mail.gmail.com>
Message-ID: <C0268536-3F8E-415F-A1B4-5AE52765F9C8@gecode.org>

Hi,

DFS does not search the whole tree before printing the first solution.  Please read the reference documentation on the DFS class or the dfs function (depending on which one you use), the description should be quite clear.

Cheers,
Guido

-- 
Guido Tack
http://www.csse.monash.edu/~guidot/



On 3 Dec 2013, at 12:52 pm, naguissa light <naguissa1989 at gmail.com> wrote:

> hi all !
> 
> i want to know if there is a possibility to stop the DFS search after just finding the first solution, i want to do that because i just want one solution and i think that the DFS searchs in the whole tree after that it prints one solution that's why when i run my model i takes too much time to print the solution 
> 
> So is that possible to do??
> 
> 
> Thank you 
> 
> Naguissa
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/a2949588/attachment.html>

From tack at gecode.org  Tue Dec  3 05:43:41 2013
From: tack at gecode.org (Guido Tack)
Date: Tue, 3 Dec 2013 15:43:41 +1100
Subject: [gecode-users] using MaximizeScript to find the optimal solution
In-Reply-To: <CA+wh-Jsr95dPzH++qM4hW1ZmLiNUksCEjptq9cpBX9R30rhr=Q@mail.gmail.com>
References: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>
	<CA+wh-Jsr95dPzH++qM4hW1ZmLiNUksCEjptq9cpBX9R30rhr=Q@mail.gmail.com>
Message-ID: <F8B63FA8-E0B0-4036-A21A-5AB36585DDD0@gecode.org>

Hi,

I don't think I understand your question.  Whether you inherit from Space or from MaximizeScript shouldn't make any difference to the number of solutions when using DFS.
In order to enumerate all optimal solutions, you first have to run a BAB to get the value of the objective, and then run another search for all solutions using DFS, where you post an additional constraint to set the objective to that optimal value.

Cheers,
Guido

-- 
Guido Tack
http://www.csse.monash.edu/~guidot/



On 3 Dec 2013, at 1:40 pm, naguissa light <naguissa1989 at gmail.com> wrote:

> I was wondring about that because when i try to get just one feasable solution for my model i used Space ( the numbre of feasable solutions are 48) so when i try to get the optimal solution for my model i used MaximizeScript and i get 1140 solutions !!!!!!!!!!!! is that normal ????,,
> 
> Did i miss any thing here???
> 
> Thank You for your help
> 
> Naguissa
> 
> 
> 2013/12/3 naguissa light <naguissa1989 at gmail.com>
> 
> hi all!
> 
> i want in my model to find the optimal solution so when i read the MPG i find that i have to use MaximizeScript ( to maximize the objective function) so what i want to know is : is it possible to find more then one optimal solution when using MaximizeScript ????????
> 
> 
> Thank you for your help 
> 
> 
> Naguissa
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/0742c79c/attachment.html>

From ktorpi at gmail.com  Tue Dec  3 14:20:09 2013
From: ktorpi at gmail.com (kTorpi)
Date: Tue, 3 Dec 2013 14:20:09 +0100
Subject: [gecode-users] Segmentation fault while creating an expression
Message-ID: <CAL1Z-6x24gipDV3tVre-edbBOpPXSNTrBg6UNVgQ=VRA_joAHQ@mail.gmail.com>

Dear all,

I'm building a model in which I create lot of Vars, and also complex
expressions (that actually Vars too) using the minimodel module.
Unfortunately after a while I get a segmentation fault from Gecode.

The line that causes the fault is
   Gecode::expr(solver, left + right)
where solver is my Space, and left and right are IntVars (IntVar
references), which can be also a result of a similar line above, or just
simple "leaf" IntVars.

And the line from which the segafult comes is support/heap.hpp:554, in
which the d pointer seems to be NULL or a wrong address (
http://kepfeltoltes.hu/131203/fault_www.kepfeltoltes.hu_.png).

Please, could you tell me something about this errors? What could cause it?
Am I using Gecode in a wrong way?
I use Gecode version 4.2.1 (same thing happens with 4.1.0), g++ 4.7.2, 64
bit linux.

Thank you for your help!

Steve
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/6d319669/attachment.html>

From naguissa1989 at gmail.com  Tue Dec  3 15:33:53 2013
From: naguissa1989 at gmail.com (naguissa light)
Date: Tue, 3 Dec 2013 15:33:53 +0100
Subject: [gecode-users] using MaximizeScript to find the optimal solution
In-Reply-To: <F8B63FA8-E0B0-4036-A21A-5AB36585DDD0@gecode.org>
References: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>
	<CA+wh-Jsr95dPzH++qM4hW1ZmLiNUksCEjptq9cpBX9R30rhr=Q@mail.gmail.com>
	<F8B63FA8-E0B0-4036-A21A-5AB36585DDD0@gecode.org>
Message-ID: <CA+wh-JvJwn7tA_9fE-vmGJym1LtHhY36ZXAwi1ezSdEzjRYWvg@mail.gmail.com>

Thank you very much for your answer.

So to find all the feasable solution of a model i just use DFS
when i want to find the optimal solution of the objectiv function of the
model i use BAB

my question here : is it normal to find more then one optimal solution to
the objective function of my model?????

Thank you very much

Naguissa


2013/12/3 Guido Tack <tack at gecode.org>

> Hi,
>
> I don't think I understand your question.  Whether you inherit from Space
> or from MaximizeScript shouldn't make any difference to the number of
> solutions when using DFS.
> In order to enumerate all optimal solutions, you first have to run a BAB
> to get the value of the objective, and then run another search for all
> solutions using DFS, where you post an additional constraint to set the
> objective to that optimal value.
>
> Cheers,
> Guido
>
> --
> Guido Tack
> http://www.csse.monash.edu/~guidot/
>
>
>
> On 3 Dec 2013, at 1:40 pm, naguissa light <naguissa1989 at gmail.com> wrote:
>
> I was wondring about that because when i try to get just one feasable
> solution for my model i used Space ( the numbre of feasable solutions are
> 48) so when i try to get the optimal solution for my model i used
> MaximizeScript and i get 1140 solutions !!!!!!!!!!!! is that normal ????,,
>
> Did i miss any thing here???
>
> Thank You for your help
>
> Naguissa
>
>
> 2013/12/3 naguissa light <naguissa1989 at gmail.com>
>
>>
>> hi all!
>>
>> i want in my model to find the optimal solution so when i read the MPG i
>> find that i have to use MaximizeScript ( to maximize the objective
>> function) so what i want to know is : is it possible to find more then one
>> optimal solution when using MaximizeScript ????????
>>
>>
>> Thank you for your help
>>
>>
>> Naguissa
>>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/935e33f4/attachment.html>

From cschulte at kth.se  Tue Dec  3 16:01:37 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 3 Dec 2013 16:01:37 +0100
Subject: [gecode-users] using MaximizeScript to find the optimal solution
In-Reply-To: <CA+wh-JvJwn7tA_9fE-vmGJym1LtHhY36ZXAwi1ezSdEzjRYWvg@mail.gmail.com>
References: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>	<CA+wh-Jsr95dPzH++qM4hW1ZmLiNUksCEjptq9cpBX9R30rhr=Q@mail.gmail.com>	<F8B63FA8-E0B0-4036-A21A-5AB36585DDD0@gecode.org>
	<CA+wh-JvJwn7tA_9fE-vmGJym1LtHhY36ZXAwi1ezSdEzjRYWvg@mail.gmail.com>
Message-ID: <002401cef038$9244a490$b6cdedb0$@se>

You really need to read MPG: BAB also returns several solutions (if you use
it that way). The one found last is best.

 

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of naguissa light
Sent: Tuesday, December 03, 2013 3:34 PM
To: Guido Tack
Cc: users at gecode.org list
Subject: Re: [gecode-users] using MaximizeScript to find the optimal
solution

 

Thank you very much for your answer.

So to find all the feasable solution of a model i just use DFS 

when i want to find the optimal solution of the objectiv function of the
model i use BAB 

my question here : is it normal to find more then one optimal solution to
the objective function of my model?????

Thank you very much 

Naguissa

 

2013/12/3 Guido Tack <tack at gecode.org>

Hi,

 

I don't think I understand your question.  Whether you inherit from Space or
from MaximizeScript shouldn't make any difference to the number of solutions
when using DFS.

In order to enumerate all optimal solutions, you first have to run a BAB to
get the value of the objective, and then run another search for all
solutions using DFS, where you post an additional constraint to set the
objective to that optimal value.

 

Cheers,

Guido

 

-- 

Guido Tack

http://www.csse.monash.edu/~guidot/

 

 

 

On 3 Dec 2013, at 1:40 pm, naguissa light <naguissa1989 at gmail.com> wrote:

 

I was wondring about that because when i try to get just one feasable
solution for my model i used Space ( the numbre of feasable solutions are
48) so when i try to get the optimal solution for my model i used
MaximizeScript and i get 1140 solutions !!!!!!!!!!!! is that normal ????,,

Did i miss any thing here???

Thank You for your help

Naguissa

 

2013/12/3 naguissa light <naguissa1989 at gmail.com>

 

hi all!

i want in my model to find the optimal solution so when i read the MPG i
find that i have to use MaximizeScript ( to maximize the objective function)
so what i want to know is : is it possible to find more then one optimal
solution when using MaximizeScript ????????



Thank you for your help 


Naguissa

 

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/64a7f7f5/attachment.html>

From cschulte at kth.se  Tue Dec  3 16:02:48 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 3 Dec 2013 16:02:48 +0100
Subject: [gecode-users] Segmentation fault while creating an expression
In-Reply-To: <CAL1Z-6x24gipDV3tVre-edbBOpPXSNTrBg6UNVgQ=VRA_joAHQ@mail.gmail.com>
References: <CAL1Z-6x24gipDV3tVre-edbBOpPXSNTrBg6UNVgQ=VRA_joAHQ@mail.gmail.com>
Message-ID: <003201cef038$bb05aff0$31110fd0$@se>

Sorry, but that is not enough information for us to even give an idea.

 

It could be a bug in Gecode but also a bug in how you use expressions,
whether you have initialized all variables, etc.

 

Can you provide more detail?

 

Best

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of kTorpi
Sent: Tuesday, December 03, 2013 2:20 PM
To: users at gecode.org
Subject: [gecode-users] Segmentation fault while creating an expression

 

Image removed by sender.Dear all,

I'm building a model in which I create lot of Vars, and also complex
expressions (that actually Vars too) using the minimodel module.
Unfortunately after a while I get a segmentation fault from Gecode.

The line that causes the fault is
   Gecode::expr(solver, left + right)

where solver is my Space, and left and right are IntVars (IntVar
references), which can be also a result of a similar line above, or just
simple "leaf" IntVars.

And the line from which the segafult comes is support/heap.hpp:554, in which
the d pointer seems to be NULL or a wrong address
(http://kepfeltoltes.hu/131203/fault_www.kepfeltoltes.hu_.png).

Please, could you tell me something about this errors? What could cause it?
Am I using Gecode in a wrong way?

I use Gecode version 4.2.1 (same thing happens with 4.1.0), g++ 4.7.2, 64
bit linux.

Thank you for your help!

Steve

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/f6c598d5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ~WRD000.jpg
Type: image/jpeg
Size: 823 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/f6c598d5/attachment-0001.jpg>

From naguissa1989 at gmail.com  Tue Dec  3 16:22:01 2013
From: naguissa1989 at gmail.com (naguissa light)
Date: Tue, 3 Dec 2013 16:22:01 +0100
Subject: [gecode-users] using MaximizeScript to find the optimal solution
In-Reply-To: <002401cef038$9244a490$b6cdedb0$@se>
References: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>
	<CA+wh-Jsr95dPzH++qM4hW1ZmLiNUksCEjptq9cpBX9R30rhr=Q@mail.gmail.com>
	<F8B63FA8-E0B0-4036-A21A-5AB36585DDD0@gecode.org>
	<CA+wh-JvJwn7tA_9fE-vmGJym1LtHhY36ZXAwi1ezSdEzjRYWvg@mail.gmail.com>
	<002401cef038$9244a490$b6cdedb0$@se>
Message-ID: <CA+wh-Jvzkveo95t_dvDLWAW7W4-wrarGPcznj=c=v3=aqMgO=Q@mail.gmail.com>

Thank You very much for your help

Is there any option to just get directly to the best one without geting all
of the solutions ?????

Naguissa


2013/12/3 Christian Schulte <cschulte at kth.se>

> You really need to read MPG: BAB also returns several solutions (if you
> use it that way). The one found last is best.
>
>
>
> Christian
>
>
>
> --
>
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/
>
>
>
> *From:* users-bounces at gecode.org [mailto:users-bounces at gecode.org] *On
> Behalf Of *naguissa light
> *Sent:* Tuesday, December 03, 2013 3:34 PM
> *To:* Guido Tack
> *Cc:* users at gecode.org list
> *Subject:* Re: [gecode-users] using MaximizeScript to find the optimal
> solution
>
>
>
> Thank you very much for your answer.
>
> So to find all the feasable solution of a model i just use DFS
>
> when i want to find the optimal solution of the objectiv function of the
> model i use BAB
>
> my question here : is it normal to find more then one optimal solution to
> the objective function of my model?????
>
> Thank you very much
>
> Naguissa
>
>
>
> 2013/12/3 Guido Tack <tack at gecode.org>
>
> Hi,
>
>
>
> I don't think I understand your question.  Whether you inherit from Space
> or from MaximizeScript shouldn't make any difference to the number of
> solutions when using DFS.
>
> In order to enumerate all optimal solutions, you first have to run a BAB
> to get the value of the objective, and then run another search for all
> solutions using DFS, where you post an additional constraint to set the
> objective to that optimal value.
>
>
>
> Cheers,
>
> Guido
>
>
>
> --
>
> Guido Tack
>
> http://www.csse.monash.edu/~guidot/
>
>
>
>
>
>
>
> On 3 Dec 2013, at 1:40 pm, naguissa light <naguissa1989 at gmail.com> wrote:
>
>
>
> I was wondring about that because when i try to get just one feasable
> solution for my model i used Space ( the numbre of feasable solutions are
> 48) so when i try to get the optimal solution for my model i used
> MaximizeScript and i get 1140 solutions !!!!!!!!!!!! is that normal ????,,
>
> Did i miss any thing here???
>
> Thank You for your help
>
> Naguissa
>
>
>
> 2013/12/3 naguissa light <naguissa1989 at gmail.com>
>
>
>
> hi all!
>
> i want in my model to find the optimal solution so when i read the MPG i
> find that i have to use MaximizeScript ( to maximize the objective
> function) so what i want to know is : is it possible to find more then one
> optimal solution when using MaximizeScript ????????
>
> Thank you for your help
>
>
> Naguissa
>
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/4547d8ab/attachment.html>

From lanalight1989 at gmail.com  Tue Dec  3 17:48:20 2013
From: lanalight1989 at gmail.com (lana light)
Date: Tue, 3 Dec 2013 17:48:20 +0100
Subject: [gecode-users] how to use the bab() function
Message-ID: <CAAeiQEz_ijJjEous7866ib0JEzj6um+oEORDuVTwXSoP7YNeKg@mail.gmail.com>

Hi

I'm new with gecode , so i tried to use the BAB engine to solve my model
because i want just to gt the bst solution so i found in the MPG the
function bab() that can help me do it my problem here that i don't know
when to put it :

this is my main :

*int main(int argc, char* argv[]) {*
*  manel* m = new manel;*
*  BAB<manel> e(m);*
*  delete m;*
*  while (manel* s = e.next()) {*
*    s->print(); delete s;*
*  }*

*  system("pause");*
*  return 0;*
*}*

so here i try to get all the solution but i want just the best so could you
tell me where to put *bab()* exactly , it seems stupid but i don't konw

Thankx

LANA
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/999f7fae/attachment.html>

From cschulte at kth.se  Tue Dec  3 20:49:14 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 3 Dec 2013 20:49:14 +0100
Subject: [gecode-users] how to use the bab() function
In-Reply-To: <CAAeiQEz_ijJjEous7866ib0JEzj6um+oEORDuVTwXSoP7YNeKg@mail.gmail.com>
References: <CAAeiQEz_ijJjEous7866ib0JEzj6um+oEORDuVTwXSoP7YNeKg@mail.gmail.com>
Message-ID: <002b01cef060$c0060630$40121290$@kth.se>

bab() is a function that returns either NULL (there is no solution) or
something different from NULL (the best solution).

 

So just write:

  Manel* m = new Manel(.),

  If (Manel* s = bab(m)) {

     s->print(); delete s; //Or whatever

}

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of lana light
Sent: Tuesday, December 3, 2013 05:48 PM
To: users at gecode.org
Subject: [gecode-users] how to use the bab() function

 

Hi

 

I'm new with gecode , so i tried to use the BAB engine to solve my model
because i want just to gt the bst solution so i found in the MPG the
function bab() that can help me do it my problem here that i don't know when
to put it :

 

this is my main :

 

int main(int argc, char* argv[]) {

             manel* m = new manel;

  BAB<manel> e(m);

  delete m;

  while (manel* s = e.next()) {

    s->print(); delete s;

  }

 

  system("pause");

  return 0;

}

 

so here i try to get all the solution but i want just the best so could you
tell me where to put bab() exactly , it seems stupid but i don't konw 

 

Thankx 

 

LANA 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131203/9d20e7dd/attachment.html>

From lanalight1989 at gmail.com  Wed Dec  4 03:08:25 2013
From: lanalight1989 at gmail.com (lana light)
Date: Wed, 4 Dec 2013 03:08:25 +0100
Subject: [gecode-users] Access Violation when reading of the location
Message-ID: <CAAeiQEzrYPzXexOAkDjam7u6jGqzY_Or2m8CNH7PB6zfZp73nQ@mail.gmail.com>

hi all!

So sorry to bother you , but  this is my first model with gecode , when i
run it it gave m this errer: "*Access Violation when reading of the
location0x0000001c*"

and the compiler redirect me to this function in int.hpp
*IntVarImp::RangeList::min(void) const {*
*    return _min;*
*  }*
  here is my code :

#*include <gecode/driver.hh>*
*#include <gecode/int.hh>*
*#include <gecode/minimodel.hh>*
*#include <iostream>*


*#include <vector>*
*using namespace Gecode;*
*using namespace std;*
*class manel : public MaximizeScript {*
*protected:*

*  IntVar gain1;*

*  static const int n=6;//nbre des testeurs *
*  static const int m=6;//  nbre des noeuds*
* IntVarArray a;*

*public:*
*  manel(void)*
*  : a(*this,m*n,0,1),gain1(*this,0,100000) {*

* Matrix <IntVarArray> X (a,m,n);*

 * vector<int> R1;*
*
R1.push_back(20);R1.push_back(10);R1.push_back(15);R1.push_back(5);R1.push_back(25);R1.push_back(30);*
*    vector<int> C1;*
*
 C1.push_back(50);C1.push_back(30);C1.push_back(15);C1.push_back(15);C1.push_back(60);C1.push_back(20);*
*        vector<int> B1;*
*
 B1.push_back(10);B1.push_back(15);B1.push_back(40);B1.push_back(50);B1.push_back(60);B1.push_back(70);*

* vector<int> Dr1;*
*
 Dr1.push_back(1);Dr1.push_back(1);Dr1.push_back(10);Dr1.push_back(5);Dr1.push_back(15);Dr1.push_back(15);*
* vector<int> Dc1;*
*
 Dc1.push_back(1);Dc1.push_back(2);Dc1.push_back(20);Dc1.push_back(15);Dc1.push_back(15);Dc1.push_back(15);*
* vector<int> Db1;*
*
 Db1.push_back(1);Db1.push_back(2);Db1.push_back(10);Db1.push_back(10);Db1.push_back(20);Db1.push_back(20);*
* /*int g [n][m] ;*
* //for(unsigned int i=0; i < n; ++i)*
*            // g.emplace_back(std::vector<int>(m));*
* g[0][0]=125;g[0][1]=150;g[0][2]=1;g[0][3]=0;g[0][4]=0;g[0][5]=0;*
* g[1][0]=125;g[1][1]=150;g[1][2]=1;g[1][3]=0;g[1][4]=0;g[1][5]=0;*
* g[2][0]=125;g[2][1]=150;g[2][2]=1;g[2][3]=0;g[2][4]=0;g[2][5]=0;*
* g[3][0]=125;g[3][1]=150;g[3][2]=1;g[3][3]=0;g[3][4]=0;g[3][5]=0;*
* g[4][0]=125;g[4][1]=150;g[4][2]=1;g[4][3]=0;g[4][4]=0;g[4][5]=0;*
* g[5][0]=125;g[5][1]=150;g[5][2]=1;g[5][3]=0;g[5][4]=0;g[5][5]=0;*
* /*for(int i=0; i<n; i++)*
* {*
* for (int j =0; j<m;j++)*
* g[i][j]=50;*
* }*/*
* //creation of constraints *
* // ... over rows*
* for ( int j=0; j<n;j++)*
* {*

* linear(*this , X.row(j),IRT_EQ,1);*
* }*

* //... over columns*
*         for (int i = 0; i < m; i++) {*

* linear(*this, Dr1,X.col(i),IRT_LQ,R1[i]);*
*                                     }*

*        for (int i = 0; i < m; i++) {*
*           linear (*this, Dc1, X.col(i), IRT_LQ,C1[i]);*

*                                 }*
*         for (int i = 0; i <m; i++) {*
*         linear (*this, Db1, X.col(i), IRT_LQ,B1[i]);*
*                           }*

 * //objectiv function*
* /* IntArgs res(m*n);*
* IntVarArgs X1(m*n);*
* IntVarArgs f(n*m);*
* IntVar z;*
* int count=0;*
*  int count1=0;*
*  int count2=0;*
*  int count3=0;*

*                 //for (int i=0; i<n; i++)*
*             //{*

*                         //for (int j=0; j<m; j++) *

*          // {*

* /* res[0] = g[0][0];*
* X1[0] = X(0,0);*
*  z =expr(*this,res[0]*X1[0]);*
* f[0]=z;*

*  res[1] = g[0][1];*
* X1[1] = X(0,1);*
*  z =expr(*this,res[1]*X1[1]);*
* f[1]=z;*

*  res[2] = g[0][2];*
* X1[2] = X(0,2);*
*  z =expr(*this,res[2]*X1[2]);*
* f[2]=z;*

*  res[3] = g[0][3];*
* X1[3] = X(0,3);*
*  z =expr(*this,res[3]*X1[3]);*
* f[3]=z;*

*                             res[4] = g[0][4];*
* X1[4] = X(0,4);*
*  z =expr(*this,res[4]*X1[4]);*
* f[4]=z;*

*  res[5] = g[0][5];*
* X1[5] = X(0,5);*
*  z =expr(*this,res[5]*X1[5]);*
* f[5]=z;*
*  //////////////////////////////////////////////////////*
*  res[6] = g[1][0];*
* X1[6] = X(1,0);*
*  z =expr(*this,res[6]*X1[6]);*
* f[6]=z;*

*  res[7] = g[1][1];*
* X1[7] = X(1,1);*
*  z =expr(*this,res[7]*X1[7]);*
* f[7]=z;*

* res[8] = g[1][2];*
* X1[8] = X(1,2);*
*  z =expr(*this,res[8]*X1[8]);*
* f[8]=z;*

*  res[9] = g[1][3];*
* X1[9] = X(1,3);*
*  z =expr(*this,res[9]*X1[9]);*
* f[9]=z;*

*  res[10] = g[1][4];*
* X1[10] = X(1,4);*
*  z =expr(*this,res[10]*X1[10]);*
* f[10]=z;*

*  res[11] = g[1][5];*
* X1[11] = X(1,5);*
*  z =expr(*this,res[11]*X1[11]);*
* f[11]=z;*
* ///////////////////////////////////////////////////////////////////////*
* res[12] = g[2][0];*
* X1[12] = X(2,0);*
*  z =expr(*this,res[12]*X1[12]);*
* f[12]=z;*

*  res[13] = g[2][1];*
* X1[13] = X(2,1);*
*  z =expr(*this,res[13]*X1[13]);*
* f[13]=z;*

*  res[14] = g[2][2];*
* X1[14] = X(2,2);*
*  z =expr(*this,res[14]*X1[14]);*
* f[14]=z;*

*  res[15] = g[2][3];*
* X1[15] = X(2,3);*
*  z =expr(*this,res[15]*X1[15]);*
* f[15]=z;*

* res[16] = g[2][4];*
* X1[16] = X(2,4);*
*  z =expr(*this,res[16]*X1[16]);*
* f[16]=z;*

*  res[17] = g[2][5];*
* X1[17] = X(2,5);*
*  z =expr(*this,res[17]*X1[17]);*
* f[17]=z;*
*  /////////////////////////////////////////////////////////////*
*  res[18] = g[3][0];*
* X1[18] = X(3,0);*
*  z =expr(*this,res[18]*X1[18]);*
* f[18]=z;*

*  res[19] = g[3][1];*
* X1[19] = X(3,1);*
*  z =expr(*this,res[19]*X1[19]);*
* f[19]=z;*

* res[20] = g[3][2];*
* X1[20] = X(3,2);*
*  z =expr(*this,res[20]*X1[20]);*
* f[20]=z;*

*  res[21] = g[3][3];*
* X1[21] = X(3,3);*
*  z =expr(*this,res[21]*X1[21]);*
* f[21]=z;*

*  res[22] = g[3][4];*
* X1[22] = X(3,4);*
*  z =expr(*this,res[22]*X1[22]);*
* f[22]=z;*

*  res[23] = g[3][5];*
* X1[23] = X(3,5);*
*  z =expr(*this,res[23]*X1[23]);*
* f[23]=z;*
* //////////////////////////////////////////////////////////////////////*
* res[24] = g[4][0];*
* X1[24] = X(4,0);*
*  z =expr(*this,res[24]*X1[24]);*
* f[24]=z;*

*  res[25] = g[4][1];*
* X1[25] = X(4,1);*
*  z =expr(*this,res[25]*X1[25]);*
* f[25]=z;*

*  res[26] = g[4][2];*
* X1[26] = X(4,2);*
*  z =expr(*this,res[26]*X1[26]);*
* f[26]=z;*

*  res[27] = g[4][3];*
* X1[27] = X(4,3);*
*  z =expr(*this,res[27]*X1[27]);*
* f[27]=z;*

* res[28] = g[4][4];*
* X1[28] = X(4,4);*
*  z =expr(*this,res[28]*X1[28]);*
* f[28]=z;*

*  res[29] = g[4][5];*
* X1[29] = X(4,5);*
*  z =expr(*this,res[29]*X1[29]);*
* f[29]=z;*
*  ///////////////////////////////////////////////////*
*  res[30] = g[5][0];*
* X1[30] = X(5,0);*
*  z =expr(*this,res[30]*X1[30]);*
* f[30]=z;*

*  res[31] = g[5][1];*
* X1[31] = X(5,1);*
*  z =expr(*this,res[31]*X1[31]);*
* f[31]=z;*

*  res[32] = g[5][2];*
* X1[32] = X(5,2);*
*  z =expr(*this,res[32]*X1[32]);*
* f[32]=z;*

*  res[33] = g[5][3];*
* X1[33] = X(5,3);*
*  z =expr(*this,res[33]*X1[33]);*
* f[33]=z;*

*  res[34] = g[5][4];*
* X1[34] = X(5,4);*
*  z =expr(*this,res[34]*X1[34]);*
* f[34]=z;*

*  res[35] = g[5][5];*
* X1[35] = X(5,5);*
*  z =expr(*this,res[35]*X1[35]);*
* f[35]=z;*

*              // }*
* // res1=res*X1;*

*             //}*

* // constraint over the objective function  *


* //  linear(*this, f, IRT_EQ, gain);*/*
*  //Branching*
*        branch(*this, a, INT_VAR_SIZE_MAX(), INT_VAL_MAX());*

*  }*

*  virtual IntVar cost(void) const {*
*    return gain1;*
*  }*
*  /// Print solution*
*  virtual void print(void) const {*
*   std::cout << a << std::endl;*

*  }*
*  // Constructor for cloning \a s*
*  manel(bool share, manel& s)*
*    : MaximizeScript(share,s) {*
*   // gain.update(*this, share, s.gain);*
* a.update(*this, share, s.a);*
*  }*
*  // Copy during cloning*
*  virtual Space* copy(bool share) {*
*    return new manel(share,*this);*
*  }*


*};*

*int main(int argc, char* argv[]) {*
*  manel* m = new manel;*
*   if (manel* s = bab(m)) {*
*     s->print(); delete s; //Or whatever*
*}*

*  system("pause");*
*  return 0;*
*}*


i really don't know where do i have the error and how to fix it

Tha,k you very much for your help
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131204/3956aebc/attachment-0001.html>

From tack at gecode.org  Wed Dec  4 05:17:22 2013
From: tack at gecode.org (Guido Tack)
Date: Wed, 4 Dec 2013 15:17:22 +1100
Subject: [gecode-users] Access Violation when reading of the location
In-Reply-To: <CAAeiQEzrYPzXexOAkDjam7u6jGqzY_Or2m8CNH7PB6zfZp73nQ@mail.gmail.com>
References: <CAAeiQEzrYPzXexOAkDjam7u6jGqzY_Or2m8CNH7PB6zfZp73nQ@mail.gmail.com>
Message-ID: <8776D8C9-7B26-4F82-BC1B-960510ED9F09@gecode.org>

You have to update gain1 in your constructor for cloning.

Cheers,
Guido

On 4 Dec 2013, at 1:08 pm, lana light <lanalight1989 at gmail.com> wrote:

> hi all!
> 
> So sorry to bother you , but  this is my first model with gecode , when i run it it gave m this errer: "Access Violation when reading of the location0x0000001c"
> 
> and the compiler redirect me to this function in int.hpp 
> IntVarImp::RangeList::min(void) const {
>     return _min;
>   }
>   here is my code : 
> 
> #include <gecode/driver.hh>
> #include <gecode/int.hh>
> #include <gecode/minimodel.hh>
> #include <iostream>
> 
> 
> #include <vector>
> using namespace Gecode;
> using namespace std;
> class manel : public MaximizeScript {
> protected:
> 		 
>   IntVar gain1;
> 
>   static const int n=6;//nbre des testeurs 
>   static const int m=6;//  nbre des noeuds
> 		IntVarArray a;
>  
> public:
>   manel(void)
> 	  : a(*this,m*n,0,1),gain1(*this,0,100000) {
> 
> 		Matrix <IntVarArray> X (a,m,n);
> 
> 		
> 			vector<int> R1;
> 			R1.push_back(20);R1.push_back(10);R1.push_back(15);R1.push_back(5);R1.push_back(25);R1.push_back(30);
> 			
> 	    vector<int> C1;
> 		    C1.push_back(50);C1.push_back(30);C1.push_back(15);C1.push_back(15);C1.push_back(60);C1.push_back(20);
>         vector<int> B1;
> 		    B1.push_back(10);B1.push_back(15);B1.push_back(40);B1.push_back(50);B1.push_back(60);B1.push_back(70);
> 
> 		vector<int> Dr1;
> 		    Dr1.push_back(1);Dr1.push_back(1);Dr1.push_back(10);Dr1.push_back(5);Dr1.push_back(15);Dr1.push_back(15);
> 		vector<int> Dc1;
> 		    Dc1.push_back(1);Dc1.push_back(2);Dc1.push_back(20);Dc1.push_back(15);Dc1.push_back(15);Dc1.push_back(15);
> 		vector<int> Db1;
> 		    Db1.push_back(1);Db1.push_back(2);Db1.push_back(10);Db1.push_back(10);Db1.push_back(20);Db1.push_back(20);
> 		/*int g [n][m] ;
> 			//for(unsigned int i=0; i < n; ++i)
>             // g.emplace_back(std::vector<int>(m));
> 			g[0][0]=125;g[0][1]=150;g[0][2]=1;g[0][3]=0;g[0][4]=0;g[0][5]=0;
> 			g[1][0]=125;g[1][1]=150;g[1][2]=1;g[1][3]=0;g[1][4]=0;g[1][5]=0;
> 			g[2][0]=125;g[2][1]=150;g[2][2]=1;g[2][3]=0;g[2][4]=0;g[2][5]=0;
> 			g[3][0]=125;g[3][1]=150;g[3][2]=1;g[3][3]=0;g[3][4]=0;g[3][5]=0;
> 			g[4][0]=125;g[4][1]=150;g[4][2]=1;g[4][3]=0;g[4][4]=0;g[4][5]=0;
> 			g[5][0]=125;g[5][1]=150;g[5][2]=1;g[5][3]=0;g[5][4]=0;g[5][5]=0;
> 		/*for(int i=0; i<n; i++)
> 		{
> 			for (int j =0; j<m;j++)
> 				g[i][j]=50;
> 		}*/
> 			//creation of constraints 
> 			// ... over rows
> 		
> 		for ( int j=0; j<n;j++)
> 		{
> 
> 				linear(*this , X.row(j),IRT_EQ,1);
> 			
> 		}
> 
> 		//... over columns
> 			
> 		         for (int i = 0; i < m; i++) {
> 
> 					 linear(*this, Dr1,X.col(i),IRT_LQ,R1[i]);
> 		                                     }
> 
> 		        for (int i = 0; i < m; i++) {
> 		           	linear (*this, Dc1, X.col(i), IRT_LQ,C1[i]);
> 
> 		                                 }
> 		
> 		         for (int i = 0; i <m; i++) {
> 			         linear (*this, Db1, X.col(i), IRT_LQ,B1[i]);
> 			
> 		                           }
> 	
> 
> 		
> 				 //objectiv function
> 				/* IntArgs res(m*n);
> 				 IntVarArgs X1(m*n);
> 				 IntVarArgs f(n*m);
> 				 IntVar z;
> 				 int count=0;
> 				  int count1=0;
> 				  int count2=0;
> 				  int count3=0;
> 				 
>                  //for (int i=0; i<n; i++)
> 		             //{
> 						 
>                          //for (int j=0; j<m; j++) 
> 	            
> 				          // {
> 							  
> 							/* res[0] = g[0][0];
> 							 X1[0] = X(0,0);
> 							  z =expr(*this,res[0]*X1[0]);
> 							 f[0]=z;
> 
> 							  res[1] = g[0][1];
> 							 X1[1] = X(0,1);
> 							  z =expr(*this,res[1]*X1[1]);
> 							 f[1]=z;
> 							  
> 							  res[2] = g[0][2];
> 							 X1[2] = X(0,2);
> 							  z =expr(*this,res[2]*X1[2]);
> 							 f[2]=z;
> 
> 							  res[3] = g[0][3];
> 							 X1[3] = X(0,3);
> 							  z =expr(*this,res[3]*X1[3]);
> 							 f[3]=z;
> 
>                              res[4] = g[0][4];
> 							 X1[4] = X(0,4);
> 							  z =expr(*this,res[4]*X1[4]);
> 							 f[4]=z;
> 
> 							  res[5] = g[0][5];
> 							 X1[5] = X(0,5);
> 							  z =expr(*this,res[5]*X1[5]);
> 							 f[5]=z;
> 							  //////////////////////////////////////////////////////
> 							  res[6] = g[1][0];
> 							 X1[6] = X(1,0);
> 							  z =expr(*this,res[6]*X1[6]);
> 							 f[6]=z;
> 
> 							  res[7] = g[1][1];
> 							 X1[7] = X(1,1);
> 							  z =expr(*this,res[7]*X1[7]);
> 							 f[7]=z;
> 
> 							 res[8] = g[1][2];
> 							 X1[8] = X(1,2);
> 							  z =expr(*this,res[8]*X1[8]);
> 							 f[8]=z;
> 
> 							  res[9] = g[1][3];
> 							 X1[9] = X(1,3);
> 							  z =expr(*this,res[9]*X1[9]);
> 							 f[9]=z;
> 							  
> 							  res[10] = g[1][4];
> 							 X1[10] = X(1,4);
> 							  z =expr(*this,res[10]*X1[10]);
> 							 f[10]=z;
> 
> 							  res[11] = g[1][5];
> 							 X1[11] = X(1,5);
> 							  z =expr(*this,res[11]*X1[11]);
> 							 f[11]=z;
> 							 ///////////////////////////////////////////////////////////////////////
> 							 res[12] = g[2][0];
> 							 X1[12] = X(2,0);
> 							  z =expr(*this,res[12]*X1[12]);
> 							 f[12]=z;
> 
> 							  res[13] = g[2][1];
> 							 X1[13] = X(2,1);
> 							  z =expr(*this,res[13]*X1[13]);
> 							 f[13]=z;
> 							  
> 							  res[14] = g[2][2];
> 							 X1[14] = X(2,2);
> 							  z =expr(*this,res[14]*X1[14]);
> 							 f[14]=z;
> 
> 							  res[15] = g[2][3];
> 							 X1[15] = X(2,3);
> 							  z =expr(*this,res[15]*X1[15]);
> 							 f[15]=z;
> 
> 							 res[16] = g[2][4];
> 							 X1[16] = X(2,4);
> 							  z =expr(*this,res[16]*X1[16]);
> 							 f[16]=z;
> 
> 							  res[17] = g[2][5];
> 							 X1[17] = X(2,5);
> 							  z =expr(*this,res[17]*X1[17]);
> 							 f[17]=z;
> 							  /////////////////////////////////////////////////////////////
> 							  res[18] = g[3][0];
> 							 X1[18] = X(3,0);
> 							  z =expr(*this,res[18]*X1[18]);
> 							 f[18]=z;
> 
> 							  res[19] = g[3][1];
> 							 X1[19] = X(3,1);
> 							  z =expr(*this,res[19]*X1[19]);
> 							 f[19]=z;
> 
> 							 res[20] = g[3][2];
> 							 X1[20] = X(3,2);
> 							  z =expr(*this,res[20]*X1[20]);
> 							 f[20]=z;
> 
> 							  res[21] = g[3][3];
> 							 X1[21] = X(3,3);
> 							  z =expr(*this,res[21]*X1[21]);
> 							 f[21]=z;
> 							  
> 							  res[22] = g[3][4];
> 							 X1[22] = X(3,4);
> 							  z =expr(*this,res[22]*X1[22]);
> 							 f[22]=z;
> 
> 							  res[23] = g[3][5];
> 							 X1[23] = X(3,5);
> 							  z =expr(*this,res[23]*X1[23]);
> 							 f[23]=z;
> 							 //////////////////////////////////////////////////////////////////////
> 							 res[24] = g[4][0];
> 							 X1[24] = X(4,0);
> 							  z =expr(*this,res[24]*X1[24]);
> 							 f[24]=z;
> 
> 							  res[25] = g[4][1];
> 							 X1[25] = X(4,1);
> 							  z =expr(*this,res[25]*X1[25]);
> 							 f[25]=z;
> 							  
> 							  res[26] = g[4][2];
> 							 X1[26] = X(4,2);
> 							  z =expr(*this,res[26]*X1[26]);
> 							 f[26]=z;
> 
> 							  res[27] = g[4][3];
> 							 X1[27] = X(4,3);
> 							  z =expr(*this,res[27]*X1[27]);
> 							 f[27]=z;
> 
> 							 res[28] = g[4][4];
> 							 X1[28] = X(4,4);
> 							  z =expr(*this,res[28]*X1[28]);
> 							 f[28]=z;
> 
> 							  res[29] = g[4][5];
> 							 X1[29] = X(4,5);
> 							  z =expr(*this,res[29]*X1[29]);
> 							 f[29]=z;
> 							  ///////////////////////////////////////////////////
> 							  res[30] = g[5][0];
> 							 X1[30] = X(5,0);
> 							  z =expr(*this,res[30]*X1[30]);
> 							 f[30]=z;
> 
> 							  res[31] = g[5][1];
> 							 X1[31] = X(5,1);
> 							  z =expr(*this,res[31]*X1[31]);
> 							 f[31]=z;
> 
> 							  res[32] = g[5][2];
> 							 X1[32] = X(5,2);
> 							  z =expr(*this,res[32]*X1[32]);
> 							 f[32]=z;
> 
> 							  res[33] = g[5][3];
> 							 X1[33] = X(5,3);
> 							  z =expr(*this,res[33]*X1[33]);
> 							 f[33]=z;
> 
> 							  res[34] = g[5][4];
> 							 X1[34] = X(5,4);
> 							  z =expr(*this,res[34]*X1[34]);
> 							 f[34]=z;
> 
> 							  res[35] = g[5][5];
> 							 X1[35] = X(5,5);
> 							  z =expr(*this,res[35]*X1[35]);
> 							 f[35]=z;
> 
> 			              // }
> 						// res1=res*X1;
> 						 
> 		             //}
> 				 
> 			// constraint over the objective function	 
> 		 
> 		 
> 		//  linear(*this, f, IRT_EQ, gain);*/
> 		
> 		  //Branching
>         branch(*this, a, INT_VAR_SIZE_MAX(), INT_VAL_MAX());
> 
>   }
>     
>   virtual IntVar cost(void) const {
>     return gain1;
>   }
>   /// Print solution
>   virtual void print(void) const {
>    std::cout << a << std::endl;
> 	
> 	 
>   }
>   // Constructor for cloning \a s
>   manel(bool share, manel& s)
>     : MaximizeScript(share,s) {
>    // gain.update(*this, share, s.gain);
> 	a.update(*this, share, s.a);
>   }
>   // Copy during cloning
>   virtual Space* copy(bool share) {
>     return new manel(share,*this);
>   }
>  
> 
> };
> 
> int main(int argc, char* argv[]) {
> 	  manel* m = new manel;
>    if (manel* s = bab(m)) {
>      s->print(); delete s; //Or whatever
> }
>  
>   system("pause");
>   return 0;
> }
>  
> 
> i really don't know where do i have the error and how to fix it 
> 
> Tha,k you very much for your help 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131204/66043784/attachment-0001.html>

From lanalight1989 at gmail.com  Wed Dec  4 05:37:29 2013
From: lanalight1989 at gmail.com (lana light)
Date: Wed, 4 Dec 2013 05:37:29 +0100
Subject: [gecode-users] Access Violation when reading of the location
In-Reply-To: <8776D8C9-7B26-4F82-BC1B-960510ED9F09@gecode.org>
References: <CAAeiQEzrYPzXexOAkDjam7u6jGqzY_Or2m8CNH7PB6zfZp73nQ@mail.gmail.com>
	<8776D8C9-7B26-4F82-BC1B-960510ED9F09@gecode.org>
Message-ID: <CAAeiQEw3mCjiCcwBSzH08-7UWB4acEYMVARoCM=cHUUMjHgkKA@mail.gmail.com>

thank you

i did that but i get the some error !!!!!

any way what  does this function do because the compiler reffers to it

* IntVarImp::RangeList::min(void) const {*
*    return _min;*
  }

thank you very much Lana


2013/12/4 Guido Tack <tack at gecode.org>

> You have to update gain1 in your constructor for cloning.
>
> Cheers,
> Guido
>
> On 4 Dec 2013, at 1:08 pm, lana light <lanalight1989 at gmail.com> wrote:
>
> hi all!
>
> So sorry to bother you , but  this is my first model with gecode , when i
> run it it gave m this errer: "*Access Violation when reading of the
> location0x0000001c*"
>
> and the compiler redirect me to this function in int.hpp
> *IntVarImp::RangeList::min(void) const {*
> *    return _min;*
> *  }*
>   here is my code :
>
> #*include <gecode/driver.hh>*
> *#include <gecode/int.hh>*
> *#include <gecode/minimodel.hh>*
> *#include <iostream>*
>
>
> *#include <vector>*
> *using namespace Gecode;*
> *using namespace std;*
> *class manel : public MaximizeScript {*
> *protected:*
>
> *  IntVar gain1;*
>
> *  static const int n=6;//nbre des testeurs *
> *  static const int m=6;//  nbre des noeuds*
> * IntVarArray a;*
>
> *public:*
> *  manel(void)*
> *  : a(*this,m*n,0,1),gain1(*this,0,100000) {*
>
> * Matrix <IntVarArray> X (a,m,n);*
>
>  * vector<int> R1;*
> *
> R1.push_back(20);R1.push_back(10);R1.push_back(15);R1.push_back(5);R1.push_back(25);R1.push_back(30);*
>  *    vector<int> C1;*
> *
>  C1.push_back(50);C1.push_back(30);C1.push_back(15);C1.push_back(15);C1.push_back(60);C1.push_back(20);*
> *        vector<int> B1;*
> *
>  B1.push_back(10);B1.push_back(15);B1.push_back(40);B1.push_back(50);B1.push_back(60);B1.push_back(70);*
>
> * vector<int> Dr1;*
> *
>  Dr1.push_back(1);Dr1.push_back(1);Dr1.push_back(10);Dr1.push_back(5);Dr1.push_back(15);Dr1.push_back(15);*
> * vector<int> Dc1;*
> *
>  Dc1.push_back(1);Dc1.push_back(2);Dc1.push_back(20);Dc1.push_back(15);Dc1.push_back(15);Dc1.push_back(15);*
> * vector<int> Db1;*
> *
>  Db1.push_back(1);Db1.push_back(2);Db1.push_back(10);Db1.push_back(10);Db1.push_back(20);Db1.push_back(20);*
> * /*int g [n][m] ;*
> * //for(unsigned int i=0; i < n; ++i)*
> *            // g.emplace_back(std::vector<int>(m));*
> * g[0][0]=125;g[0][1]=150;g[0][2]=1;g[0][3]=0;g[0][4]=0;g[0][5]=0;*
> * g[1][0]=125;g[1][1]=150;g[1][2]=1;g[1][3]=0;g[1][4]=0;g[1][5]=0;*
> * g[2][0]=125;g[2][1]=150;g[2][2]=1;g[2][3]=0;g[2][4]=0;g[2][5]=0;*
> * g[3][0]=125;g[3][1]=150;g[3][2]=1;g[3][3]=0;g[3][4]=0;g[3][5]=0;*
> * g[4][0]=125;g[4][1]=150;g[4][2]=1;g[4][3]=0;g[4][4]=0;g[4][5]=0;*
> * g[5][0]=125;g[5][1]=150;g[5][2]=1;g[5][3]=0;g[5][4]=0;g[5][5]=0;*
> * /*for(int i=0; i<n; i++)*
> * {*
> * for (int j =0; j<m;j++)*
> * g[i][j]=50;*
> * }*/*
> * //creation of constraints *
> * // ... over rows*
> * for ( int j=0; j<n;j++)*
> * {*
>
> * linear(*this , X.row(j),IRT_EQ,1);*
>  * }*
>
> * //... over columns*
>  *         for (int i = 0; i < m; i++) {*
>
> * linear(*this, Dr1,X.col(i),IRT_LQ,R1[i]);*
> *                                     }*
>
> *        for (int i = 0; i < m; i++) {*
> *           linear (*this, Dc1, X.col(i), IRT_LQ,C1[i]);*
>
> *                                 }*
>  *         for (int i = 0; i <m; i++) {*
> *         linear (*this, Db1, X.col(i), IRT_LQ,B1[i]);*
>  *                           }*
>
>  * //objectiv function*
> * /* IntArgs res(m*n);*
> * IntVarArgs X1(m*n);*
> * IntVarArgs f(n*m);*
> * IntVar z;*
> * int count=0;*
> *  int count1=0;*
> *  int count2=0;*
> *  int count3=0;*
>
> *                 //for (int i=0; i<n; i++)*
> *             //{*
>
> *                         //for (int j=0; j<m; j++) *
>
> *          // {*
>
> * /* res[0] = g[0][0];*
> * X1[0] = X(0,0);*
> *  z =expr(*this,res[0]*X1[0]);*
> * f[0]=z;*
>
> *  res[1] = g[0][1];*
> * X1[1] = X(0,1);*
> *  z =expr(*this,res[1]*X1[1]);*
> * f[1]=z;*
>
> *  res[2] = g[0][2];*
> * X1[2] = X(0,2);*
> *  z =expr(*this,res[2]*X1[2]);*
> * f[2]=z;*
>
> *  res[3] = g[0][3];*
> * X1[3] = X(0,3);*
> *  z =expr(*this,res[3]*X1[3]);*
> * f[3]=z;*
>
> *                             res[4] = g[0][4];*
> * X1[4] = X(0,4);*
> *  z =expr(*this,res[4]*X1[4]);*
> * f[4]=z;*
>
> *  res[5] = g[0][5];*
> * X1[5] = X(0,5);*
> *  z =expr(*this,res[5]*X1[5]);*
> * f[5]=z;*
> *  //////////////////////////////////////////////////////*
> *  res[6] = g[1][0];*
> * X1[6] = X(1,0);*
> *  z =expr(*this,res[6]*X1[6]);*
> * f[6]=z;*
>
> *  res[7] = g[1][1];*
> * X1[7] = X(1,1);*
> *  z =expr(*this,res[7]*X1[7]);*
> * f[7]=z;*
>
> * res[8] = g[1][2];*
> * X1[8] = X(1,2);*
> *  z =expr(*this,res[8]*X1[8]);*
> * f[8]=z;*
>
> *  res[9] = g[1][3];*
> * X1[9] = X(1,3);*
> *  z =expr(*this,res[9]*X1[9]);*
> * f[9]=z;*
>
> *  res[10] = g[1][4];*
> * X1[10] = X(1,4);*
> *  z =expr(*this,res[10]*X1[10]);*
> * f[10]=z;*
>
> *  res[11] = g[1][5];*
> * X1[11] = X(1,5);*
> *  z =expr(*this,res[11]*X1[11]);*
> * f[11]=z;*
> * ///////////////////////////////////////////////////////////////////////*
> * res[12] = g[2][0];*
> * X1[12] = X(2,0);*
> *  z =expr(*this,res[12]*X1[12]);*
> * f[12]=z;*
>
> *  res[13] = g[2][1];*
> * X1[13] = X(2,1);*
> *  z =expr(*this,res[13]*X1[13]);*
> * f[13]=z;*
>
> *  res[14] = g[2][2];*
> * X1[14] = X(2,2);*
> *  z =expr(*this,res[14]*X1[14]);*
> * f[14]=z;*
>
> *  res[15] = g[2][3];*
> * X1[15] = X(2,3);*
> *  z =expr(*this,res[15]*X1[15]);*
> * f[15]=z;*
>
> * res[16] = g[2][4];*
> * X1[16] = X(2,4);*
> *  z =expr(*this,res[16]*X1[16]);*
> * f[16]=z;*
>
> *  res[17] = g[2][5];*
> * X1[17] = X(2,5);*
> *  z =expr(*this,res[17]*X1[17]);*
> * f[17]=z;*
> *  /////////////////////////////////////////////////////////////*
> *  res[18] = g[3][0];*
> * X1[18] = X(3,0);*
> *  z =expr(*this,res[18]*X1[18]);*
> * f[18]=z;*
>
> *  res[19] = g[3][1];*
> * X1[19] = X(3,1);*
> *  z =expr(*this,res[19]*X1[19]);*
> * f[19]=z;*
>
> * res[20] = g[3][2];*
> * X1[20] = X(3,2);*
> *  z =expr(*this,res[20]*X1[20]);*
> * f[20]=z;*
>
> *  res[21] = g[3][3];*
> * X1[21] = X(3,3);*
> *  z =expr(*this,res[21]*X1[21]);*
> * f[21]=z;*
>
> *  res[22] = g[3][4];*
> * X1[22] = X(3,4);*
> *  z =expr(*this,res[22]*X1[22]);*
> * f[22]=z;*
>
> *  res[23] = g[3][5];*
> * X1[23] = X(3,5);*
> *  z =expr(*this,res[23]*X1[23]);*
> * f[23]=z;*
> * //////////////////////////////////////////////////////////////////////*
> * res[24] = g[4][0];*
> * X1[24] = X(4,0);*
> *  z =expr(*this,res[24]*X1[24]);*
> * f[24]=z;*
>
> *  res[25] = g[4][1];*
> * X1[25] = X(4,1);*
> *  z =expr(*this,res[25]*X1[25]);*
> * f[25]=z;*
>
> *  res[26] = g[4][2];*
> * X1[26] = X(4,2);*
> *  z =expr(*this,res[26]*X1[26]);*
> * f[26]=z;*
>
> *  res[27] = g[4][3];*
> * X1[27] = X(4,3);*
> *  z =expr(*this,res[27]*X1[27]);*
> * f[27]=z;*
>
> * res[28] = g[4][4];*
> * X1[28] = X(4,4);*
> *  z =expr(*this,res[28]*X1[28]);*
> * f[28]=z;*
>
> *  res[29] = g[4][5];*
> * X1[29] = X(4,5);*
> *  z =expr(*this,res[29]*X1[29]);*
> * f[29]=z;*
> *  ///////////////////////////////////////////////////*
> *  res[30] = g[5][0];*
> * X1[30] = X(5,0);*
> *  z =expr(*this,res[30]*X1[30]);*
> * f[30]=z;*
>
> *  res[31] = g[5][1];*
> * X1[31] = X(5,1);*
> *  z =expr(*this,res[31]*X1[31]);*
> * f[31]=z;*
>
> *  res[32] = g[5][2];*
> * X1[32] = X(5,2);*
> *  z =expr(*this,res[32]*X1[32]);*
> * f[32]=z;*
>
> *  res[33] = g[5][3];*
> * X1[33] = X(5,3);*
> *  z =expr(*this,res[33]*X1[33]);*
> * f[33]=z;*
>
> *  res[34] = g[5][4];*
> * X1[34] = X(5,4);*
> *  z =expr(*this,res[34]*X1[34]);*
> * f[34]=z;*
>
> *  res[35] = g[5][5];*
> * X1[35] = X(5,5);*
> *  z =expr(*this,res[35]*X1[35]);*
> * f[35]=z;*
>
> *              // }*
> * // res1=res*X1;*
>
> *             //}*
>
> * // constraint over the objective function  *
>
>
> * //  linear(*this, f, IRT_EQ, gain);*/*
>  *  //Branching*
> *        branch(*this, a, INT_VAR_SIZE_MAX(), INT_VAL_MAX());*
>
> *  }*
>
> *  virtual IntVar cost(void) const {*
> *    return gain1;*
> *  }*
> *  /// Print solution*
> *  virtual void print(void) const {*
> *   std::cout << a << std::endl;*
>
> *  }*
> *  // Constructor for cloning \a s*
> *  manel(bool share, manel& s)*
> *    : MaximizeScript(share,s) {*
> *   // gain.update(*this, share, s.gain);*
> * a.update(*this, share, s.a);*
> *  }*
> *  // Copy during cloning*
> *  virtual Space* copy(bool share) {*
> *    return new manel(share,*this);*
> *  }*
>
>
> *};*
>
> *int main(int argc, char* argv[]) {*
> *  manel* m = new manel;*
> *   if (manel* s = bab(m)) {*
> *     s->print(); delete s; //Or whatever*
> *}*
>
> *  system("pause");*
> *  return 0;*
> *}*
>
>
> i really don't know where do i have the error and how to fix it
>
> Tha,k you very much for your help
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131204/1c8993e2/attachment-0001.html>

From lanalight1989 at gmail.com  Wed Dec  4 06:36:20 2013
From: lanalight1989 at gmail.com (lana light)
Date: Wed, 4 Dec 2013 06:36:20 +0100
Subject: [gecode-users] how to use the bab() function
In-Reply-To: <002b01cef060$c0060630$40121290$@kth.se>
References: <CAAeiQEz_ijJjEous7866ib0JEzj6um+oEORDuVTwXSoP7YNeKg@mail.gmail.com>
	<002b01cef060$c0060630$40121290$@kth.se>
Message-ID: <CAAeiQEyFidOJDb-sx_=uRQTGu2VeC0tNYdHTjV_j_J6z5V440Q@mail.gmail.com>

Thank you very much that really saved me

sorry to bother you but i have another question :

i want to have in the console the runtime so i did this :

* Options opt("MMKP");*
*  opt.parse(argc,argv);*
*  //Script::run<SendMostMoney,BAB,Options>(opt);/// i think if i use this
i can have the runtime but like this it //////////wouldn't work *
*  SendMostMoney* m = new SendMostMoney(opt);*
*    if (SendMostMoney* s = bab(m)) {*
*     s->print(); delete s; //Or whatever*
*}*

So how can i use the bab function and get the runtime (*Summary*) in the
some time ???


Thank you for your help
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131204/15953b07/attachment.html>

From tack at gecode.org  Wed Dec  4 07:35:37 2013
From: tack at gecode.org (Guido Tack)
Date: Wed, 4 Dec 2013 17:35:37 +1100
Subject: [gecode-users] Access Violation when reading of the location
In-Reply-To: <CAAeiQEw3mCjiCcwBSzH08-7UWB4acEYMVARoCM=cHUUMjHgkKA@mail.gmail.com>
References: <CAAeiQEzrYPzXexOAkDjam7u6jGqzY_Or2m8CNH7PB6zfZp73nQ@mail.gmail.com>
	<8776D8C9-7B26-4F82-BC1B-960510ED9F09@gecode.org>
	<CAAeiQEw3mCjiCcwBSzH08-7UWB4acEYMVARoCM=cHUUMjHgkKA@mail.gmail.com>
Message-ID: <CC8DD498-02BB-41A8-929E-22C06A345EE0@gecode.org>

That's an internal function, you don't have to understand what it does. The point is that it accesses a variable that has either not been initialised  in the constructor or not been updated in the copy constructor.

Cheers,
Guido

On 4 Dec 2013, at 3:37 pm, lana light <lanalight1989 at gmail.com> wrote:

> thank you 
> 
> i did that but i get the some error !!!!!
> 
> any way what  does this function do because the compiler reffers to it 
> 
>  IntVarImp::RangeList::min(void) const {
>     return _min;
>   }
> 
> thank you very much Lana 
> 
> 
> 2013/12/4 Guido Tack <tack at gecode.org>
> You have to update gain1 in your constructor for cloning.
> 
> Cheers,
> Guido
> 
> On 4 Dec 2013, at 1:08 pm, lana light <lanalight1989 at gmail.com> wrote:
> 
>> hi all!
>> 
>> So sorry to bother you , but  this is my first model with gecode , when i run it it gave m this errer: "Access Violation when reading of the location0x0000001c"
>> 
>> and the compiler redirect me to this function in int.hpp 
>> IntVarImp::RangeList::min(void) const {
>>     return _min;
>>   }
>>   here is my code : 
>> 
>> #include <gecode/driver.hh>
>> #include <gecode/int.hh>
>> #include <gecode/minimodel.hh>
>> #include <iostream>
>> 
>> 
>> #include <vector>
>> using namespace Gecode;
>> using namespace std;
>> class manel : public MaximizeScript {
>> protected:
>> 		 
>>   IntVar gain1;
>> 
>>   static const int n=6;//nbre des testeurs 
>>   static const int m=6;//  nbre des noeuds
>> 		IntVarArray a;
>>  
>> public:
>>   manel(void)
>> 	  : a(*this,m*n,0,1),gain1(*this,0,100000) {
>> 
>> 		Matrix <IntVarArray> X (a,m,n);
>> 
>> 		
>> 			vector<int> R1;
>> 			R1.push_back(20);R1.push_back(10);R1.push_back(15);R1.push_back(5);R1.push_back(25);R1.push_back(30);
>> 			
>> 	    vector<int> C1;
>> 		    C1.push_back(50);C1.push_back(30);C1.push_back(15);C1.push_back(15);C1.push_back(60);C1.push_back(20);
>>         vector<int> B1;
>> 		    B1.push_back(10);B1.push_back(15);B1.push_back(40);B1.push_back(50);B1.push_back(60);B1.push_back(70);
>> 
>> 		vector<int> Dr1;
>> 		    Dr1.push_back(1);Dr1.push_back(1);Dr1.push_back(10);Dr1.push_back(5);Dr1.push_back(15);Dr1.push_back(15);
>> 		vector<int> Dc1;
>> 		    Dc1.push_back(1);Dc1.push_back(2);Dc1.push_back(20);Dc1.push_back(15);Dc1.push_back(15);Dc1.push_back(15);
>> 		vector<int> Db1;
>> 		    Db1.push_back(1);Db1.push_back(2);Db1.push_back(10);Db1.push_back(10);Db1.push_back(20);Db1.push_back(20);
>> 		/*int g [n][m] ;
>> 			//for(unsigned int i=0; i < n; ++i)
>>             // g.emplace_back(std::vector<int>(m));
>> 			g[0][0]=125;g[0][1]=150;g[0][2]=1;g[0][3]=0;g[0][4]=0;g[0][5]=0;
>> 			g[1][0]=125;g[1][1]=150;g[1][2]=1;g[1][3]=0;g[1][4]=0;g[1][5]=0;
>> 			g[2][0]=125;g[2][1]=150;g[2][2]=1;g[2][3]=0;g[2][4]=0;g[2][5]=0;
>> 			g[3][0]=125;g[3][1]=150;g[3][2]=1;g[3][3]=0;g[3][4]=0;g[3][5]=0;
>> 			g[4][0]=125;g[4][1]=150;g[4][2]=1;g[4][3]=0;g[4][4]=0;g[4][5]=0;
>> 			g[5][0]=125;g[5][1]=150;g[5][2]=1;g[5][3]=0;g[5][4]=0;g[5][5]=0;
>> 		/*for(int i=0; i<n; i++)
>> 		{
>> 			for (int j =0; j<m;j++)
>> 				g[i][j]=50;
>> 		}*/
>> 			//creation of constraints 
>> 			// ... over rows
>> 		
>> 		for ( int j=0; j<n;j++)
>> 		{
>> 
>> 				linear(*this , X.row(j),IRT_EQ,1);
>> 			
>> 		}
>> 
>> 		//... over columns
>> 			
>> 		         for (int i = 0; i < m; i++) {
>> 
>> 					 linear(*this, Dr1,X.col(i),IRT_LQ,R1[i]);
>> 		                                     }
>> 
>> 		        for (int i = 0; i < m; i++) {
>> 		           	linear (*this, Dc1, X.col(i), IRT_LQ,C1[i]);
>> 
>> 		                                 }
>> 		
>> 		         for (int i = 0; i <m; i++) {
>> 			         linear (*this, Db1, X.col(i), IRT_LQ,B1[i]);
>> 			
>> 		                           }
>> 	
>> 
>> 		
>> 				 //objectiv function
>> 				/* IntArgs res(m*n);
>> 				 IntVarArgs X1(m*n);
>> 				 IntVarArgs f(n*m);
>> 				 IntVar z;
>> 				 int count=0;
>> 				  int count1=0;
>> 				  int count2=0;
>> 				  int count3=0;
>> 				 
>>                  //for (int i=0; i<n; i++)
>> 		             //{
>> 						 
>>                          //for (int j=0; j<m; j++) 
>> 	            
>> 				          // {
>> 							  
>> 							/* res[0] = g[0][0];
>> 							 X1[0] = X(0,0);
>> 							  z =expr(*this,res[0]*X1[0]);
>> 							 f[0]=z;
>> 
>> 							  res[1] = g[0][1];
>> 							 X1[1] = X(0,1);
>> 							  z =expr(*this,res[1]*X1[1]);
>> 							 f[1]=z;
>> 							  
>> 							  res[2] = g[0][2];
>> 							 X1[2] = X(0,2);
>> 							  z =expr(*this,res[2]*X1[2]);
>> 							 f[2]=z;
>> 
>> 							  res[3] = g[0][3];
>> 							 X1[3] = X(0,3);
>> 							  z =expr(*this,res[3]*X1[3]);
>> 							 f[3]=z;
>> 
>>                              res[4] = g[0][4];
>> 							 X1[4] = X(0,4);
>> 							  z =expr(*this,res[4]*X1[4]);
>> 							 f[4]=z;
>> 
>> 							  res[5] = g[0][5];
>> 							 X1[5] = X(0,5);
>> 							  z =expr(*this,res[5]*X1[5]);
>> 							 f[5]=z;
>> 							  //////////////////////////////////////////////////////
>> 							  res[6] = g[1][0];
>> 							 X1[6] = X(1,0);
>> 							  z =expr(*this,res[6]*X1[6]);
>> 							 f[6]=z;
>> 
>> 							  res[7] = g[1][1];
>> 							 X1[7] = X(1,1);
>> 							  z =expr(*this,res[7]*X1[7]);
>> 							 f[7]=z;
>> 
>> 							 res[8] = g[1][2];
>> 							 X1[8] = X(1,2);
>> 							  z =expr(*this,res[8]*X1[8]);
>> 							 f[8]=z;
>> 
>> 							  res[9] = g[1][3];
>> 							 X1[9] = X(1,3);
>> 							  z =expr(*this,res[9]*X1[9]);
>> 							 f[9]=z;
>> 							  
>> 							  res[10] = g[1][4];
>> 							 X1[10] = X(1,4);
>> 							  z =expr(*this,res[10]*X1[10]);
>> 							 f[10]=z;
>> 
>> 							  res[11] = g[1][5];
>> 							 X1[11] = X(1,5);
>> 							  z =expr(*this,res[11]*X1[11]);
>> 							 f[11]=z;
>> 							 ///////////////////////////////////////////////////////////////////////
>> 							 res[12] = g[2][0];
>> 							 X1[12] = X(2,0);
>> 							  z =expr(*this,res[12]*X1[12]);
>> 							 f[12]=z;
>> 
>> 							  res[13] = g[2][1];
>> 							 X1[13] = X(2,1);
>> 							  z =expr(*this,res[13]*X1[13]);
>> 							 f[13]=z;
>> 							  
>> 							  res[14] = g[2][2];
>> 							 X1[14] = X(2,2);
>> 							  z =expr(*this,res[14]*X1[14]);
>> 							 f[14]=z;
>> 
>> 							  res[15] = g[2][3];
>> 							 X1[15] = X(2,3);
>> 							  z =expr(*this,res[15]*X1[15]);
>> 							 f[15]=z;
>> 
>> 							 res[16] = g[2][4];
>> 							 X1[16] = X(2,4);
>> 							  z =expr(*this,res[16]*X1[16]);
>> 							 f[16]=z;
>> 
>> 							  res[17] = g[2][5];
>> 							 X1[17] = X(2,5);
>> 							  z =expr(*this,res[17]*X1[17]);
>> 							 f[17]=z;
>> 							  /////////////////////////////////////////////////////////////
>> 							  res[18] = g[3][0];
>> 							 X1[18] = X(3,0);
>> 							  z =expr(*this,res[18]*X1[18]);
>> 							 f[18]=z;
>> 
>> 							  res[19] = g[3][1];
>> 							 X1[19] = X(3,1);
>> 							  z =expr(*this,res[19]*X1[19]);
>> 							 f[19]=z;
>> 
>> 							 res[20] = g[3][2];
>> 							 X1[20] = X(3,2);
>> 							  z =expr(*this,res[20]*X1[20]);
>> 							 f[20]=z;
>> 
>> 							  res[21] = g[3][3];
>> 							 X1[21] = X(3,3);
>> 							  z =expr(*this,res[21]*X1[21]);
>> 							 f[21]=z;
>> 							  
>> 							  res[22] = g[3][4];
>> 							 X1[22] = X(3,4);
>> 							  z =expr(*this,res[22]*X1[22]);
>> 							 f[22]=z;
>> 
>> 							  res[23] = g[3][5];
>> 							 X1[23] = X(3,5);
>> 							  z =expr(*this,res[23]*X1[23]);
>> 							 f[23]=z;
>> 							 //////////////////////////////////////////////////////////////////////
>> 							 res[24] = g[4][0];
>> 							 X1[24] = X(4,0);
>> 							  z =expr(*this,res[24]*X1[24]);
>> 							 f[24]=z;
>> 
>> 							  res[25] = g[4][1];
>> 							 X1[25] = X(4,1);
>> 							  z =expr(*this,res[25]*X1[25]);
>> 							 f[25]=z;
>> 							  
>> 							  res[26] = g[4][2];
>> 							 X1[26] = X(4,2);
>> 							  z =expr(*this,res[26]*X1[26]);
>> 							 f[26]=z;
>> 
>> 							  res[27] = g[4][3];
>> 							 X1[27] = X(4,3);
>> 							  z =expr(*this,res[27]*X1[27]);
>> 							 f[27]=z;
>> 
>> 							 res[28] = g[4][4];
>> 							 X1[28] = X(4,4);
>> 							  z =expr(*this,res[28]*X1[28]);
>> 							 f[28]=z;
>> 
>> 							  res[29] = g[4][5];
>> 							 X1[29] = X(4,5);
>> 							  z =expr(*this,res[29]*X1[29]);
>> 							 f[29]=z;
>> 							  ///////////////////////////////////////////////////
>> 							  res[30] = g[5][0];
>> 							 X1[30] = X(5,0);
>> 							  z =expr(*this,res[30]*X1[30]);
>> 							 f[30]=z;
>> 
>> 							  res[31] = g[5][1];
>> 							 X1[31] = X(5,1);
>> 							  z =expr(*this,res[31]*X1[31]);
>> 							 f[31]=z;
>> 
>> 							  res[32] = g[5][2];
>> 							 X1[32] = X(5,2);
>> 							  z =expr(*this,res[32]*X1[32]);
>> 							 f[32]=z;
>> 
>> 							  res[33] = g[5][3];
>> 							 X1[33] = X(5,3);
>> 							  z =expr(*this,res[33]*X1[33]);
>> 							 f[33]=z;
>> 
>> 							  res[34] = g[5][4];
>> 							 X1[34] = X(5,4);
>> 							  z =expr(*this,res[34]*X1[34]);
>> 							 f[34]=z;
>> 
>> 							  res[35] = g[5][5];
>> 							 X1[35] = X(5,5);
>> 							  z =expr(*this,res[35]*X1[35]);
>> 							 f[35]=z;
>> 
>> 			              // }
>> 						// res1=res*X1;
>> 						 
>> 		             //}
>> 				 
>> 			// constraint over the objective function	 
>> 		 
>> 		 
>> 		//  linear(*this, f, IRT_EQ, gain);*/
>> 		
>> 		  //Branching
>>         branch(*this, a, INT_VAR_SIZE_MAX(), INT_VAL_MAX());
>> 
>>   }
>>     
>>   virtual IntVar cost(void) const {
>>     return gain1;
>>   }
>>   /// Print solution
>>   virtual void print(void) const {
>>    std::cout << a << std::endl;
>> 	
>> 	 
>>   }
>>   // Constructor for cloning \a s
>>   manel(bool share, manel& s)
>>     : MaximizeScript(share,s) {
>>    // gain.update(*this, share, s.gain);
>> 	a.update(*this, share, s.a);
>>   }
>>   // Copy during cloning
>>   virtual Space* copy(bool share) {
>>     return new manel(share,*this);
>>   }
>>  
>> 
>> };
>> 
>> int main(int argc, char* argv[]) {
>> 	  manel* m = new manel;
>>    if (manel* s = bab(m)) {
>>      s->print(); delete s; //Or whatever
>> }
>>  
>>   system("pause");
>>   return 0;
>> }
>>  
>> 
>> i really don't know where do i have the error and how to fix it 
>> 
>> Tha,k you very much for your help 
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131204/bea2e031/attachment-0001.html>

From tack at gecode.org  Wed Dec  4 07:38:22 2013
From: tack at gecode.org (Guido Tack)
Date: Wed, 4 Dec 2013 17:38:22 +1100
Subject: [gecode-users] how to use the bab() function
In-Reply-To: <CAAeiQEyFidOJDb-sx_=uRQTGu2VeC0tNYdHTjV_j_J6z5V440Q@mail.gmail.com>
References: <CAAeiQEz_ijJjEous7866ib0JEzj6um+oEORDuVTwXSoP7YNeKg@mail.gmail.com>
	<002b01cef060$c0060630$40121290$@kth.se>
	<CAAeiQEyFidOJDb-sx_=uRQTGu2VeC0tNYdHTjV_j_J6z5V440Q@mail.gmail.com>
Message-ID: <5B901D1C-AC97-4856-9101-AD054BD98506@gecode.org>

You can use the Timer class in Support, it works something like this:

  Support::Timer timer;
  timer.start();
  SendMostMoney* m = new SendMostMoney(opt);
    if (SendMostMoney* s = bab(m)) {
     s->print(); delete s; //Or whatever
  }
  cout << t.stop() / 1000.0 << " seconds";

Cheers,
Guido

On 4 Dec 2013, at 4:36 pm, lana light <lanalight1989 at gmail.com> wrote:

> Thank you very much that really saved me 
> 
> sorry to bother you but i have another question :
> 
> i want to have in the console the runtime so i did this :
> 
> 	Options opt("MMKP");
> 	  opt.parse(argc,argv);
> 	  //Script::run<SendMostMoney,BAB,Options>(opt);/// i think if i use this i can have the runtime but like this it //////////wouldn't work 
>   SendMostMoney* m = new SendMostMoney(opt);
>     if (SendMostMoney* s = bab(m)) {
>      s->print(); delete s; //Or whatever
> }
> 
> So how can i use the bab function and get the runtime (Summary) in the some time ???
> 
> 
> Thank you for your help
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131204/a19b612a/attachment.html>

From tack at gecode.org  Wed Dec  4 21:40:02 2013
From: tack at gecode.org (Guido Tack)
Date: Thu, 5 Dec 2013 07:40:02 +1100
Subject: [gecode-users] using MaximizeScript to find the optimal solution
In-Reply-To: <CA+wh-Jvzkveo95t_dvDLWAW7W4-wrarGPcznj=c=v3=aqMgO=Q@mail.gmail.com>
References: <CA+wh-JvVk3BLv4-q3nUFiWGC6Q+XjqdLz13CnwAJTU_8c_+i7A@mail.gmail.com>
	<CA+wh-Jsr95dPzH++qM4hW1ZmLiNUksCEjptq9cpBX9R30rhr=Q@mail.gmail.com>
	<F8B63FA8-E0B0-4036-A21A-5AB36585DDD0@gecode.org>
	<CA+wh-JvJwn7tA_9fE-vmGJym1LtHhY36ZXAwi1ezSdEzjRYWvg@mail.gmail.com>
	<002401cef038$9244a490$b6cdedb0$@se>
	<CA+wh-Jvzkveo95t_dvDLWAW7W4-wrarGPcznj=c=v3=aqMgO=Q@mail.gmail.com>
Message-ID: <222C5A75-633F-48D7-8EBD-458DF6A16605@gecode.org>

There's a bab function that does that.  Otherwise just loop through the solutions and ignore all but the last (that's exactly what the bab function does).

Cheers,
Guido

On 4 Dec 2013, at 2:22 am, naguissa light <naguissa1989 at gmail.com> wrote:

> Thank You very much for your help
> 
> Is there any option to just get directly to the best one without geting all of the solutions ?????
> 
> Naguissa 
> 
> 
> 2013/12/3 Christian Schulte <cschulte at kth.se>
> You really need to read MPG: BAB also returns several solutions (if you use it that way). The one found last is best.
> 
>  
> 
> Christian
> 
>  
> 
> --
> 
> Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/
> 
>  
> 
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of naguissa light
> Sent: Tuesday, December 03, 2013 3:34 PM
> To: Guido Tack
> Cc: users at gecode.org list
> Subject: Re: [gecode-users] using MaximizeScript to find the optimal solution
> 
>  
> 
> Thank you very much for your answer.
> 
> So to find all the feasable solution of a model i just use DFS
> 
> when i want to find the optimal solution of the objectiv function of the model i use BAB
> 
> my question here : is it normal to find more then one optimal solution to the objective function of my model?????
> 
> Thank you very much
> 
> Naguissa
> 
>  
> 
> 2013/12/3 Guido Tack <tack at gecode.org>
> 
> Hi,
> 
>  
> 
> I don't think I understand your question.  Whether you inherit from Space or from MaximizeScript shouldn't make any difference to the number of solutions when using DFS.
> 
> In order to enumerate all optimal solutions, you first have to run a BAB to get the value of the objective, and then run another search for all solutions using DFS, where you post an additional constraint to set the objective to that optimal value.
> 
>  
> 
> Cheers,
> 
> Guido
> 
>  
> 
> -- 
> 
> Guido Tack
> 
> http://www.csse.monash.edu/~guidot/
> 
>  
> 
>  
> 
>  
> 
> On 3 Dec 2013, at 1:40 pm, naguissa light <naguissa1989 at gmail.com> wrote:
> 
>  
> 
> I was wondring about that because when i try to get just one feasable solution for my model i used Space ( the numbre of feasable solutions are 48) so when i try to get the optimal solution for my model i used MaximizeScript and i get 1140 solutions !!!!!!!!!!!! is that normal ????,,
> 
> Did i miss any thing here???
> 
> Thank You for your help
> 
> Naguissa
> 
>  
> 
> 2013/12/3 naguissa light <naguissa1989 at gmail.com>
> 
>  
> 
> hi all!
> 
> i want in my model to find the optimal solution so when i read the MPG i find that i have to use MaximizeScript ( to maximize the objective function) so what i want to know is : is it possible to find more then one optimal solution when using MaximizeScript ????????
> 
> 
> Thank you for your help 
> 
> 
> Naguissa
> 
>  
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
> 
>  
> 
>  
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131205/ff0a4d2f/attachment.html>

From tack at gecode.org  Wed Dec  4 21:46:25 2013
From: tack at gecode.org (Guido Tack)
Date: Thu, 5 Dec 2013 07:46:25 +1100
Subject: [gecode-users] Fwd: Order Request
References: <1386073603.88957.YahooMailNeo@web140201.mail.bf1.yahoo.com>
Message-ID: <44AA0D87-A5C8-4B25-B43F-C91D5697C7E1@gecode.org>

Hi everyone,

I received this email two days ago.  For some reason Google classified it as spam.  We currently don't have any leftover propagators in stock that we could sell, but of course we want to pass this offer on to our users ;-)

Cheers,
Guido

Begin forwarded message:

> From: Carl Williams <carl_williams15 at yahoo.com>
> Subject: Order Request
> Date: 3 December 2013 11:26:43 pm AEDT
> 
> Dear
> Customer,    
>           My name is Carl Williams and I am sending this email to your company regarding to purchase some ( Propagators ) from your company, I would like you to email me with types and  their price ranges of the Propagators you carry in stock for sale so that I can select the one which will be suitable for me  and then let you know the quantity needed asap for us to proceed with the order. Kindly advice the types of credit cards you take for payment. Hope to hear from you real soon.    
> 
> Thank you,    
> 
> Carl Williams



From kisshen at cisco.com  Thu Dec  5 22:05:07 2013
From: kisshen at cisco.com (Kish Shen)
Date: Thu, 05 Dec 2013 21:05:07 +0000
Subject: [gecode-users] changing a Space's AFC decay factor
Message-ID: <52A0EA83.1020704@cisco.com>

Hi,

I am looking at the documentation for AFC in the class documentation for 
Space (section low-level support for AFC), and I don't understand what 
afc_set(double a) does:

The description say it 'Reset AFC to a', but I thought there is no 
global AFC value, as each variable has its own AFC value?

[Also, I noticed a possibly incorrect link in the description for 
afc_decay(double d):

the Set in 'Set AFC decay factor to d' is linked to Gecode:Set ]

Cheers,

Kish


From cschulte at kth.se  Fri Dec  6 12:35:10 2013
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 6 Dec 2013 12:35:10 +0100
Subject: [gecode-users] changing a Space's AFC decay factor
In-Reply-To: <52A0EA83.1020704@cisco.com>
References: <52A0EA83.1020704@cisco.com>
Message-ID: <01d701cef277$38d8ded0$aa8a9c70$@se>

Hi,

Gecode is cheating for AFC, read footnote 1 on page 120 in MPG.

I fixed the link.

Cheers
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Thursday, December 05, 2013 10:05 PM
To: users at gecode.org
Subject: [gecode-users] changing a Space's AFC decay factor

Hi,

I am looking at the documentation for AFC in the class documentation for
Space (section low-level support for AFC), and I don't understand what
afc_set(double a) does:

The description say it 'Reset AFC to a', but I thought there is no global
AFC value, as each variable has its own AFC value?

[Also, I noticed a possibly incorrect link in the description for
afc_decay(double d):

the Set in 'Set AFC decay factor to d' is linked to Gecode:Set ]

Cheers,

Kish

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From kisshen at cisco.com  Tue Dec 10 04:29:07 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 10 Dec 2013 03:29:07 +0000
Subject: [gecode-users] changing a Space's AFC decay factor
In-Reply-To: <01d701cef277$38d8ded0$aa8a9c70$@se>
References: <52A0EA83.1020704@cisco.com> <01d701cef277$38d8ded0$aa8a9c70$@se>
Message-ID: <52A68A83.1000704@cisco.com>

Hi Christian,

I am not sure if I understand you correctly, but the footnote talks 
about one global AFC decay factor, but the documentation refers to AFC 
-- 'Reset AFC to a' -- does this AFC refers to the decay factor, rather 
than the AFC values accumulated with the constraints? If so, should the 
documentation be changed to mention decay factor (it does in the 
document for the afc_decay() method)

If afc_set() is used to reset the decay factor, then what is the 
difference from afc_decay()? Is afc_decay() used to initialise the decay 
factor, and afc_set() used to change the decay factor later on?

Cheers,

Kish


On 06/12/2013 11:35, Christian Schulte wrote:
> Hi,
>
> Gecode is cheating for AFC, read footnote 1 on page 120 in MPG.
>
> I fixed the link.
>
> Cheers
> Christian
>
> --
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of Kish Shen
> Sent: Thursday, December 05, 2013 10:05 PM
> To: users at gecode.org
> Subject: [gecode-users] changing a Space's AFC decay factor
>
> Hi,
>
> I am looking at the documentation for AFC in the class documentation for
> Space (section low-level support for AFC), and I don't understand what
> afc_set(double a) does:
>
> The description say it 'Reset AFC to a', but I thought there is no global
> AFC value, as each variable has its own AFC value?
>
> [Also, I noticed a possibly incorrect link in the description for
> afc_decay(double d):
>
> the Set in 'Set AFC decay factor to d' is linked to Gecode:Set ]
>
> Cheers,
>
> Kish
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>



From cschulte at kth.se  Tue Dec 10 13:33:14 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 10 Dec 2013 13:33:14 +0100
Subject: [gecode-users] changing a Space's AFC decay factor
In-Reply-To: <52A68A83.1000704@cisco.com>
References: <52A0EA83.1020704@cisco.com> <01d701cef277$38d8ded0$aa8a9c70$@se>
	<52A68A83.1000704@cisco.com>
Message-ID: <002501cef5a3$ffadd5e0$ff0981a0$@se>

Hi Kish,

Sorry, afc_deacy sets the decay factor for all propagators from which the
afc for variables is computed. When you change the decay factor, the change
is active immediate.

afc_set(a) is for changing the value for the afc: it sets the afc-value for
all propagators to a.

Cheers
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: Kish Shen [mailto:kisshen at cisco.com] 
Sent: Tuesday, December 10, 2013 4:29 AM
To: cschulte at kth.se; users at gecode.org
Subject: Re: [gecode-users] changing a Space's AFC decay factor

Hi Christian,

I am not sure if I understand you correctly, but the footnote talks about
one global AFC decay factor, but the documentation refers to AFC
-- 'Reset AFC to a' -- does this AFC refers to the decay factor, rather than
the AFC values accumulated with the constraints? If so, should the
documentation be changed to mention decay factor (it does in the document
for the afc_decay() method)

If afc_set() is used to reset the decay factor, then what is the difference
from afc_decay()? Is afc_decay() used to initialise the decay factor, and
afc_set() used to change the decay factor later on?

Cheers,

Kish


On 06/12/2013 11:35, Christian Schulte wrote:
> Hi,
>
> Gecode is cheating for AFC, read footnote 1 on page 120 in MPG.
>
> I fixed the link.
>
> Cheers
> Christian
>
> --
> Christian Schulte, Professor of Computer Science, KTH, 
> www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On 
> Behalf Of Kish Shen
> Sent: Thursday, December 05, 2013 10:05 PM
> To: users at gecode.org
> Subject: [gecode-users] changing a Space's AFC decay factor
>
> Hi,
>
> I am looking at the documentation for AFC in the class documentation 
> for Space (section low-level support for AFC), and I don't understand 
> what afc_set(double a) does:
>
> The description say it 'Reset AFC to a', but I thought there is no 
> global AFC value, as each variable has its own AFC value?
>
> [Also, I noticed a possibly incorrect link in the description for 
> afc_decay(double d):
>
> the Set in 'Set AFC decay factor to d' is linked to Gecode:Set ]
>
> Cheers,
>
> Kish
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>




From kisshen at cisco.com  Tue Dec 10 23:35:02 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 10 Dec 2013 22:35:02 +0000
Subject: [gecode-users] changing a Space's AFC decay factor
In-Reply-To: <002501cef5a3$ffadd5e0$ff0981a0$@se>
References: <52A0EA83.1020704@cisco.com> <01d701cef277$38d8ded0$aa8a9c70$@se>
	<52A68A83.1000704@cisco.com> <002501cef5a3$ffadd5e0$ff0981a0$@se>
Message-ID: <52A79716.7030909@cisco.com>

On 10/12/2013 12:33, Christian Schulte wrote:

> afc_set(a) is for changing the value for the afc: it sets the afc-value for
> all propagators to a.

I see -- I guess this is (mainly?) for setting the initial value of the 
AFCs, defaulting to 1 for each propagator so that the AFC for a variable 
is its degree, corresponding to the 'weighted degree' definition?

I am still a bit puzzled, I thought the AFC for a variable is an integer 
-- certainly the code I use to get AFC returns an integer (using 
IntVar::afc()), but the a in afc_set(a) is a double. Has the internal 
representation of AFC changed from integer to double? Is this related to 
the introduction of the decay factor -- without the decay factor, it 
seems to me that the AFC need only be integer.

Cheers,

Kish






From cschulte at kth.se  Wed Dec 11 07:54:45 2013
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 11 Dec 2013 07:54:45 +0100
Subject: [gecode-users] changing a Space's AFC decay factor
In-Reply-To: <52A79716.7030909@cisco.com>
References: <52A0EA83.1020704@cisco.com> <01d701cef277$38d8ded0$aa8a9c70$@se>
	<52A68A83.1000704@cisco.com> <002501cef5a3$ffadd5e0$ff0981a0$@se>
	<52A79716.7030909@cisco.com>
Message-ID: <001501cef63d$e188a5f0$a499f1d0$@kth.se>

Exactly, it is a double because of the decay factor (it used to be a double
before because of the extended range of a double compared to an integer).

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte

-----Original Message-----
From: Kish Shen [mailto:kisshen at cisco.com] 
Sent: Tuesday, December 10, 2013 11:35 PM
To: cschulte at kth.se; users at gecode.org
Subject: Re: [gecode-users] changing a Space's AFC decay factor

On 10/12/2013 12:33, Christian Schulte wrote:

> afc_set(a) is for changing the value for the afc: it sets the 
> afc-value for all propagators to a.

I see -- I guess this is (mainly?) for setting the initial value of the
AFCs, defaulting to 1 for each propagator so that the AFC for a variable is
its degree, corresponding to the 'weighted degree' definition?

I am still a bit puzzled, I thought the AFC for a variable is an integer
-- certainly the code I use to get AFC returns an integer (using
IntVar::afc()), but the a in afc_set(a) is a double. Has the internal
representation of AFC changed from integer to double? Is this related to the
introduction of the decay factor -- without the decay factor, it seems to me
that the AFC need only be integer.

Cheers,

Kish







From Torsten.Anders at beds.ac.uk  Thu Dec 12 13:09:10 2013
From: Torsten.Anders at beds.ac.uk (Torsten Anders)
Date: Thu, 12 Dec 2013 12:09:10 +0000
Subject: [gecode-users] Compilation problems with latest Xcode
In-Reply-To: <0231C13F-3925-48E9-A254-EF8D7FB7E1AE@gecode.org>
References: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
	<DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>
	<7AF082AD-EA50-40A3-9A65-6108EF9E3286@gecode.org>
	<3D6F7CDE-C432-46FD-BE6A-BE3A4AA54D58@beds.ac.uk>
	<0231C13F-3925-48E9-A254-EF8D7FB7E1AE@gecode.org>
Message-ID: <AB5E4211-325A-4F10-AE28-2FDD03F69423@beds.ac.uk>

On 3 Nov 2013, at 23:01, Guido Tack <tack at gecode.org> wrote:
> I can reproduce the linker issue related to the branch function, and I currently don?t know what the problem might be.


Has anybody perhaps managed to get Gecode programs compiled with the latest Xcode (5.0.2)?

If I create a project with the first example of the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), and add the Gecode framework, then the build fails as detailed below. 

Interestingly, using the minimal flags of the tutorial as follows does work. So, this may not be a problem of the compiler clang, but Xcode -- possibly one of the many flags set by Xcode automatically gets in the way?
 
clang++ -O3 -c send-more-money.cpp
clang++ -framework gecode -o send-more-money send-more-money.cpp

By contrast, for the Xcode project send-more-money, where the actual sources are in the file main.cpp, Xcode generates the following call with the shown error message. I have difficulties understanding this call (I am now to C++) to identify where the problem may be. Anyway, I noticed that the flag  -framework geocode is there.

Any help?

Ld /Users/torsten/Library/Developer/Xcode/DerivedData/send-more-money-auavgbgssaurbrdkynwwzauevqbu/Build/Products/Debug/send-more-money normal x86_64
    cd /Users/torsten/c_cpp/Gecode/send-more-money
    setenv MACOSX_DEPLOYMENT_TARGET 10.8
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk -L/Users/torsten/Library/Developer/Xcode/DerivedData/send-more-money-auavgbgssaurbrdkynwwzauevqbu/Build/Products/Debug -F/Users/torsten/Library/Developer/Xcode/DerivedData/send-more-money-auavgbgssaurbrdkynwwzauevqbu/Build/Products/Debug -F/Library/Frameworks -filelist /Users/torsten/Library/Developer/Xcode/DerivedData/send-more-money-auavgbgssaurbrdkynwwzauevqbu/Build/Intermediates/send-more-money.build/Debug/send-more-money.build/Objects-normal/x86_64/send-more-money.LinkFileList -mmacosx-version-min=10.8 -stdlib=libc++ -framework gecode -Xlinker -dependency_info -Xlinker /Users/torsten/Library/Developer/Xcode/DerivedData/send-more-money-auavgbgssaurbrdkynwwzauevqbu/Build/Intermediates/send-more-money.build/Debug/send-more-money.build/Objects-normal/x86_64/send-more-money_dependency_info.dat -o /Users/torsten/Library/Developer/Xcode/DerivedData/send-more-money-auavgbgssaurbrdkynwwzauevqbu/Build/Products/Debug/send-more-money
 
Undefined symbols for architecture x86_64:
  "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
      SendMoreMoney::SendMoreMoney() in main.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)

Best wishes,
Torsten

PS: I am using MacOS 10.8.5


--
Dr Torsten Anders
Course Leader, Music Technology
University of Bedfordshire
Park Square, Room A315
http://www.torsten-anders.de




On 3 Nov 2013, at 23:01, Guido Tack <tack at gecode.org> wrote:
> The linker problems in your second example can be fixed by using clang++ instead of clang (so that the standard C++ library gets linked).  However I can reproduce the linker issue related to the branch function, and I currently don?t know what the problem might be.  We?re preparing a new release at the moment, and I?ll try to get this fixed as soon as possible.
> 
> Cheers,
> Guido
> 
> On 4 Nov 2013, at 9:29 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
> 
>> Dear Guido,
>> 
>> Thanks a lot for your help! After removing /usr/local/gecode (ignored by uninstall.sh -- likely too old), I could compile and run send-more-money.cpp successfully with g++ at the command line as described in the tutorial. Great! 
>> 
>> However, I would like to use Gecode with an IDE. I tried configuring Xcode as described in your tutorial, but still ran into linking problems. I added the geocode framework (not shown in the list, had to directly move to the path /Library/Frameworks/gecode.framework. For Xcode, the Gecode tutorial recommends "You may have to edit your project settings to choose Mac OS 10.6 as the base SDK." With the current version Xcode 5.01 that is not possible anymore. Anyway, regardless whether or not it is set to my system 10.8, I get linker errors from clang.
>> 
>> Undefined symbols for architecture x86_64:
>> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>>    SendMoreMoney::SendMoreMoney() in main.o
>> ld: symbol(s) not found for architecture x86_64
>> 
>> With Eclipse I have similar problems.
>> 
>> To better understand the problem I tried command line calls for clang with the same arguments as for g++ given in your tutorial, and got the more detailed error message below. Not sure whether my flags are exactly the same in Xcode as well, but the error looks at least similar. 
>> 
>> Any idea what I could be missing? Thanks a lot! 
>> 
>> Best wishes,
>> Torsten
>> 
>> 
>> The following silently results in an *.o file.
>> 
>> $ clang -O3 -c send-more-money.cpp
>> 
>> $ clang -framework gecode -o send-more-money send-more-money.cpp
>> Undefined symbols for architecture x86_64:
>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::str() const", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::ostream::operator<<(std::ostream& (*)(std::ostream&))", referenced from:
>>    SendMoreMoney::print() const in send-more-money-cyceYe.o
>> "std::ostream::operator<<(int)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string()", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::basic_ostringstream(std::_Ios_Openmode)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::~basic_ostringstream()", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::ios_base::Init::Init()", referenced from:
>>    ___cxx_global_var_init in send-more-money-cyceYe.o
>> "std::ios_base::Init::~Init()", referenced from:
>>    ___cxx_global_var_init in send-more-money-cyceYe.o
>> "std::basic_ios<char, std::char_traits<char> >::copyfmt(std::basic_ios<char, std::char_traits<char> > const&)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::exception::~exception()", referenced from:
>>    Gecode::Exception::~Exception() in send-more-money-cyceYe.o
>> "std::cout", referenced from:
>>    SendMoreMoney::print() const in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::endl<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&)", referenced from:
>>    SendMoreMoney::print() const in send-more-money-cyceYe.o
>> "std::terminate()", referenced from:
>>    ___clang_call_terminate in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<char, std::char_traits<char>, std::allocator<char> >(std::basic_ostream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "vtable for __cxxabiv1::__class_type_info", referenced from:
>>    typeinfo for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>>    typeinfo for Gecode::ActorLink in send-more-money-cyceYe.o
>>    typeinfo for Gecode::Choice in send-more-money-cyceYe.o
>>    typeinfo for Gecode::Search::Stop in send-more-money-cyceYe.o
>>    typeinfo for Gecode::Search::Cutoff in send-more-money-cyceYe.o
>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>> "vtable for __cxxabiv1::__si_class_type_info", referenced from:
>>    typeinfo for Gecode::Rnd::IMP in send-more-money-cyceYe.o
>>    typeinfo for Gecode::PosChoice in send-more-money-cyceYe.o
>>    typeinfo for Gecode::DFA::DFAI in send-more-money-cyceYe.o
>>    typeinfo for SendMoreMoney in send-more-money-cyceYe.o
>>    typeinfo for Gecode::MemoryExhausted in send-more-money-cyceYe.o
>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>> "vtable for __cxxabiv1::__vmi_class_type_info", referenced from:
>>    typeinfo for Gecode::Actor in send-more-money-cyceYe.o
>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>> "operator delete(void*)", referenced from:
>>    Gecode::MemoryExhausted::~MemoryExhausted() in send-more-money-cyceYe.o
>> "___cxa_allocate_exception", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>    SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>    Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>    Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>> "___cxa_begin_catch", referenced from:
>>    ___clang_call_terminate in send-more-money-cyceYe.o
>> "___cxa_free_exception", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>    SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>    Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>    Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>> "___cxa_pure_virtual", referenced from:
>>    vtable for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>>    vtable for Gecode::Actor in send-more-money-cyceYe.o
>>    vtable for Gecode::Choice in send-more-money-cyceYe.o
>>    vtable for Gecode::Search::Stop in send-more-money-cyceYe.o
>>    vtable for Gecode::Search::Cutoff in send-more-money-cyceYe.o
>> "___cxa_throw", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>    SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>    Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>    Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>> "___dynamic_cast", referenced from:
>>    _main in send-more-money-cyceYe.o
>> "___gxx_personality_v0", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    Gecode::SharedHandle::Object::~Object() in send-more-money-cyceYe.o
>>    Gecode::Rnd::IMP::~IMP() in send-more-money-cyceYe.o
>>    Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>>    Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>>    Gecode::PosChoice::~PosChoice() in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    ...
>> ld: symbol(s) not found for architecture x86_64
>> clang: error: linker command failed with exit code 1 (use -v to see invocation)
>> Torstens-MacBook-Pro:tmp torsten$ 
>> 
>> 
>> 
>> 
>> Undefined symbols for architecture x86_64:
>> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>>    SendMoreMoney::SendMoreMoney() in main.o
>> ld: symbol(s) not found for architecture x86_64
>> clang: error: linker command failed with exit code 1 (use -v to see invocation)
>> 
>> 
>> 
>> 
>> 
>> On 2 Nov 2013, at 23:20, Guido Tack <tack at gecode.org>
>> wrote:
>> 
>>> Hi Torsten,
>>> 
>>> you seem to have an older version of Gecode installed in /usr/local (that's what the clang error messages point to).
>>> 
>>> The 35 is the "library version", which is simply incremented with each release and doesn't follow the major.minor.patch scheme.
>>> 
>>> Cheers,
>>> Guido
>>> 
>>> On 3 Nov 2013, at 4:11 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
>>> 
>>>> On 2 Nov 2013, at 09:13, Torsten Anders <torsten.anders at beds.ac.uk> wrote:
>>>>> Dear Gecoders,
>>>>> 
>>>>> I am trying to run some ready-made Gecode examples on a Mac without success. For example, with the first example from the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp) in run into several errors, for example, 
>>>>> 
>>>>> 'INT_VAL_SPLIT_MIN' cannot be used as a function	
>>>>> 'INT_VAR_SIZE_MIN' cannot be used as a function	
>>>>> 
>>>>> As these errors appear for several examples, it appears to me there is something fundamentally wrong. This might well be some installation error on my part. Nevertheless, help is appreciated -- I simply do not know where to start addressing such a problem.  
>>>>> 
>>>>> BTW: I just installed Gecode version 4.2 (binaries Gecode-4.2.0.dmg) on my Mac, after uninstalling some older version. I was surprised to find that /Library/Frameworks/gecode.framework/Versions/ contains a folder named "35" -- I would have expected it to be named "42", for version 4.2, but that could of course be simply a wrong guess on my part.   
>>>>> 
>>>>> Best wishes,
>>>>> Torsten
>>>> 
>>>> 
>>>> I tried to better isolate the problem. Both g++ (gcc) 4.2.1 and clang 5.0 report problems with the example send-more-money.cpp (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), but the errors differ. The details are below. 
>>>> 
>>>> What am I missing?  
>>>> 
>>>> Best wishes,
>>>> Torsten
>>>> 
>>>> $ g++ -O3 -c send-more-money.cpp
>>>> send-more-money.cpp: In constructor ?SendMoreMoney::SendMoreMoney()?:
>>>> send-more-money.cpp:55: error: ?INT_VAR_SIZE_MIN? cannot be used as a function
>>>> send-more-money.cpp:55: error: ?INT_VAL_MIN? cannot be used as a function
>>>> 
>>>> $ g++ --version
>>>> i686-apple-darwin11-llvm-g++-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> 
>>>> 
>>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -O3 -c send-more-money.cpp
>>>> In file included from send-more-money.cpp:28:
>>>> In file included from /usr/local/include/gecode/int.hh:50:
>>>> In file included from /usr/local/include/gecode/iter.hh:97:
>>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:27: error: reference to
>>>>  non-static member function must be called; did you mean to call it with no
>>>>  arguments?
>>>>  static_cast<UnsVal>(max - min + 1);
>>>>                      ^~~
>>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:33: error: reference to
>>>>  non-static member function must be called; did you mean to call it with no
>>>>  arguments?
>>>>  static_cast<UnsVal>(max - min + 1);
>>>>                            ^~~
>>>> send-more-money.cpp:55:42: error: called object type 'int' is not a function or
>>>>  function pointer
>>>>    branch(*this, l, INT_VAR_SIZE_MIN(), INT_VAL_MIN());
>>>>                     ~~~~~~~~~~~~~~~~^
>>>> 3 errors generated.
>>>> 
>>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang --version
>>>> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
>>>> 
>>>> 
>>>>> --
>>>>> Dr Torsten Anders
>>>>> Course Leader, Music Technology
>>>>> University of Bedfordshire
>>>>> Park Square, Room A315
>>>>> http://www.torsten-anders.de
>>>> 
>>>> _______________________________________________
>>>> Gecode users mailing list
>>>> users at gecode.org
>>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>> 
>> 
>> 
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
> 



From primafacie at free.fr  Fri Dec 13 18:16:24 2013
From: primafacie at free.fr (primafacie at free.fr)
Date: Fri, 13 Dec 2013 18:16:24 +0100 (CET)
Subject: [gecode-users] Arc consistency and "dynamic" CSP
In-Reply-To: <1936567387.611428628.1386952776368.JavaMail.root@zimbra34-e6.priv.proxad.net>
Message-ID: <707653397.611547679.1386954984312.JavaMail.root@zimbra34-e6.priv.proxad.net>

Hi,

We're planning to tackle a decision problem as a "dynamic" CSP meaning that, while exploring partial solutions for this problem, we aggregate constraints... In order to prune in polynomial time ill-formed partial solutions, we would like to use some kind of arc consistency and delay as much as possible solving CSPs. Therefore, we need to call "arc consistency method/function" frequently, and not the solve method/function. 

I've looked rapidly the documentation, and I'am not sure Gecode library could help us. But, I've never used it... Is there any module that I should consider?

Thanks,

Humbert.


From cschulte at kth.se  Mon Dec 16 14:36:02 2013
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 16 Dec 2013 14:36:02 +0100
Subject: [gecode-users] Arc consistency and "dynamic" CSP
In-Reply-To: <707653397.611547679.1386954984312.JavaMail.root@zimbra34-e6.priv.proxad.net>
References: <1936567387.611428628.1386952776368.JavaMail.root@zimbra34-e6.priv.proxad.net>
	<707653397.611547679.1386954984312.JavaMail.root@zimbra34-e6.priv.proxad.net>
Message-ID: <003d01cefa63$c3c53270$4b4f9750$@se>

Hi,

It is really difficult to answer your question. If I understand correctly
you would like to use constraint propagation now and then but not search.
This you can do easily with Gecode, you might want to start by working
through the first two chapters of Modeling and Programming with Gecode.

Best
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of primafacie at free.fr
Sent: Friday, December 13, 2013 6:16 PM
To: users at gecode.org
Subject: [gecode-users] Arc consistency and "dynamic" CSP

Hi,

We're planning to tackle a decision problem as a "dynamic" CSP meaning that,
while exploring partial solutions for this problem, we aggregate
constraints... In order to prune in polynomial time ill-formed partial
solutions, we would like to use some kind of arc consistency and delay as
much as possible solving CSPs. Therefore, we need to call "arc consistency
method/function" frequently, and not the solve method/function. 

I've looked rapidly the documentation, and I'am not sure Gecode library
could help us. But, I've never used it... Is there any module that I should
consider?

Thanks,

Humbert.

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From Pierre.Flener at it.uu.se  Mon Dec 16 19:35:59 2013
From: Pierre.Flener at it.uu.se (Pierre Flener)
Date: Mon, 16 Dec 2013 19:35:59 +0100
Subject: [gecode-users] bug with set expressions?
Message-ID: <1C77157F-9413-4CE8-9D59-FC10AAA33CC5@it.uu.se>

Hi,

A student of my CP course sent me the attached file describing a potential bug with set expressions.

A teaching assistant verified this and says the problem also happens if one replaces singleton(1) by IntSet(1,1).

Are we doing something wrong?

Cheers,
	Pierre

-------------- next part --------------
A non-text attachment was scrubbed...
Name: bug.cpp
Type: application/octet-stream
Size: 806 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131216/de3ad76f/attachment.obj>
-------------- next part --------------



From tack at gecode.org  Mon Dec 16 23:18:46 2013
From: tack at gecode.org (Guido Tack)
Date: Tue, 17 Dec 2013 09:18:46 +1100
Subject: [gecode-users] bug with set expressions?
In-Reply-To: <1C77157F-9413-4CE8-9D59-FC10AAA33CC5@it.uu.se>
References: <1C77157F-9413-4CE8-9D59-FC10AAA33CC5@it.uu.se>
Message-ID: <6725473C-F6DF-4D9E-B20D-844D570A1D18@gecode.org>

You were doing nothing wrong, there was a bug in the code for posting set relations that involve constants.  It's fixed in the trunk.

Cheers,
Guido

On 17 Dec 2013, at 5:35 am, Pierre Flener <Pierre.Flener at it.uu.se> wrote:

> Hi,
> 
> A student of my CP course sent me the attached file describing a potential bug with set expressions.
> 
> A teaching assistant verified this and says the problem also happens if one replaces singleton(1) by IntSet(1,1).
> 
> Are we doing something wrong?
> 
> Cheers,
> 	Pierre
> 
> <bug.cpp>
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From inspecteur.rick at gmail.com  Tue Dec 24 15:59:21 2013
From: inspecteur.rick at gmail.com (inspecteur)
Date: Tue, 24 Dec 2013 15:59:21 +0100
Subject: [gecode-users] Avoid the appearance of several simultaneous values
Message-ID: <52B9A149.4020701@gmail.com>

Hi
Sorry for my english, I'm french and beginner on gecode.

I want to create an array of integers (4 * 4) with the constraints:
1) Possible valuesbetween 1 and 6
2) no repeating values on lines
3) The values 3 and 4 must not be on the same line
4) No more than 2 times the same value on each column

I stumble on the constraint number 3)

If someone could put me on the track


Here is my code

class CarreMagique : public Script {
private:
   const int n;
   IntVarArray carreMag;

   public:
   CarreMagique(const SizeOptions& opt)
     : n(opt.size()), carreMag(*this,n*4,1,6) {

     Matrix<IntVarArray> tab(carreMag, n, 4);
     IntVarArgs d1(4);
         for (int i = 0; i < n; i++) {
             for (int j = 0; j < 4; j++) {
                 d1[j]=tab(i,j);
             }
             distinct(*this, d1);
         }

   IntVarArgs d2(n);
         for (int j = 0; j < 4; j++) {
             for (int i = 0; i < n; i++) {
                 d2[i]=tab(i,j);
             }
             count(*this, d2, IntSet(0,2), IntArgs::create(6,1,1));
         }

     }
     branch(*this, carreMag, INT_VAR_NONE(), INT_VAL_SPLIT_MIN());
   }

   CarreMagique(bool share, CarreMagique& s) : Script(share,s), n(s.n) {
     carreMag.update(*this, share, s.carreMag);
   }

   virtual Space* copy(bool share) {
     return new CarreMagique(share,*this);
   }

   virtual void print(std::ostream& os) const {
     // Pour acceder au tableau comme ? une matrice
     Matrix<IntVarArray> m(carreMag, n, 4);
     for (int i = 0; i < n; i++) {
       os << "\t";
       for (int j = 0; j < 4; j++) {
         os.width(2);
         os << m(i,j) << "  ";
       }
       os << std::endl;
     }
   }

};

int main(int argc, char* argv[]) {
   SizeOptions opt("CarreMagique");
   opt.size(4);
   Script::run<CarreMagique,DFS,SizeOptions>(opt);
   return 0;
}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131224/91e4748c/attachment.html>

From jose_a_magana at hotmail.com  Tue Dec 24 19:43:35 2013
From: jose_a_magana at hotmail.com (=?iso-8859-1?Q?Jose_A_Maga=F1a?=)
Date: Tue, 24 Dec 2013 19:43:35 +0100
Subject: [gecode-users] IntVar::IntVar: Attempt to create variable with
	empty domain.
In-Reply-To: <6725473C-F6DF-4D9E-B20D-844D570A1D18@gecode.org>
References: <1C77157F-9413-4CE8-9D59-FC10AAA33CC5@it.uu.se>
	<6725473C-F6DF-4D9E-B20D-844D570A1D18@gecode.org>
Message-ID: <DUB123-DS903D3CCAE5ECD9355E366B8C00@phx.gbl>

Hello,

    I am using Gecode to solve Conway Game of Life. It is an assignment for 
the CSP course I am following at University.

    My code is working correctly without any problems except for the trivial 
case.
    The objective is for a given initial solution add checkers to a board 
until the configuration is stable (according to some neighbourhood rules).
     The point is that when the initial solution is already stable I get an 
exception: IntVar::IntVar: Attempt to create variable with empty domain.

     The problem uses IntVar in the domain {0,1} and basically formalizes as 
constraints relationships on the number of neighbours with certain 
conditions depending on the 0/1 value of the cell.
     I have found unsatisfiable cases where the same exception also occurs.

    What kind of issues/conditions may cause this exception?

      I am using version 4.2.1 in Windows.

         Thanks in advance

              Jose A. Maga?a






From jose_a_magana at hotmail.com  Thu Dec 26 10:28:38 2013
From: jose_a_magana at hotmail.com (=?iso-8859-1?Q?Jose_A_Maga=F1a?=)
Date: Thu, 26 Dec 2013 10:28:38 +0100
Subject: [gecode-users] IntVar::IntVar: Attempt to create variable with
	empty domain.
Message-ID: <DUB123-DS5D5011B851AB6DFD574D1B8C20@phx.gbl>

Hello,
   please, disregard my previous mail.
   The problem has been found, as usual, in the most unexpected line of 
code.
   My apologies
      Jose

-----Original Message----- 
From: Jose A Maga?a
Sent: Tuesday, 24 December, 2013 19:43
To: users at gecode.org
Subject: IntVar::IntVar: Attempt to create variable with empty domain.

Hello,

    I am using Gecode to solve Conway Game of Life. It is an assignment for
the CSP course I am following at University.

    My code is working correctly without any problems except for the trivial
case.
    The objective is for a given initial solution add checkers to a board
until the configuration is stable (according to some neighbourhood rules).
     The point is that when the initial solution is already stable I get an
exception: IntVar::IntVar: Attempt to create variable with empty domain.

     The problem uses IntVar in the domain {0,1} and basically formalizes as
constraints relationships on the number of neighbours with certain
conditions depending on the 0/1 value of the cell.
     I have found unsatisfiable cases where the same exception also occurs.

    What kind of issues/conditions may cause this exception?

      I am using version 4.2.1 in Windows.

         Thanks in advance

              Jose A. Maga?a





From cschulte at kth.se  Sat Dec 28 14:50:41 2013
From: cschulte at kth.se (Christian Schulte)
Date: Sat, 28 Dec 2013 14:50:41 +0100
Subject: [gecode-users] Avoid the appearance of several simultaneous
	values
In-Reply-To: <52B9A149.4020701@gmail.com>
References: <52B9A149.4020701@gmail.com>
Message-ID: <004201cf03d3$cd7f2b80$687d8280$@kth.se>

Hi,

 

This is not really a Gecode-specific question but a general constraint modeling question, so you might want to turn elsewhere for help.

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of inspecteur
Sent: Tuesday, December 24, 2013 03:59 PM
To: users at gecode.org
Subject: [gecode-users] Avoid the appearance of several simultaneous values

 

Hi
Sorry for my english, I'm french and beginner on gecode.

I want to create an array of integers (4 * 4) with the constraints:
1) Possible values?? between 1 and 6
2) no repeating values ??on lines
3) The values ??3 and 4 must not be on the same line
4) No more than 2 times the same value on each column

I stumble on the constraint number 3)



If someone could put me on the track



Here is my code

class CarreMagique : public Script {
private:
  const int n;
  IntVarArray carreMag;
 
  public:
  CarreMagique(const SizeOptions& opt)
    : n(opt.size()), carreMag(*this,n*4,1,6) {

    Matrix<IntVarArray> tab(carreMag, n, 4);
    IntVarArgs d1(4);
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < 4; j++) {
                d1[j]=tab(i,j);
            }
            distinct(*this, d1);   
        }
        
  IntVarArgs d2(n);
        for (int j = 0; j < 4; j++) {
            for (int i = 0; i < n; i++) {
                d2[i]=tab(i,j);
            }
            count(*this, d2, IntSet(0,2), IntArgs::create(6,1,1));
        }

    }
    branch(*this, carreMag, INT_VAR_NONE(), INT_VAL_SPLIT_MIN());
  }

  CarreMagique(bool share, CarreMagique& s) : Script(share,s), n(s.n) {
    carreMag.update(*this, share, s.carreMag);
  }

  virtual Space* copy(bool share) {
    return new CarreMagique(share,*this);
  }

  virtual void print(std::ostream& os) const {
    // Pour acceder au tableau comme ? une matrice
    Matrix<IntVarArray> m(carreMag, n, 4);
    for (int i = 0; i < n; i++) {
      os << "\t";
      for (int j = 0; j < 4; j++) {
        os.width(2);
        os << m(i,j) << "  ";
      }
      os << std::endl;
    }
  }

};

int main(int argc, char* argv[]) {
  SizeOptions opt("CarreMagique");
  opt.size(4);
  Script::run<CarreMagique,DFS,SizeOptions>(opt);
  return 0;
}



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131228/06bfac15/attachment.html>

From inspecteur.rick at gmail.com  Mon Dec 30 22:10:40 2013
From: inspecteur.rick at gmail.com (inspecteur)
Date: Mon, 30 Dec 2013 22:10:40 +0100
Subject: [gecode-users] Avoid the appearance of several simultaneous
	values
In-Reply-To: <004201cf03d3$cd7f2b80$687d8280$@kth.se>
References: <52B9A149.4020701@gmail.com>
	<004201cf03d3$cd7f2b80$687d8280$@kth.se>
Message-ID: <52C1E150.4010306@gmail.com>

Hi

I tried a track but that does not seem to work
I may be wrong on boolean
1 && 1  =1
1 && 0 = 0
0 && 0 = 0

1 ^ 0 = 1
0 ^ 0 = 0
1 ^ 1 = 1

Code :

IntVarArgs d1(4);
BoolVar bool1(*this,0,1);
BoolVar bool2(*this,0,1);

         for (int i = 0; i < n; i++) {
             for (int j = 0; j < 4; j++) {
                 d1[j]=tab(i,j);
             }

     // I tested if the value 3 appears at least once
        for (int j = 0; j < 4; j++) {
              bool1 = expr(*this, (d1[j]==3) ^ (bool1==1));
             }

     // I tested if the value 4 appears at least once
         for (int j = 0; j < 4; j++) {
              bool2 = expr(*this, (d1[j]==4) ^ (bool2==1));
             }

//I constrained that the two values 3 et 4 ??do not appear together
      rel(*this, (bool1 + bool2) != 1);




Le 28/12/2013 14:50, Christian Schulte a ?crit :
>
> Hi,
>
> This is not really a Gecode-specific question but a general constraint 
> modeling question, so you might want to turn elsewhere for help.
>
> Christian
>
> --
>
> Christian Schulte, www.ict.kth.se/~cschulte
>
> *From:*users-bounces at gecode.org [mailto:users-bounces at gecode.org] *On 
> Behalf Of *inspecteur
> *Sent:* Tuesday, December 24, 2013 03:59 PM
> *To:* users at gecode.org
> *Subject:* [gecode-users] Avoid the appearance of several simultaneous 
> values
>
> Hi
> Sorry for my english, I'm french and beginner on gecode.
>
> I want to create an array of integers (4 * 4) with the constraints:
> 1) Possible values?? between 1 and 6
> 2) no repeating values ??on lines
> 3) The values ??3 and 4 must not be on the same line
> 4) No more than 2 times the same value on each column
>
> I stumble on the constraint number 3)
>
> If someone couldput me on thetrack
>
>
>
> Here is my code
>
> class CarreMagique : public Script {
> private:
>   const int n;
>   IntVarArray carreMag;
>
>   public:
>   CarreMagique(const SizeOptions& opt)
>     : n(opt.size()), carreMag(*this,n*4,1,6) {
>
>     Matrix<IntVarArray> tab(carreMag, n, 4);
>     IntVarArgs d1(4);
>         for (int i = 0; i < n; i++) {
>             for (int j = 0; j < 4; j++) {
>                 d1[j]=tab(i,j);
>             }
>             distinct(*this, d1);
>         }
>
>   IntVarArgs d2(n);
>         for (int j = 0; j < 4; j++) {
>             for (int i = 0; i < n; i++) {
>                 d2[i]=tab(i,j);
>             }
>             count(*this, d2, IntSet(0,2), IntArgs::create(6,1,1));
>         }
>
>     }
>     branch(*this, carreMag, INT_VAR_NONE(), INT_VAL_SPLIT_MIN());
>   }
>
>   CarreMagique(bool share, CarreMagique& s) : Script(share,s), n(s.n) {
>     carreMag.update(*this, share, s.carreMag);
>   }
>
>   virtual Space* copy(bool share) {
>     return new CarreMagique(share,*this);
>   }
>
>   virtual void print(std::ostream& os) const {
>     // Pour acceder au tableau comme ? une matrice
>     Matrix<IntVarArray> m(carreMag, n, 4);
>     for (int i = 0; i < n; i++) {
>       os << "\t";
>       for (int j = 0; j < 4; j++) {
>         os.width(2);
>         os << m(i,j) << "  ";
>       }
>       os << std::endl;
>     }
>   }
>
> };
>
> int main(int argc, char* argv[]) {
>   SizeOptions opt("CarreMagique");
>   opt.size(4);
> Script::run<CarreMagique,DFS,SizeOptions>(opt);
>   return 0;
> }
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131230/876d60de/attachment.html>

