<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Access Violation when reading of the location
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Access%20Violation%20when%20reading%20of%20the%20location&In-Reply-To=%3C8776D8C9-7B26-4F82-BC1B-960510ED9F09%40gecode.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004254.html">
   <LINK REL="Next"  HREF="004256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Access Violation when reading of the location</H1>
    <B>Guido Tack</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Access%20Violation%20when%20reading%20of%20the%20location&In-Reply-To=%3C8776D8C9-7B26-4F82-BC1B-960510ED9F09%40gecode.org%3E"
       TITLE="[gecode-users] Access Violation when reading of the location">tack at gecode.org
       </A><BR>
    <I>Wed Dec  4 05:17:22 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="004254.html">[gecode-users] Access Violation when reading of the location
</A></li>
        <LI>Next message: <A HREF="004256.html">[gecode-users] Access Violation when reading of the location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4255">[ date ]</a>
              <a href="thread.html#4255">[ thread ]</a>
              <a href="subject.html#4255">[ subject ]</a>
              <a href="author.html#4255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You have to update gain1 in your constructor for cloning.

Cheers,
Guido

On 4 Dec 2013, at 1:08 pm, lana light &lt;<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">lanalight1989 at gmail.com</A>&gt; wrote:

&gt;<i> hi all!
</I>&gt;<i> 
</I>&gt;<i> So sorry to bother you , but  this is my first model with gecode , when i run it it gave m this errer: &quot;Access Violation when reading of the location0x0000001c&quot;
</I>&gt;<i> 
</I>&gt;<i> and the compiler redirect me to this function in int.hpp 
</I>&gt;<i> IntVarImp::RangeList::min(void) const {
</I>&gt;<i>     return _min;
</I>&gt;<i>   }
</I>&gt;<i>   here is my code : 
</I>&gt;<i> 
</I>&gt;<i> #include &lt;gecode/driver.hh&gt;
</I>&gt;<i> #include &lt;gecode/int.hh&gt;
</I>&gt;<i> #include &lt;gecode/minimodel.hh&gt;
</I>&gt;<i> #include &lt;iostream&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> #include &lt;vector&gt;
</I>&gt;<i> using namespace Gecode;
</I>&gt;<i> using namespace std;
</I>&gt;<i> class manel : public MaximizeScript {
</I>&gt;<i> protected:
</I>&gt;<i> 		 
</I>&gt;<i>   IntVar gain1;
</I>&gt;<i> 
</I>&gt;<i>   static const int n=6;//nbre des testeurs 
</I>&gt;<i>   static const int m=6;//  nbre des noeuds
</I>&gt;<i> 		IntVarArray a;
</I>&gt;<i>  
</I>&gt;<i> public:
</I>&gt;<i>   manel(void)
</I>&gt;<i> 	  : a(*this,m*n,0,1),gain1(*this,0,100000) {
</I>&gt;<i> 
</I>&gt;<i> 		Matrix &lt;IntVarArray&gt; X (a,m,n);
</I>&gt;<i> 
</I>&gt;<i> 		
</I>&gt;<i> 			vector&lt;int&gt; R1;
</I>&gt;<i> 			R1.push_back(20);R1.push_back(10);R1.push_back(15);R1.push_back(5);R1.push_back(25);R1.push_back(30);
</I>&gt;<i> 			
</I>&gt;<i> 	    vector&lt;int&gt; C1;
</I>&gt;<i> 		    C1.push_back(50);C1.push_back(30);C1.push_back(15);C1.push_back(15);C1.push_back(60);C1.push_back(20);
</I>&gt;<i>         vector&lt;int&gt; B1;
</I>&gt;<i> 		    B1.push_back(10);B1.push_back(15);B1.push_back(40);B1.push_back(50);B1.push_back(60);B1.push_back(70);
</I>&gt;<i> 
</I>&gt;<i> 		vector&lt;int&gt; Dr1;
</I>&gt;<i> 		    Dr1.push_back(1);Dr1.push_back(1);Dr1.push_back(10);Dr1.push_back(5);Dr1.push_back(15);Dr1.push_back(15);
</I>&gt;<i> 		vector&lt;int&gt; Dc1;
</I>&gt;<i> 		    Dc1.push_back(1);Dc1.push_back(2);Dc1.push_back(20);Dc1.push_back(15);Dc1.push_back(15);Dc1.push_back(15);
</I>&gt;<i> 		vector&lt;int&gt; Db1;
</I>&gt;<i> 		    Db1.push_back(1);Db1.push_back(2);Db1.push_back(10);Db1.push_back(10);Db1.push_back(20);Db1.push_back(20);
</I>&gt;<i> 		/*int g [n][m] ;
</I>&gt;<i> 			//for(unsigned int i=0; i &lt; n; ++i)
</I>&gt;<i>             // g.emplace_back(std::vector&lt;int&gt;(m));
</I>&gt;<i> 			g[0][0]=125;g[0][1]=150;g[0][2]=1;g[0][3]=0;g[0][4]=0;g[0][5]=0;
</I>&gt;<i> 			g[1][0]=125;g[1][1]=150;g[1][2]=1;g[1][3]=0;g[1][4]=0;g[1][5]=0;
</I>&gt;<i> 			g[2][0]=125;g[2][1]=150;g[2][2]=1;g[2][3]=0;g[2][4]=0;g[2][5]=0;
</I>&gt;<i> 			g[3][0]=125;g[3][1]=150;g[3][2]=1;g[3][3]=0;g[3][4]=0;g[3][5]=0;
</I>&gt;<i> 			g[4][0]=125;g[4][1]=150;g[4][2]=1;g[4][3]=0;g[4][4]=0;g[4][5]=0;
</I>&gt;<i> 			g[5][0]=125;g[5][1]=150;g[5][2]=1;g[5][3]=0;g[5][4]=0;g[5][5]=0;
</I>&gt;<i> 		/*for(int i=0; i&lt;n; i++)
</I>&gt;<i> 		{
</I>&gt;<i> 			for (int j =0; j&lt;m;j++)
</I>&gt;<i> 				g[i][j]=50;
</I>&gt;<i> 		}*/
</I>&gt;<i> 			//creation of constraints 
</I>&gt;<i> 			// ... over rows
</I>&gt;<i> 		
</I>&gt;<i> 		for ( int j=0; j&lt;n;j++)
</I>&gt;<i> 		{
</I>&gt;<i> 
</I>&gt;<i> 				linear(*this , X.row(j),IRT_EQ,1);
</I>&gt;<i> 			
</I>&gt;<i> 		}
</I>&gt;<i> 
</I>&gt;<i> 		//... over columns
</I>&gt;<i> 			
</I>&gt;<i> 		         for (int i = 0; i &lt; m; i++) {
</I>&gt;<i> 
</I>&gt;<i> 					 linear(*this, Dr1,X.col(i),IRT_LQ,R1[i]);
</I>&gt;<i> 		                                     }
</I>&gt;<i> 
</I>&gt;<i> 		        for (int i = 0; i &lt; m; i++) {
</I>&gt;<i> 		           	linear (*this, Dc1, X.col(i), IRT_LQ,C1[i]);
</I>&gt;<i> 
</I>&gt;<i> 		                                 }
</I>&gt;<i> 		
</I>&gt;<i> 		         for (int i = 0; i &lt;m; i++) {
</I>&gt;<i> 			         linear (*this, Db1, X.col(i), IRT_LQ,B1[i]);
</I>&gt;<i> 			
</I>&gt;<i> 		                           }
</I>&gt;<i> 	
</I>&gt;<i> 
</I>&gt;<i> 		
</I>&gt;<i> 				 //objectiv function
</I>&gt;<i> 				/* IntArgs res(m*n);
</I>&gt;<i> 				 IntVarArgs X1(m*n);
</I>&gt;<i> 				 IntVarArgs f(n*m);
</I>&gt;<i> 				 IntVar z;
</I>&gt;<i> 				 int count=0;
</I>&gt;<i> 				  int count1=0;
</I>&gt;<i> 				  int count2=0;
</I>&gt;<i> 				  int count3=0;
</I>&gt;<i> 				 
</I>&gt;<i>                  //for (int i=0; i&lt;n; i++)
</I>&gt;<i> 		             //{
</I>&gt;<i> 						 
</I>&gt;<i>                          //for (int j=0; j&lt;m; j++) 
</I>&gt;<i> 	            
</I>&gt;<i> 				          // {
</I>&gt;<i> 							  
</I>&gt;<i> 							/* res[0] = g[0][0];
</I>&gt;<i> 							 X1[0] = X(0,0);
</I>&gt;<i> 							  z =expr(*this,res[0]*X1[0]);
</I>&gt;<i> 							 f[0]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[1] = g[0][1];
</I>&gt;<i> 							 X1[1] = X(0,1);
</I>&gt;<i> 							  z =expr(*this,res[1]*X1[1]);
</I>&gt;<i> 							 f[1]=z;
</I>&gt;<i> 							  
</I>&gt;<i> 							  res[2] = g[0][2];
</I>&gt;<i> 							 X1[2] = X(0,2);
</I>&gt;<i> 							  z =expr(*this,res[2]*X1[2]);
</I>&gt;<i> 							 f[2]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[3] = g[0][3];
</I>&gt;<i> 							 X1[3] = X(0,3);
</I>&gt;<i> 							  z =expr(*this,res[3]*X1[3]);
</I>&gt;<i> 							 f[3]=z;
</I>&gt;<i> 
</I>&gt;<i>                              res[4] = g[0][4];
</I>&gt;<i> 							 X1[4] = X(0,4);
</I>&gt;<i> 							  z =expr(*this,res[4]*X1[4]);
</I>&gt;<i> 							 f[4]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[5] = g[0][5];
</I>&gt;<i> 							 X1[5] = X(0,5);
</I>&gt;<i> 							  z =expr(*this,res[5]*X1[5]);
</I>&gt;<i> 							 f[5]=z;
</I>&gt;<i> 							  //////////////////////////////////////////////////////
</I>&gt;<i> 							  res[6] = g[1][0];
</I>&gt;<i> 							 X1[6] = X(1,0);
</I>&gt;<i> 							  z =expr(*this,res[6]*X1[6]);
</I>&gt;<i> 							 f[6]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[7] = g[1][1];
</I>&gt;<i> 							 X1[7] = X(1,1);
</I>&gt;<i> 							  z =expr(*this,res[7]*X1[7]);
</I>&gt;<i> 							 f[7]=z;
</I>&gt;<i> 
</I>&gt;<i> 							 res[8] = g[1][2];
</I>&gt;<i> 							 X1[8] = X(1,2);
</I>&gt;<i> 							  z =expr(*this,res[8]*X1[8]);
</I>&gt;<i> 							 f[8]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[9] = g[1][3];
</I>&gt;<i> 							 X1[9] = X(1,3);
</I>&gt;<i> 							  z =expr(*this,res[9]*X1[9]);
</I>&gt;<i> 							 f[9]=z;
</I>&gt;<i> 							  
</I>&gt;<i> 							  res[10] = g[1][4];
</I>&gt;<i> 							 X1[10] = X(1,4);
</I>&gt;<i> 							  z =expr(*this,res[10]*X1[10]);
</I>&gt;<i> 							 f[10]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[11] = g[1][5];
</I>&gt;<i> 							 X1[11] = X(1,5);
</I>&gt;<i> 							  z =expr(*this,res[11]*X1[11]);
</I>&gt;<i> 							 f[11]=z;
</I>&gt;<i> 							 ///////////////////////////////////////////////////////////////////////
</I>&gt;<i> 							 res[12] = g[2][0];
</I>&gt;<i> 							 X1[12] = X(2,0);
</I>&gt;<i> 							  z =expr(*this,res[12]*X1[12]);
</I>&gt;<i> 							 f[12]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[13] = g[2][1];
</I>&gt;<i> 							 X1[13] = X(2,1);
</I>&gt;<i> 							  z =expr(*this,res[13]*X1[13]);
</I>&gt;<i> 							 f[13]=z;
</I>&gt;<i> 							  
</I>&gt;<i> 							  res[14] = g[2][2];
</I>&gt;<i> 							 X1[14] = X(2,2);
</I>&gt;<i> 							  z =expr(*this,res[14]*X1[14]);
</I>&gt;<i> 							 f[14]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[15] = g[2][3];
</I>&gt;<i> 							 X1[15] = X(2,3);
</I>&gt;<i> 							  z =expr(*this,res[15]*X1[15]);
</I>&gt;<i> 							 f[15]=z;
</I>&gt;<i> 
</I>&gt;<i> 							 res[16] = g[2][4];
</I>&gt;<i> 							 X1[16] = X(2,4);
</I>&gt;<i> 							  z =expr(*this,res[16]*X1[16]);
</I>&gt;<i> 							 f[16]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[17] = g[2][5];
</I>&gt;<i> 							 X1[17] = X(2,5);
</I>&gt;<i> 							  z =expr(*this,res[17]*X1[17]);
</I>&gt;<i> 							 f[17]=z;
</I>&gt;<i> 							  /////////////////////////////////////////////////////////////
</I>&gt;<i> 							  res[18] = g[3][0];
</I>&gt;<i> 							 X1[18] = X(3,0);
</I>&gt;<i> 							  z =expr(*this,res[18]*X1[18]);
</I>&gt;<i> 							 f[18]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[19] = g[3][1];
</I>&gt;<i> 							 X1[19] = X(3,1);
</I>&gt;<i> 							  z =expr(*this,res[19]*X1[19]);
</I>&gt;<i> 							 f[19]=z;
</I>&gt;<i> 
</I>&gt;<i> 							 res[20] = g[3][2];
</I>&gt;<i> 							 X1[20] = X(3,2);
</I>&gt;<i> 							  z =expr(*this,res[20]*X1[20]);
</I>&gt;<i> 							 f[20]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[21] = g[3][3];
</I>&gt;<i> 							 X1[21] = X(3,3);
</I>&gt;<i> 							  z =expr(*this,res[21]*X1[21]);
</I>&gt;<i> 							 f[21]=z;
</I>&gt;<i> 							  
</I>&gt;<i> 							  res[22] = g[3][4];
</I>&gt;<i> 							 X1[22] = X(3,4);
</I>&gt;<i> 							  z =expr(*this,res[22]*X1[22]);
</I>&gt;<i> 							 f[22]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[23] = g[3][5];
</I>&gt;<i> 							 X1[23] = X(3,5);
</I>&gt;<i> 							  z =expr(*this,res[23]*X1[23]);
</I>&gt;<i> 							 f[23]=z;
</I>&gt;<i> 							 //////////////////////////////////////////////////////////////////////
</I>&gt;<i> 							 res[24] = g[4][0];
</I>&gt;<i> 							 X1[24] = X(4,0);
</I>&gt;<i> 							  z =expr(*this,res[24]*X1[24]);
</I>&gt;<i> 							 f[24]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[25] = g[4][1];
</I>&gt;<i> 							 X1[25] = X(4,1);
</I>&gt;<i> 							  z =expr(*this,res[25]*X1[25]);
</I>&gt;<i> 							 f[25]=z;
</I>&gt;<i> 							  
</I>&gt;<i> 							  res[26] = g[4][2];
</I>&gt;<i> 							 X1[26] = X(4,2);
</I>&gt;<i> 							  z =expr(*this,res[26]*X1[26]);
</I>&gt;<i> 							 f[26]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[27] = g[4][3];
</I>&gt;<i> 							 X1[27] = X(4,3);
</I>&gt;<i> 							  z =expr(*this,res[27]*X1[27]);
</I>&gt;<i> 							 f[27]=z;
</I>&gt;<i> 
</I>&gt;<i> 							 res[28] = g[4][4];
</I>&gt;<i> 							 X1[28] = X(4,4);
</I>&gt;<i> 							  z =expr(*this,res[28]*X1[28]);
</I>&gt;<i> 							 f[28]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[29] = g[4][5];
</I>&gt;<i> 							 X1[29] = X(4,5);
</I>&gt;<i> 							  z =expr(*this,res[29]*X1[29]);
</I>&gt;<i> 							 f[29]=z;
</I>&gt;<i> 							  ///////////////////////////////////////////////////
</I>&gt;<i> 							  res[30] = g[5][0];
</I>&gt;<i> 							 X1[30] = X(5,0);
</I>&gt;<i> 							  z =expr(*this,res[30]*X1[30]);
</I>&gt;<i> 							 f[30]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[31] = g[5][1];
</I>&gt;<i> 							 X1[31] = X(5,1);
</I>&gt;<i> 							  z =expr(*this,res[31]*X1[31]);
</I>&gt;<i> 							 f[31]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[32] = g[5][2];
</I>&gt;<i> 							 X1[32] = X(5,2);
</I>&gt;<i> 							  z =expr(*this,res[32]*X1[32]);
</I>&gt;<i> 							 f[32]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[33] = g[5][3];
</I>&gt;<i> 							 X1[33] = X(5,3);
</I>&gt;<i> 							  z =expr(*this,res[33]*X1[33]);
</I>&gt;<i> 							 f[33]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[34] = g[5][4];
</I>&gt;<i> 							 X1[34] = X(5,4);
</I>&gt;<i> 							  z =expr(*this,res[34]*X1[34]);
</I>&gt;<i> 							 f[34]=z;
</I>&gt;<i> 
</I>&gt;<i> 							  res[35] = g[5][5];
</I>&gt;<i> 							 X1[35] = X(5,5);
</I>&gt;<i> 							  z =expr(*this,res[35]*X1[35]);
</I>&gt;<i> 							 f[35]=z;
</I>&gt;<i> 
</I>&gt;<i> 			              // }
</I>&gt;<i> 						// res1=res*X1;
</I>&gt;<i> 						 
</I>&gt;<i> 		             //}
</I>&gt;<i> 				 
</I>&gt;<i> 			// constraint over the objective function	 
</I>&gt;<i> 		 
</I>&gt;<i> 		 
</I>&gt;<i> 		//  linear(*this, f, IRT_EQ, gain);*/
</I>&gt;<i> 		
</I>&gt;<i> 		  //Branching
</I>&gt;<i>         branch(*this, a, INT_VAR_SIZE_MAX(), INT_VAL_MAX());
</I>&gt;<i> 
</I>&gt;<i>   }
</I>&gt;<i>     
</I>&gt;<i>   virtual IntVar cost(void) const {
</I>&gt;<i>     return gain1;
</I>&gt;<i>   }
</I>&gt;<i>   /// Print solution
</I>&gt;<i>   virtual void print(void) const {
</I>&gt;<i>    std::cout &lt;&lt; a &lt;&lt; std::endl;
</I>&gt;<i> 	
</I>&gt;<i> 	 
</I>&gt;<i>   }
</I>&gt;<i>   // Constructor for cloning \a s
</I>&gt;<i>   manel(bool share, manel&amp; s)
</I>&gt;<i>     : MaximizeScript(share,s) {
</I>&gt;<i>    // gain.update(*this, share, s.gain);
</I>&gt;<i> 	a.update(*this, share, s.a);
</I>&gt;<i>   }
</I>&gt;<i>   // Copy during cloning
</I>&gt;<i>   virtual Space* copy(bool share) {
</I>&gt;<i>     return new manel(share,*this);
</I>&gt;<i>   }
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> };
</I>&gt;<i> 
</I>&gt;<i> int main(int argc, char* argv[]) {
</I>&gt;<i> 	  manel* m = new manel;
</I>&gt;<i>    if (manel* s = bab(m)) {
</I>&gt;<i>      s-&gt;print(); delete s; //Or whatever
</I>&gt;<i> }
</I>&gt;<i>  
</I>&gt;<i>   system(&quot;pause&quot;);
</I>&gt;<i>   return 0;
</I>&gt;<i> }
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> i really don't know where do i have the error and how to fix it 
</I>&gt;<i> 
</I>&gt;<i> Tha,k you very much for your help 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gecode users mailing list
</I>&gt;<i> <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;<i> <A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://www.gecode.org/pipermail/users/attachments/20131204/66043784/attachment-0001.html">http://www.gecode.org/pipermail/users/attachments/20131204/66043784/attachment-0001.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004254.html">[gecode-users] Access Violation when reading of the location
</A></li>
	<LI>Next message: <A HREF="004256.html">[gecode-users] Access Violation when reading of the location
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4255">[ date ]</a>
              <a href="thread.html#4255">[ thread ]</a>
              <a href="subject.html#4255">[ subject ]</a>
              <a href="author.html#4255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
