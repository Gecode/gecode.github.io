From cschulte at kth.se  Mon Jul  1 16:28:21 2013
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 1 Jul 2013 16:28:21 +0200
Subject: [gecode-users] Symmetries, activity branching,
	and graph coloring
In-Reply-To: <692E605C-B0A7-462A-9541-092D759FE941@gmail.com>
References: <A7055490-CC02-474D-B3B9-9D2348A6809D@gmail.com>
	<003601ce519a$ce0cc580$6a265080$@kth.se>
	<004b01ce519b$55ee1490$01ca3db0$@kth.se>
	<6CAD731B-3770-4DF0-B6CB-13E7BB3E5D1A@gmail.com>
	<031601ce57ce$0d3db370$27b91a50$@kth.se>
	<692E605C-B0A7-462A-9541-092D759FE941@gmail.com>
Message-ID: <006601ce7667$3dc17240$b94456c0$@kth.se>

Hi Stefano,

Cool. One question: did you try restarts? That should help. A lot! (the next
version of Gecode 4.2.0 will even have no-goods from restarts...)

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


> -----Original Message-----
> From: Stefano Gualandi [mailto:stefano.gualandi at gmail.com]
> Sent: Friday, June 28, 2013 10:27 PM
> To: cschulte at kth.se
> Subject: Re: [gecode-users] Symmetries, activity branching, and graph
coloring
> 
> Finally, I have posted about Graph Coloring, Gecode and LDBS:
> 
> http://stegua.github.io/blog/2013/06/28/gecol/
> 
> cheers,
> Stefano
> 
> 
> 
> 
> On May 23, 2013, at 5:56 PM, Christian Schulte <cschulte at kth.se> wrote:
> 
> > Brilliant, thanks! Of course, you are contributing author, you even
helped me a
> lot in getting the bug fixed!
> >
> > Thanks
> > Christian
> >
> > --
> > Christian Schulte, Professor of Computer Science, KTH,
> > www.ict.kth.se/~cschulte/
> >
> >
> > From: Stefano Gualandi [mailto:stefano.gualandi at gmail.com]
> > Sent: Thursday, May 23, 2013 11:36 AM
> > To: Christian Schulte
> > Subject: Re: [gecode-users] Symmetries, activity branching, and graph
> > coloring
> >
> > Everything works as a charm now, thanks!
> > (I have tested my own script with 135 DIMACS graph coloring instances)
> >
> > > Oh, btw: if you want me to add your modification of the example to
Gecode,
> I'll do that, provided you:
> > > -        Add yourself as contributing author.
> > > -     Make it controllable from the commandline whether to use LDSB or
not.
> >
> > The modified gecode graph coloring example is attached, with a command
> > line option for using LDSB, and restricting the color domains in {0,.,
> > g.n_v-1}  :-)
> >
> > Regarding adding myself as a contributing author, it is up to you, my
> contribution is so *microscopic*.
> > As you like.
> >
> > cheers,
> > Stefano
> >
> >
> >
> >
> > On May 15, 2013, at 8:38 PM, Christian Schulte <cschulte at kth.se> wrote:
> >
> > >
> > > Cheers
> > > Christian
> > >
> > >
> > > --
> > > Christian Schulte, www.ict.kth.se/~cschulte/
> > >
> > > From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> > > Behalf Of Christian Schulte
> > > Sent: Wednesday, May 15, 2013 8:34 PM
> > > To: 'Stefano Gualandi'; users at gecode.org
> > > Subject: Re: [gecode-users] Symmetries, activity branching, and
> > > graph coloring
> > >
> > > Hi Stefano,
> > >
> > > Yes, that should be symmetric. The bug was a missing initialization
and is
> now fixed in the trunk.
> > >
> > > I also attached a patch
> > >
> > > Thanks a lot!
> > > Christian
> > >
> > > --
> > > Christian Schulte, www.ict.kth.se/~cschulte/
> > >
> > > From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> > > Behalf Of Stefano Gualandi
> > > Sent: Wednesday, May 15, 2013 6:04 PM
> > > To: users at gecode.org
> > > Subject: [gecode-users] Symmetries, activity branching, and graph
> > > coloring
> > >
> > > Hi,
> > > the new Lightweight Dynamic Symmetry Breaking could be used also for
> > > the graph coloring example, since the color values are symmetric,
right?
> > >
> > > Something like (referring to gecode/example/graph-color.cpp)
> > >
> > >     Symmetries syms;
> > >     syms << ValueSymmetry(IntArgs::create(g.n_v,0));
> > >     [.]
> > >     branch(*this, v, INT_VAR_SIZE_MIN(), INT_VAL_MIN(), syms);
> > >
> > > If the answer is "no", forget about the remaining of this email  :-)
> > >
> > >
> > >
> > > If the answer is "yes", then there is something wrong when using
> > > symmetry breaking together with an activity based branching as:
> > >
> > >         branch(*this, v, INT_VAR_ACTIVITY_SIZE_MAX(opt.decay()),
> > > INT_VAL_MIN(), sums);
> > >
> > > Since the example gives "seg fault". I have tried all the variable
> > > selection strategies, but only those based on the "activity" have this
issue.
> > >
> > > You can find attached a modified graph-color.cpp example that
> > > exposes the problem (with an additional option for the activity-based
> branching):
> > >
> > > ./examples/graph-color -branching sizeact
> > >
> > > Thanks in advance,
> > > cheers,
> > > Stefano
> > >
> > > _______________________________________________
> > > Gecode users mailing list
> > > users at gecode.org
> > > https://www.gecode.org/mailman/listinfo/gecode-users
> >




From tack at gecode.org  Wed Jul  3 05:41:24 2013
From: tack at gecode.org (Guido Tack)
Date: Wed, 3 Jul 2013 13:41:24 +1000
Subject: [gecode-users] Gecode 4.1.0 released
Message-ID: <6D95BCB6-9DAB-4A91-9F7F-ACB3026158ED@gecode.org>

Dear all,

we are releasing the next version of Gecode:

                          Gecode 4.1.0
                 http://www.gecode.org

This release adds a really useful feature and the required
infrastructure to Gist (it now can show information on the
alternatives in a search tree), has some new features, and fixes
quite a number of bugs (some of which are quite serious, in
particular for: LDSB, restart-based search, and FlatZinc).

On our web site, you find source packages, binary packages for Windows and Mac OS, and the full documentation.

Cheers,
Guido



From victor.zverovich at gmail.com  Wed Jul  3 16:40:56 2013
From: victor.zverovich at gmail.com (victor.zverovich at gmail.com)
Date: Wed, 3 Jul 2013 07:40:56 -0700
Subject: [gecode-users] patch for CMakeLists.txt fixing a link error on MSVC
Message-ID: <CANawtxYN591zu=xcKaRPFDJyXt01tgGRNJYJkzeQEkonF+MC2A@mail.gmail.com>

Hi,

Please find attached a small patch for CMakeLists.txt that fixes a link
error when building with MSVC++.

Thanks,
Victor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/89e0d40d/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Fix-a-link-error-on-MSVC..patch
Type: application/octet-stream
Size: 630 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/89e0d40d/attachment.obj>

From cschulte at kth.se  Wed Jul  3 17:00:24 2013
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 3 Jul 2013 17:00:24 +0200
Subject: [gecode-users] patch for CMakeLists.txt fixing a link error on
	MSVC
In-Reply-To: <CANawtxYN591zu=xcKaRPFDJyXt01tgGRNJYJkzeQEkonF+MC2A@mail.gmail.com>
References: <CANawtxYN591zu=xcKaRPFDJyXt01tgGRNJYJkzeQEkonF+MC2A@mail.gmail.com>
Message-ID: <00d601ce77fe$0c220e00$24662a00$@se>

Thanks, committed to the trunk. Best Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of victor.zverovich at gmail.com
Sent: Wednesday, July 03, 2013 4:41 PM
To: users at gecode.org
Subject: [gecode-users] patch for CMakeLists.txt fixing a link error on MSVC

 

Hi,

 

Please find attached a small patch for CMakeLists.txt that fixes a link
error when building with MSVC++.

 

Thanks,

Victor

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/7a4e548a/attachment.html>

From farshid.hassani at gmail.com  Wed Jul  3 22:11:12 2013
From: farshid.hassani at gmail.com (Farshid Hassani Bijarbooneh)
Date: Wed, 3 Jul 2013 22:11:12 +0200
Subject: [gecode-users] Construct a variables of a model with variables from
	another model
References: <D4AFD980-33E4-4084-876A-8D0A5E20E0BC@gmail.com>
Message-ID: <A7A7A662-AC5B-43D0-82FF-63739BD05005@gmail.com>

Hi,

I have two Gecode models and in one (say class A) I create variables and I want the variables in the other class (say class B) be initialised with the domains of a subset of  variables from class A. This is similar to the 'kakuro.cpp' case study example in MPG with one difference that I want to initialise those variables in class B to take the exact domain as the variables passed from class A. I know this is possible by passing an array of IntSet and a Dom constraint to propagate the domains of the variables in class B, but I wanted to directly use the constructor of the IntVarArray:
IntVarArray (Space &home, const IntVarArgs &a)
Initialize from integer variable argument array a (copy elements). 
 
I attached a minimal example 'test.cpp' to demonstrate this problem. In the attached example class A is called PassVar and class B is called DistinctTest. The example finds the solutions to the model of class DistinctTest but it fails at class PassVar by throwing a segmentation fault, and I don't see why that is the case. If I remove the distinct constraint in class DistinctTest then both classes can successfully find all the solutions. According to Gecode reference initialising an IntVarArray with (Space &home, const IntVarArgs &a) should only initialise the new variables by copying the elements, but I think this might not to be the case here. Can you please have a look at the code and let me know if I'm doing something wrong here.



Best regards,
Farshid

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/7df3a40c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.cpp
Type: application/octet-stream
Size: 1752 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/7df3a40c/attachment.obj>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/7df3a40c/attachment-0001.html>

From askri.manel1 at gmail.com  Wed Jul  3 23:59:42 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Wed, 3 Jul 2013 22:59:42 +0100
Subject: [gecode-users] how to convert a choco constraint to gecode
	constraint
Message-ID: <CAKWqT4CgE7fDDSmjZnZg4cMU8w1TTr2+JwM7XxE-3FG_Ezxozg@mail.gmail.com>

hi !

i have to convert a constraint which was written with choco solvor , choco
works with java , so i have this line code which didn't undrestand how to
code it with gecode

the code line is :

sumConstraints.add(Choco.eq(somme, Choco.sum(rowArray)));

sumConstraints: is an array list of Constaints
somme :is an IntegerVariable
rowArray : is IntVarArgs

i did read the MPG but i didnt find some thing like that

could any one help me please

thanks very much
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/111683a3/attachment.html>

From askri.manel1 at gmail.com  Thu Jul  4 00:35:44 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Wed, 3 Jul 2013 23:35:44 +0100
Subject: [gecode-users] affect an IntVarArgs to an integer
Message-ID: <CAKWqT4AixF5zOph-wUppsZ7daTAeqZ=8q3NjN42gP7YaQzt+Lg@mail.gmail.com>

hi

i have a problem with rel
first i want to know the sum of all integers in an IntVarArgs that whay i
use : sum(rowArray), and rowArray is an IntVarArgs

but when i want to create a constraint that oblige the sum(rowArray) to be
equal to an IntVar , i wrote this line of code

rel (*this, sum(rowArray),IRT_EQ, v2);

that shows me an error and i dont konw how to solve it , i thought that if
i can affect the result of the sum to an integer variable it could be a
solution but i don't know how to do it

So please if any one have any help for me thanks very much
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130703/c40a0258/attachment.html>

From askri.manel1 at gmail.com  Thu Jul  4 04:20:46 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Thu, 4 Jul 2013 03:20:46 +0100
Subject: [gecode-users] generation of a solution with success but no display
	at the console
Message-ID: <CAKWqT4C3Z9sa905F65M2o34254-tcYoT4NntmDZQ+Xero2M5wg@mail.gmail.com>

hi every one!

i m new with gecode and this is my first model, it consists in displaying
the following result :

2 19 22 12 10
 11 13 18 17  6
 21 16  1  7 20
  8 14 15 24  4
 23  3  9  5 25
CSTE_65:65

so this is my code :
#include <gecode/int.hh>
#include <gecode/driver.hh>
#include <gecode/minimodel.hh>
#include <gecode/search.hh>

using namespace Gecode;

class E1 : public Space {
private :
 static const int n =5;
protected:

IntVarArray v1;

IntVar v2;

public:

E1(void) : v1(*this, n*n,1,n*n), v2(*this,n*(n*n+1)/2,n*(n*n+1)/2){
 distinct (*this, v1);
    IntVarArgs rowArray  (*this,n , 1, n);
    IntVarArgs  colArray  (*this,n , 1, n);
IntVarArgs diag1Array (*this,n , 1, n);
IntVarArgs diag2Array (*this,n , 1, n);

 //IntVarArgs sumConstraints ;

for (int i =0; i<n;i++)
{
for (int j=0; j<n; j++)
{
rowArray[j]= v1[i*n+1];
colArray[j]= v1[j*n+1];
}
 // rel (*this, sum(rowArray),IRT_EQ, v2);
      //  rel ( *this , sum(colArray), IRT_EQ ,v2);

    linear( *this , rowArray, IRT_EQ, v2);
linear( *this , colArray, IRT_EQ, v2);
diag1Array[i]=v1[i * n + i];
diag2Array[i]= v1[i*n+n-i-1];
}

//rel(*this , sum(diag1Array), IRT_EQ,v2);
//rel(*this, sum(diag2Array), IRT_EQ,v2);

 linear( *this , diag1Array, IRT_EQ, v2);
linear( *this , diag2Array, IRT_EQ, v2);


// post branching
branch(*this, v1, INT_VAR_SIZE_MIN(), INT_VAL_MIN());

}
       // search support
E1(bool share, E1& s) : Space(share, s) {
v1.update(*this, share, s.v1);
 }

virtual Space* copy(bool share) {
        return new E1(share,*this);
}

// print solution
void print(void) const  {
for(int i = 0; i < n; i++) {
for(int j = 0; j < n; j++) {
 v1[i * n + j];
 std::cout << v1[i * n + j] << std::endl;
                                       }
                         }
                           }

};
// main function
int main(int argc, char* argv[]) {
  // create model and search engine
  E1* m = new E1;
  DFS<E1> e(m);
  delete m;
   // search and print all solutions
  while (E1* s = e.next()) {
    s->print(); delete s;
  }
  return 0;
}

my problem is that when i generat the solution i do it successfly but when
i use the command prompt to execute the executable the console displays
nothing
so please if any one have any idea obout this i will be so greatful

thanks very much for any help

ASKRI Manel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130704/6130a608/attachment-0001.html>

From jean-noel.monette at it.uu.se  Thu Jul  4 10:01:49 2013
From: jean-noel.monette at it.uu.se (=?iso-8859-1?b?SmVhbi1Ob+ts?= Monette)
Date: Thu, 04 Jul 2013 10:01:49 +0200
Subject: [gecode-users] affect an IntVarArgs to an integer
In-Reply-To: <CAKWqT4AixF5zOph-wUppsZ7daTAeqZ=8q3NjN42gP7YaQzt+Lg@mail.gmail.com>
References: <CAKWqT4AixF5zOph-wUppsZ7daTAeqZ=8q3NjN42gP7YaQzt+Lg@mail.gmail.com>
Message-ID: <20130704100149.20787kmv1oqpjgml@webmail.uu.se>

Hi,

I think that if you provide the exact error you encoutered and if you  
give a slightly more complete example (e.g. including how you  
initialise rowArray and v2), people could more easily help you.

Best,

JN

manel askri <askri.manel1 at gmail.com> a ?crit?:

> hi
>
> i have a problem with rel
> first i want to know the sum of all integers in an IntVarArgs that whay i
> use : sum(rowArray), and rowArray is an IntVarArgs
>
> but when i want to create a constraint that oblige the sum(rowArray) to be
> equal to an IntVar , i wrote this line of code
>
> rel (*this, sum(rowArray),IRT_EQ, v2);
>
> that shows me an error and i dont konw how to solve it , i thought that if
> i can affect the result of the sum to an integer variable it could be a
> solution but i don't know how to do it
>
> So please if any one have any help for me thanks very much
>





From cschulte at kth.se  Thu Jul  4 10:14:52 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 4 Jul 2013 10:14:52 +0200
Subject: [gecode-users] generation of a solution with success but no
	display	at the console
In-Reply-To: <CAKWqT4C3Z9sa905F65M2o34254-tcYoT4NntmDZQ+Xero2M5wg@mail.gmail.com>
References: <CAKWqT4C3Z9sa905F65M2o34254-tcYoT4NntmDZQ+Xero2M5wg@mail.gmail.com>
Message-ID: <00ed01ce788e$8f52cae0$adf860a0$@se>

Please read MPG, at least the introductory material (especially Chapter 3
answers your question). This mailing list assumes that you read the
documentation and not that it is being spoon-fed to you on the users mailing
list.

 

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of manel askri
Sent: Thursday, July 04, 2013 4:21 AM
To: users at gecode.org; users-request at gecode.org; users-owner at gecode.org
Subject: [gecode-users] generation of a solution with success but no display
at the console

 

hi every one!

 

i m new with gecode and this is my first model, it consists in displaying
the following result :

 

2 19 22 12 10

 11 13 18 17  6

 21 16  1  7 20

  8 14 15 24  4

 23  3  9  5 25

CSTE_65:65 

 

so this is my code :

#include <gecode/int.hh>

#include <gecode/driver.hh>

#include <gecode/minimodel.hh>

#include <gecode/search.hh>

 

using namespace Gecode;

 

class E1 : public Space {

private :

            

            static const int n =5;

protected:

 

            IntVarArray v1;

 

            IntVar v2;

 

public:

 

            E1(void) : v1(*this, n*n,1,n*n),
v2(*this,n*(n*n+1)/2,n*(n*n+1)/2){

                        

                        distinct (*this, v1);

               IntVarArgs   rowArray  (*this,n , 1, n);

               IntVarArgs  colArray  (*this,n , 1, n);

                        IntVarArgs diag1Array (*this,n , 1, n);

                        IntVarArgs diag2Array (*this,n , 1, n);

 

                        

                        

                        //IntVarArgs sumConstraints ;

 

                        for (int i =0; i<n;i++)

                        {

                                    for (int j=0; j<n; j++)

                                    {

                                                rowArray[j]= v1[i*n+1];

                                                colArray[j]= v1[j*n+1];

                                    }

            

            //          rel (*this, sum(rowArray),IRT_EQ, v2);

      //  rel ( *this , sum(colArray), IRT_EQ ,v2);

 

               linear( *this , rowArray, IRT_EQ, v2);

                        linear( *this , colArray, IRT_EQ, v2);

                        diag1Array[i]=v1[i * n + i];

                        diag2Array[i]= v1[i*n+n-i-1];

                        }

 

                        //rel(*this , sum(diag1Array), IRT_EQ,v2);

                        //rel(*this, sum(diag2Array), IRT_EQ,v2);

 

            

                        linear( *this , diag1Array, IRT_EQ, v2);

                        linear( *this , diag2Array, IRT_EQ, v2);

 

 

                        // post branching

                        branch(*this, v1, INT_VAR_SIZE_MIN(),
INT_VAL_MIN());

 

            }

       // search support

                        E1(bool share, E1& s) : Space(share, s) {

                                    v1.update(*this, share, s.v1);

                                    

                        }

 

                        virtual Space* copy(bool share) {

        return new E1(share,*this);

                        }

 

                        // print solution

                        void print(void) const  {

                                    for(int i = 0; i < n; i++) {

                                    for(int j = 0; j < n; j++) {

                                                v1[i * n + j];

                                                std::cout << v1[i * n + j]
<< std::endl;

            

                                       }

                                                            }

                                      }

 

};

// main function

int main(int argc, char* argv[]) {

  // create model and search engine

  E1* m = new E1;

  DFS<E1> e(m);

  delete m;

   // search and print all solutions

  while (E1* s = e.next()) {

    s->print(); delete s;

  }

  return 0;

}

 

my problem is that when i generat the solution i do it successfly but when i
use the command prompt to execute the executable the console displays
nothing

so please if any one have any idea obout this i will be so greatful 

 

thanks very much for any help

 

ASKRI Manel

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130704/6f3f862e/attachment.html>

From cschulte at kth.se  Thu Jul  4 10:15:44 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 4 Jul 2013 10:15:44 +0200
Subject: [gecode-users] affect an IntVarArgs to an integer
In-Reply-To: <20130704100149.20787kmv1oqpjgml@webmail.uu.se>
References: <CAKWqT4AixF5zOph-wUppsZ7daTAeqZ=8q3NjN42gP7YaQzt+Lg@mail.gmail.com>
	<20130704100149.20787kmv1oqpjgml@webmail.uu.se>
Message-ID: <00fb01ce788e$ae8e65e0$0bab31a0$@se>

Read MPG, IRT_EQ must be ==. Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Jean-No?l Monette
Sent: Thursday, July 04, 2013 10:02 AM
To: users at gecode.org
Subject: Re: [gecode-users] affect an IntVarArgs to an integer

Hi,

I think that if you provide the exact error you encoutered and if you give a
slightly more complete example (e.g. including how you initialise rowArray
and v2), people could more easily help you.

Best,

JN

manel askri <askri.manel1 at gmail.com> a ?crit?:

> hi
>
> i have a problem with rel
> first i want to know the sum of all integers in an IntVarArgs that 
> whay i use : sum(rowArray), and rowArray is an IntVarArgs
>
> but when i want to create a constraint that oblige the sum(rowArray) 
> to be equal to an IntVar , i wrote this line of code
>
> rel (*this, sum(rowArray),IRT_EQ, v2);
>
> that shows me an error and i dont konw how to solve it , i thought 
> that if i can affect the result of the sum to an integer variable it 
> could be a solution but i don't know how to do it
>
> So please if any one have any help for me thanks very much
>




_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Thu Jul  4 10:20:10 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 4 Jul 2013 10:20:10 +0200
Subject: [gecode-users] Construct a variables of a model with variables
	from	another model
In-Reply-To: <A7A7A662-AC5B-43D0-82FF-63739BD05005@gmail.com>
References: <D4AFD980-33E4-4084-876A-8D0A5E20E0BC@gmail.com>
	<A7A7A662-AC5B-43D0-82FF-63739BD05005@gmail.com>
Message-ID: <010901ce788f$4d2d3d70$e787b850$@se>

Hi,

 

Your idea does not work: passing an IntVarArgs to an IntVarArray makes a
copy of the array but not of the variables.

 

What you can do, though, is: (a) create an IntVarArray of the right size and
with variables from Int::Limits::min to Int::Limits::max (b) use a dom
function that can constraint a variable to the domain of some other variable
(this is new in 4.*, check MPG).

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Farshid Hassani Bijarbooneh
Sent: Wednesday, July 03, 2013 10:11 PM
To: users at gecode.org
Subject: [gecode-users] Construct a variables of a model with variables from
another model

 

Hi,

 

I have two Gecode models and in one (say class A) I create variables and I
want the variables in the other class (say class B) be initialised with the
domains of a subset of  variables from class A. This is similar to the
'kakuro.cpp' case study example in MPG with one difference that I want to
initialise those variables in class B to take the exact domain as the
variables passed from class A. I know this is possible by passing an array
of IntSet and a Dom constraint to propagate the domains of the variables in
class B, but I wanted to directly use the constructor of the IntVarArray:

IntVarArray (Space &home, const IntVarArgs &a)

Initialize from integer variable argument array a (copy elements). 

 

I attached a minimal example 'test.cpp' to demonstrate this problem. In the
attached example class A is called PassVar and class B is called
DistinctTest. The example finds the solutions to the model of class
DistinctTest but it fails at class PassVar by throwing a segmentation fault,
and I don't see why that is the case. If I remove the distinct constraint in
class DistinctTest then both classes can successfully find all the
solutions. According to Gecode reference initialising an IntVarArray with (
<file:///\\Users\farshidhassanibijarbooneh\Downloads\gecode-doc-4.0.0\classG
ecode_1_1Space.html> Space &home, const
<file:///\\Users\farshidhassanibijarbooneh\Downloads\gecode-doc-4.0.0\classG
ecode_1_1IntVarArgs.html> IntVarArgs &
<file:///\\Users\farshidhassanibijarbooneh\Downloads\gecode-doc-4.0.0\set-ex
pr_8cpp.html#ab4e3456f754f4608a3d7f4c5de43a6a5> a) should only initialise
the new variables by copying the elements, but I think this might not to be
the case here. Can you please have a look at the code and let me know if I'm
doing something wrong here.

 

 

Best regards,

Farshid

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130704/e32991c3/attachment.html>

From cschulte at kth.se  Thu Jul  4 10:21:25 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 4 Jul 2013 10:21:25 +0200
Subject: [gecode-users] how to convert a choco constraint to
	gecode	constraint
In-Reply-To: <CAKWqT4CgE7fDDSmjZnZg4cMU8w1TTr2+JwM7XxE-3FG_Ezxozg@mail.gmail.com>
References: <CAKWqT4CgE7fDDSmjZnZg4cMU8w1TTr2+JwM7XxE-3FG_Ezxozg@mail.gmail.com>
Message-ID: <012301ce788f$796a2920$6c3e7b60$@se>

Try harder reading! The constraint is called linear.

 

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of manel askri
Sent: Thursday, July 04, 2013 12:00 AM
To: users at gecode.org; users-request at gecode.org
Subject: [gecode-users] how to convert a choco constraint to gecode
constraint

 

hi !

 

i have to convert a constraint which was written with choco solvor , choco
works with java , so i have this line code which didn't undrestand how to
code it with gecode 

 

the code line is : 

 

sumConstraints.add(Choco.eq(somme, Choco.sum(rowArray)));

 

sumConstraints: is an array list of Constaints 

somme :is an IntegerVariable 

rowArray : is IntVarArgs

 

i did read the MPG but i didnt find some thing like that 

 

could any one help me please 

 

thanks very much 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130704/4d25d378/attachment.html>

From cschulte at kth.se  Thu Jul  4 10:22:07 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 4 Jul 2013 10:22:07 +0200
Subject: [gecode-users] how to convert a choco constraint to
	gecode	constraint
In-Reply-To: <CAKWqT4CgE7fDDSmjZnZg4cMU8w1TTr2+JwM7XxE-3FG_Ezxozg@mail.gmail.com>
References: <CAKWqT4CgE7fDDSmjZnZg4cMU8w1TTr2+JwM7XxE-3FG_Ezxozg@mail.gmail.com>
Message-ID: <013101ce788f$928ec690$b7ac53b0$@se>

Please do not post to users-request at ... only to users at ...

 

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of manel askri
Sent: Thursday, July 04, 2013 12:00 AM
To: users at gecode.org; users-request at gecode.org
Subject: [gecode-users] how to convert a choco constraint to gecode
constraint

 

hi !

 

i have to convert a constraint which was written with choco solvor , choco
works with java , so i have this line code which didn't undrestand how to
code it with gecode 

 

the code line is : 

 

sumConstraints.add(Choco.eq(somme, Choco.sum(rowArray)));

 

sumConstraints: is an array list of Constaints 

somme :is an IntegerVariable 

rowArray : is IntVarArgs

 

i did read the MPG but i didnt find some thing like that 

 

could any one help me please 

 

thanks very much 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130704/950a39c4/attachment.html>

From Vincent.Barichard at univ-angers.fr  Thu Jul  4 10:22:50 2013
From: Vincent.Barichard at univ-angers.fr (Vincent Barichard)
Date: Thu, 4 Jul 2013 10:22:50 +0200
Subject: [gecode-users] generation of a solution with success but no
 display at the console
In-Reply-To: <00ed01ce788e$8f52cae0$adf860a0$@se>
References: <CAKWqT4C3Z9sa905F65M2o34254-tcYoT4NntmDZQ+Xero2M5wg@mail.gmail.com>
	<00ed01ce788e$8f52cae0$adf860a0$@se>
Message-ID: <CAF6ZHen20BTUTt=vxOduzC4gypx9y0BdnW4OHy_LOF_EtGFimg@mail.gmail.com>

You should read the files in the "examples" directory.
By making your example inherits from Script, you see that it has no
solution.
See the test.cpp attached file.

Vincent


2013/7/4 Christian Schulte <cschulte at kth.se>

> Please read MPG, at least the introductory material (especially Chapter 3
> answers your question). This mailing list assumes that you read the
> documentation and not that it is being spoon-fed to you on the users
> mailing list.****
>
> ** **
>
> Christian****
>
> ** **
>
> --****
>
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/****
>
> ** **
>
> *From:* users-bounces at gecode.org [mailto:users-bounces at gecode.org] *On
> Behalf Of *manel askri
> *Sent:* Thursday, July 04, 2013 4:21 AM
> *To:* users at gecode.org; users-request at gecode.org; users-owner at gecode.org
> *Subject:* [gecode-users] generation of a solution with success but no
> display at the console****
>
> ** **
>
> hi every one!****
>
> ** **
>
> i m new with gecode and this is my first model, it consists in displaying
> the following result :****
>
> ** **
>
> 2 19 22 12 10****
>
>  11 13 18 17  6****
>
>  21 16  1  7 20****
>
>   8 14 15 24  4****
>
>  23  3  9  5 25****
>
> CSTE_65:65 ****
>
> ** **
>
> so this is my code :****
>
> #include <gecode/int.hh>****
>
> #include <gecode/driver.hh>****
>
> #include <gecode/minimodel.hh>****
>
> #include <gecode/search.hh>****
>
> ** **
>
> using namespace Gecode;****
>
> ** **
>
> class E1 : public Space {****
>
> private :****
>
>             ****
>
>             static const int n =5;****
>
> protected:****
>
> ** **
>
>             IntVarArray v1;****
>
> ** **
>
>             IntVar v2;****
>
> ** **
>
> public:****
>
> ** **
>
>             E1(void) : v1(*this, n*n,1,n*n),
> v2(*this,n*(n*n+1)/2,n*(n*n+1)/2){****
>
>                         ****
>
>                         distinct (*this, v1);****
>
>                IntVarArgs   rowArray  (*this,n , 1, n);****
>
>                IntVarArgs  colArray  (*this,n , 1, n);****
>
>                         IntVarArgs diag1Array (*this,n , 1, n);****
>
>                         IntVarArgs diag2Array (*this,n , 1, n);****
>
> ** **
>
>                         ****
>
>                         ****
>
>                         //IntVarArgs sumConstraints ;****
>
> ** **
>
>                         for (int i =0; i<n;i++)****
>
>                         {****
>
>                                     for (int j=0; j<n; j++)****
>
>                                     {****
>
>                                                 rowArray[j]= v1[i*n+1];***
> *
>
>                                                 colArray[j]= v1[j*n+1];***
> *
>
>                                     }****
>
>             ****
>
>             //          rel (*this, sum(rowArray),IRT_EQ, v2);****
>
>       //  rel ( *this , sum(colArray), IRT_EQ ,v2);****
>
> ** **
>
>                linear( *this , rowArray, IRT_EQ, v2);****
>
>                         linear( *this , colArray, IRT_EQ, v2);****
>
>                         diag1Array[i]=v1[i * n + i];****
>
>                         diag2Array[i]= v1[i*n+n-i-1];****
>
>                         }****
>
> ** **
>
>                         //rel(*this , sum(diag1Array), IRT_EQ,v2);****
>
>                         //rel(*this, sum(diag2Array), IRT_EQ,v2);****
>
> ** **
>
>             ****
>
>                         linear( *this , diag1Array, IRT_EQ, v2);****
>
>                         linear( *this , diag2Array, IRT_EQ, v2);****
>
> ** **
>
> ** **
>
>                         // post branching****
>
>                         branch(*this, v1, INT_VAR_SIZE_MIN(),
> INT_VAL_MIN());****
>
> ** **
>
>             }****
>
>        // search support****
>
>                         E1(bool share, E1& s) : Space(share, s) {****
>
>                                     v1.update(*this, share, s.v1);****
>
>                                     ****
>
>                         }****
>
> ** **
>
>                         virtual Space* copy(bool share) {****
>
>         return new E1(share,*this);****
>
>                         }****
>
> ** **
>
>                         // print solution****
>
>                         void print(void) const  {****
>
>                                     for(int i = 0; i < n; i++) {****
>
>                                     for(int j = 0; j < n; j++) {****
>
>                                                 v1[i * n + j];****
>
>                                                 std::cout << v1[i * n + j]
> << std::endl;****
>
>             ****
>
>                                        }****
>
>                                                             }****
>
>                                       }****
>
> ** **
>
> };****
>
> // main function****
>
> int main(int argc, char* argv[]) {****
>
>   // create model and search engine****
>
>   E1* m = new E1;****
>
>   DFS<E1> e(m);****
>
>   delete m;****
>
>    // search and print all solutions****
>
>   while (E1* s = e.next()) {****
>
>     s->print(); delete s;****
>
>   }****
>
>   return 0;****
>
> }****
>
> ** **
>
> my problem is that when i generat the solution i do it successfly but when
> i use the command prompt to execute the executable the console displays
> nothing****
>
> so please if any one have any idea obout this i will be so greatful ****
>
> ** **
>
> thanks very much for any help****
>
> ** **
>
> ASKRI Manel****
>
> ** **
>
>  ****
>
> ** **
>
> ** **
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>


-- 
Vincent Barichard         Universit? d'Angers (LERIA)
Tel:  02 41 73 52 06      D?partement Informatique
Fax: 02 41 73 50 73      H203
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130704/01dcedbb/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.cpp
Type: text/x-c++src
Size: 1989 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130704/01dcedbb/attachment-0001.cpp>

From Vincent.Barichard at univ-angers.fr  Sat Jul  6 09:24:28 2013
From: Vincent.Barichard at univ-angers.fr (Vincent Barichard)
Date: Sat, 6 Jul 2013 09:24:28 +0200
Subject: [gecode-users] generation of a solution with success but no
 display at the console
In-Reply-To: <CAKWqT4A2BhNzDsMiSiHm-g5vqFn0DyiT6Ppm1foJhO20s37GWg@mail.gmail.com>
References: <CAKWqT4C3Z9sa905F65M2o34254-tcYoT4NntmDZQ+Xero2M5wg@mail.gmail.com>
	<00ed01ce788e$8f52cae0$adf860a0$@se>
	<CAF6ZHen20BTUTt=vxOduzC4gypx9y0BdnW4OHy_LOF_EtGFimg@mail.gmail.com>
	<CAKWqT4A2BhNzDsMiSiHm-g5vqFn0DyiT6Ppm1foJhO20s37GWg@mail.gmail.com>
Message-ID: <CAF6ZHenYaw1Kv6No03pOZ7ODqvv7q9nMdGy=jeg430dEvE0PnA@mail.gmail.com>

Hi,

I wrote you a new test.cpp file. I found very basic mistakes in your file.
Please read Gecode documentation and try a little harder, you would have
probably found these errors yourself.

Best regards,
Vincent


2013/7/6 manel askri <askri.manel1 at gmail.com>

> hi evry one !
>
> i have modified a littel bit my code but i still get the same error : no
> solution
>
> so i have a question : because i work with two solvers gecode and choco :
> is it necessairy if choco finds a solution for a problem gecode will to????
> ( because my code here does have a solution with choco but with gecode no
> and i dont know if is it because my code is incorrect or what ????,,)
>
> See the test.cpp attached files
>
> so if any one have any idea about my question i will be so greatful
>
> Thanks very much
>
> ASKRI MAnel
>
>
> 2013/7/4 Vincent Barichard <Vincent.Barichard at univ-angers.fr>
>
>> You should read the files in the "examples" directory.
>> By making your example inherits from Script, you see that it has no
>> solution.
>> See the test.cpp attached file.
>>
>> Vincent
>>
>>
>> 2013/7/4 Christian Schulte <cschulte at kth.se>
>>
>>> Please read MPG, at least the introductory material (especially Chapter
>>> 3 answers your question). This mailing list assumes that you read the
>>> documentation and not that it is being spoon-fed to you on the users
>>> mailing list.****
>>>
>>> ** **
>>>
>>> Christian****
>>>
>>> ** **
>>>
>>> --****
>>>
>>> Christian Schulte, Professor of Computer Science, KTH,
>>> www.ict.kth.se/~cschulte/****
>>>
>>> ** **
>>>
>>> *From:* users-bounces at gecode.org [mailto:users-bounces at gecode.org] *On
>>> Behalf Of *manel askri
>>> *Sent:* Thursday, July 04, 2013 4:21 AM
>>> *To:* users at gecode.org; users-request at gecode.org; users-owner at gecode.org
>>> *Subject:* [gecode-users] generation of a solution with success but no
>>> display at the console****
>>>
>>> ** **
>>>
>>> hi every one!****
>>>
>>> ** **
>>>
>>> i m new with gecode and this is my first model, it consists in
>>> displaying the following result :****
>>>
>>> ** **
>>>
>>> 2 19 22 12 10****
>>>
>>>  11 13 18 17  6****
>>>
>>>  21 16  1  7 20****
>>>
>>>   8 14 15 24  4****
>>>
>>>  23  3  9  5 25****
>>>
>>> CSTE_65:65 ****
>>>
>>> ** **
>>>
>>> so this is my code :****
>>>
>>> #include <gecode/int.hh>****
>>>
>>> #include <gecode/driver.hh>****
>>>
>>> #include <gecode/minimodel.hh>****
>>>
>>> #include <gecode/search.hh>****
>>>
>>> ** **
>>>
>>> using namespace Gecode;****
>>>
>>> ** **
>>>
>>> class E1 : public Space {****
>>>
>>> private :****
>>>
>>>             ****
>>>
>>>             static const int n =5;****
>>>
>>> protected:****
>>>
>>> ** **
>>>
>>>             IntVarArray v1;****
>>>
>>> ** **
>>>
>>>             IntVar v2;****
>>>
>>> ** **
>>>
>>> public:****
>>>
>>> ** **
>>>
>>>             E1(void) : v1(*this, n*n,1,n*n),
>>> v2(*this,n*(n*n+1)/2,n*(n*n+1)/2){****
>>>
>>>                         ****
>>>
>>>                         distinct (*this, v1);****
>>>
>>>                IntVarArgs   rowArray  (*this,n , 1, n);****
>>>
>>>                IntVarArgs  colArray  (*this,n , 1, n);****
>>>
>>>                         IntVarArgs diag1Array (*this,n , 1, n);****
>>>
>>>                         IntVarArgs diag2Array (*this,n , 1, n);****
>>>
>>> ** **
>>>
>>>                         ****
>>>
>>>                         ****
>>>
>>>                         //IntVarArgs sumConstraints ;****
>>>
>>> ** **
>>>
>>>                         for (int i =0; i<n;i++)****
>>>
>>>                         {****
>>>
>>>                                     for (int j=0; j<n; j++)****
>>>
>>>                                     {****
>>>
>>>                                                 rowArray[j]= v1[i*n+1];*
>>> ***
>>>
>>>                                                 colArray[j]= v1[j*n+1];*
>>> ***
>>>
>>>                                     }****
>>>
>>>             ****
>>>
>>>             //          rel (*this, sum(rowArray),IRT_EQ, v2);****
>>>
>>>       //  rel ( *this , sum(colArray), IRT_EQ ,v2);****
>>>
>>> ** **
>>>
>>>                linear( *this , rowArray, IRT_EQ, v2);****
>>>
>>>                         linear( *this , colArray, IRT_EQ, v2);****
>>>
>>>                         diag1Array[i]=v1[i * n + i];****
>>>
>>>                         diag2Array[i]= v1[i*n+n-i-1];****
>>>
>>>                         }****
>>>
>>> ** **
>>>
>>>                         //rel(*this , sum(diag1Array), IRT_EQ,v2);****
>>>
>>>                         //rel(*this, sum(diag2Array), IRT_EQ,v2);****
>>>
>>> ** **
>>>
>>>             ****
>>>
>>>                         linear( *this , diag1Array, IRT_EQ, v2);****
>>>
>>>                         linear( *this , diag2Array, IRT_EQ, v2);****
>>>
>>> ** **
>>>
>>> ** **
>>>
>>>                         // post branching****
>>>
>>>                         branch(*this, v1, INT_VAR_SIZE_MIN(),
>>> INT_VAL_MIN());****
>>>
>>> ** **
>>>
>>>             }****
>>>
>>>        // search support****
>>>
>>>                         E1(bool share, E1& s) : Space(share, s) {****
>>>
>>>                                     v1.update(*this, share, s.v1);****
>>>
>>>                                     ****
>>>
>>>                         }****
>>>
>>> ** **
>>>
>>>                         virtual Space* copy(bool share) {****
>>>
>>>         return new E1(share,*this);****
>>>
>>>                         }****
>>>
>>> ** **
>>>
>>>                         // print solution****
>>>
>>>                         void print(void) const  {****
>>>
>>>                                     for(int i = 0; i < n; i++) {****
>>>
>>>                                     for(int j = 0; j < n; j++) {****
>>>
>>>                                                 v1[i * n + j];****
>>>
>>>                                                 std::cout << v1[i * n +
>>> j] << std::endl;****
>>>
>>>             ****
>>>
>>>                                        }****
>>>
>>>                                                             }****
>>>
>>>                                       }****
>>>
>>> ** **
>>>
>>> };****
>>>
>>> // main function****
>>>
>>> int main(int argc, char* argv[]) {****
>>>
>>>   // create model and search engine****
>>>
>>>   E1* m = new E1;****
>>>
>>>   DFS<E1> e(m);****
>>>
>>>   delete m;****
>>>
>>>    // search and print all solutions****
>>>
>>>   while (E1* s = e.next()) {****
>>>
>>>     s->print(); delete s;****
>>>
>>>   }****
>>>
>>>   return 0;****
>>>
>>> }****
>>>
>>> ** **
>>>
>>> my problem is that when i generat the solution i do it successfly but
>>> when i use the command prompt to execute the executable the console
>>> displays nothing****
>>>
>>> so please if any one have any idea obout this i will be so greatful ****
>>>
>>> ** **
>>>
>>> thanks very much for any help****
>>>
>>> ** **
>>>
>>> ASKRI Manel****
>>>
>>> ** **
>>>
>>>  ****
>>>
>>> ** **
>>>
>>> ** **
>>>
>>> _______________________________________________
>>> Gecode users mailing list
>>> users at gecode.org
>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>
>>>
>>
>>
>> --
>> Vincent Barichard         Universit? d'Angers (LERIA)
>> Tel:  02 41 73 52 06      D?partement Informatique
>> Fax: 02 41 73 50 73      H203
>>
>
>


-- 
Vincent Barichard         Universit? d'Angers (LERIA)
Tel:  02 41 73 52 06      D?partement Informatique
Fax: 02 41 73 50 73      H203
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130706/ed6f43ac/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.cpp
Type: text/x-c++src
Size: 1486 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130706/ed6f43ac/attachment-0001.cpp>

From l.digaspero at uniud.it  Sat Jul  6 09:32:31 2013
From: l.digaspero at uniud.it (Luca Di Gaspero)
Date: Sat, 6 Jul 2013 09:32:31 +0200
Subject: [gecode-users] Parameter/Options passing to engines through script
Message-ID: <8DB51927-968E-4E3B-81C5-83E9A1FE13EF@uniud.it>

Hi all,

I am trying to re-engineer some piece of code we wrote for enabling Large Neighborhood Search within Gecode and I am facing the problem (which has also some general sense) of passing specific parameters (or options objects) to an engine that has to be managed through the Script<Space>::run<?>() execution method.

Since I would like to contribute the LNS code to the Gecode community, before undertaking modifications in my Gecode working copy I would like to agree it with Gecode maintainers since it will have a (I would say minor) impact on the framework. 

Other solutions to the problem from more "knowledgeable users" are, of course, welcome. :-)

Coming to the problem, in detail, the specific option object that is passed to the run method is dispatched in the Script::run function and a brand new Search::Option object is sent to the actual engine. Unfortunately this means that the specific engine could not have access to its specific options and I found it a general limitation.
Of course it is possible to overcome this limits with workarounds, but they will somehow break the general framework philosophy.

To be generic enough, my proposal is to add a "Gecode::Options* parameters" attribute to the Search::Options class in order to allow sending this specific information to the engine. This variable should be set in the Script::run(Options, Script) dispatching, e.g., by invoking some "parameters()" function on the "Gecode::Options& option" object passed to run.

Just sketching the "pseudo diff" of the tentative modification it will be something like this:

At search.hh around line 210 add the line
Gecode::Options* parameters;

At script.hpp around line 300 add the line
so.parameters = o.parameters();

And, at options.hpp around line 148 add the lines

inline
Options* parameters() {
  return NULL; // for default no specific option is passed to the engine
}

This way, the engine has access to parameters and it can cast it to the opportune parameter class.

Thanks in advance for comments and/or suggestions.

All the best,

Luca

From cschulte at kth.se  Mon Jul  8 10:30:09 2013
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 8 Jul 2013 10:30:09 +0200
Subject: [gecode-users] Parameter/Options passing to engines through
	script
In-Reply-To: <8DB51927-968E-4E3B-81C5-83E9A1FE13EF@uniud.it>
References: <8DB51927-968E-4E3B-81C5-83E9A1FE13EF@uniud.it>
Message-ID: <01eb01ce7bb5$5b655e30$12301a90$@se>

Hi Luca,

I think this is not a good idea: this would make the use of LNS depend on
the fact that one uses a Script-derived class.

But this is not general enough, as Script is just a convenience class for
the commandline driver. In order to be fully general it also should work for
any subclass of Space.

Did you think about extending the Search::Options class with what you need
and then add the appropriate commandline options to control the parameters
in the search options? Maybe you just tell us what options you need?

Anyway, looking forward to getting a LNS contribution for Gecode!

Cheers
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Luca Di Gaspero
Sent: Saturday, July 06, 2013 9:33 AM
To: users at gecode.org
Subject: [gecode-users] Parameter/Options passing to engines through script

Hi all,

I am trying to re-engineer some piece of code we wrote for enabling Large
Neighborhood Search within Gecode and I am facing the problem (which has
also some general sense) of passing specific parameters (or options objects)
to an engine that has to be managed through the Script<Space>::run<.>()
execution method.

Since I would like to contribute the LNS code to the Gecode community,
before undertaking modifications in my Gecode working copy I would like to
agree it with Gecode maintainers since it will have a (I would say minor)
impact on the framework. 

Other solutions to the problem from more "knowledgeable users" are, of
course, welcome. :-)

Coming to the problem, in detail, the specific option object that is passed
to the run method is dispatched in the Script::run function and a brand new
Search::Option object is sent to the actual engine. Unfortunately this means
that the specific engine could not have access to its specific options and I
found it a general limitation.
Of course it is possible to overcome this limits with workarounds, but they
will somehow break the general framework philosophy.

To be generic enough, my proposal is to add a "Gecode::Options* parameters"
attribute to the Search::Options class in order to allow sending this
specific information to the engine. This variable should be set in the
Script::run(Options, Script) dispatching, e.g., by invoking some
"parameters()" function on the "Gecode::Options& option" object passed to
run.

Just sketching the "pseudo diff" of the tentative modification it will be
something like this:

At search.hh around line 210 add the line
Gecode::Options* parameters;

At script.hpp around line 300 add the line so.parameters = o.parameters();

And, at options.hpp around line 148 add the lines

inline
Options* parameters() {
  return NULL; // for default no specific option is passed to the engine }

This way, the engine has access to parameters and it can cast it to the
opportune parameter class.

Thanks in advance for comments and/or suggestions.

All the best,

Luca
_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From l.digaspero at uniud.it  Mon Jul  8 19:37:50 2013
From: l.digaspero at uniud.it (Luca Di Gaspero)
Date: Mon, 8 Jul 2013 19:37:50 +0200
Subject: [gecode-users] Parameter/Options passing to engines through
	script
References: <04F5E1A7-3CA4-495F-8145-BFF7C5919B2F@uniud.it>
Message-ID: <37965A20-774D-4510-A95E-90C7FE5C13C9@uniud.it>


Hi Christian,

> I think this is not a good idea: this would make the use of LNS depend on
> the fact that one uses a Script-derived class.

> But this is not general enough, as Script is just a convenience class for
> the commandline driver. In order to be fully general it also should work for
> any subclass of Space.

Actually the LNS engine is currently only moderately dependent on Space: it will ask for a decorated Space implementing two additional methods Space* relax() and void relaxable_var in a similar way as the master() and slave() methods for restarts. We also provide some standard convenience template decorator class which takes a generic Space and require the redefinition of those specific methods by multiple inheritance in a neat way.

> Did you think about extending the Search::Options class with what you need
> and then add the appropriate commandline options to control the parameters
> in the search options? Maybe you just tell us what options you need?

We actually did it for the non-scriptable variant of the meta-engine. That is the LNS<template<class> class E, class T>(T*, Search::Options& o) is meant to be used with a specific subclass of Search::Options, called LNSOptions, which inherits from InstanceOptions and augments it with LNS-specific parameters. This has been done by dynamic_cast<LNSOptions*>(&o)-ing (and checking whether the correct class has been provided).

However, the problem we are currently facing is that we would like to use that meta-engine also with the Script<Space>::run static method (because it is integrated in a specific GUI and we want to reuse it as much as we can), but the LNSOptions class will be not sent through it to the end-level engine (as it will be dispatched and some of the (standard) options coming, e.g., from the command-line driver, are copied in a fresh Search::Option object (around line 300 in script.hpp) that is provided to the (meta-)engine.

Moreover, apart of the LNS specific parameters, the possibility to marshall customized parameters directly to the engine from the command-line will ease the development of engines by different contributors: of course I can list the parameters we need for LNS, but I had also in mind to contribute further hybrid solvers for which different parameters should be provided, therefore I was looking to some more flexible way to achieve this goal.

So, I would like to agree with you some parameter passing mechanism that could be general enough for this purpose. Once this issue is solved, Tommaso Urli (the coauthor of this engine) and myself will be very happy to contribute the LNS code :-) [apart of jokes, if you would like to access the current version of the engine for searching a solution to the problem, I will send you the source code].

Thanks and all the best,

Luca


-- 
Luca Di Gaspero, PhD http://www.diegm.uniud.it/digaspero/
DIEGM, Universit? di Udine 	email: luca.digaspero at uniud.it
via delle Scienze, 208 		tel: +39-0432-558242
33100 Udine, ITALY 			fax: +39-0432-558251
-
PGP Key ID 1EE94BEA registered at http://pgpkeys.mit.edu



From kisshen at cisco.com  Tue Jul  9 03:59:11 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 09 Jul 2013 02:59:11 +0100
Subject: [gecode-users] Using AFC in Gecode 4
Message-ID: <51DB6E6F.1080205@cisco.com>

Hi,

I have just started looking at upgrading the ECLiPSe Gecode interface to 
Gecode 4 (it currently supports Gecode 3.7), and I have run into a 
problem with AFC, which I am not sure how to deal with, so I would be 
very grateful if someone can give me some suggestion on how to deal with 
this.

Some background: our Gecode interface code uses a space where the 
IntVars are stored in a IntVarArgs, and actual problem variables are 
added dynamically during execution.

The search can be performed in Gecode using a search engine, or in 
ECLiPSe. The user can also obtain various properties of the IntVar 
variables, including the AFC for that variable. For the AFC, this was 
obtained using the afc() method of IntVar. This method is no longer in 
Gecode 4.

Looking at the MPG, you now need to initialise an integer variable array 
(xs) for AFC information:

IntAFC afc(home, xs);

and to change the decay later,

afc.decay(0.95)

-- I assume this applies to the xs array.

and branching:

branch(home, xs, INT_VAR_AFC_MAX(), INT_VAL_MIN())

where xs must be the same as before.

I am not sure how to use this in my interface, both for doing search in 
ECLiPSe, or using a search engine.

The reason are that my variables are added dynamically, and at any time, 
including after propagation (and some search) have been performed on 
existing variables, so there isn't a time-point when I create the IntAFC 
object with all the variables. In the case of using a search engine, the 
search may be only part of the full search, i.e. so I cannot assume I 
only want AFC for the variables in the branch() call above (i.e. xs).

Ideally, with 4.0, I would like to be able to change the decay factor as 
well, at least for all variables (this would mean the decay value would 
apply to any variables created (logically) after setting the decay 
factor. Perhaps it would also be useful to change the decay factor for a 
subset of variables, but I am not sure if that can be done -- because 
the search can then involve variables with different decay factor.

In the case of doing search in ECLiPSe, I need to obtain the AFC for a 
variable -- how do I do this now?

Thanks in advance for any information and help!

--Kish


From kisshen at cisco.com  Tue Jul  9 04:20:22 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 09 Jul 2013 03:20:22 +0100
Subject: [gecode-users] Using AFC in Gecode 4, more
Message-ID: <51DB7366.8020701@cisco.com>

Hi,

I probably posted my last message too quickly. I suspect I might not 
have given enough background for what I mean by 'doing search in ECLiPSe'.

ECLiPSe use 'events' to record any changes to the Gecode state -- adding 
variables, adding propagators, setting a variable to a value, removing a 
value from a variable, i.e. events are used to set up the problem, as 
well as the 'search'. When the search is done in ECLiPSe,
then the setting (and removal) of values are done at the ECLiPSe level, 
and Gecode is updated using events, i.e. the search is not done using 
Gecode branching. Rather, branching is done at the ECLiPSe level as part 
of a normal Prolog search-tree, and the recomputation/cloning of space 
is explicitly managed by ECLiPSe, using events to recompute from the 
nearest clone.

Hope this short explanation is enough to convey the essentials of how 
search is done in ECLiPSe...

Cheers,

Kish


From cschulte at kth.se  Tue Jul  9 15:59:11 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 9 Jul 2013 15:59:11 +0200
Subject: [gecode-users] Using AFC in Gecode 4
In-Reply-To: <51DB6E6F.1080205@cisco.com>
References: <51DB6E6F.1080205@cisco.com>
Message-ID: <000901ce7cac$7e40acf0$7ac206d0$@se>

Hi,

The afc() member function now requires a space argument, see:
	
http://www.gecode.org/doc-latest/reference/classGecode_1_1IntVar-members.htm
l

Before using afc, you have to call
	space.afc_decay(d)
for some decay value to enable support for afc (if not doing that, things
will go kaboom). This method also changes the afc-decay for all variables.

Best
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Tuesday, July 09, 2013 3:59 AM
To: users at gecode.org
Subject: [gecode-users] Using AFC in Gecode 4

Hi,

I have just started looking at upgrading the ECLiPSe Gecode interface to 
Gecode 4 (it currently supports Gecode 3.7), and I have run into a 
problem with AFC, which I am not sure how to deal with, so I would be 
very grateful if someone can give me some suggestion on how to deal with 
this.

Some background: our Gecode interface code uses a space where the 
IntVars are stored in a IntVarArgs, and actual problem variables are 
added dynamically during execution.

The search can be performed in Gecode using a search engine, or in 
ECLiPSe. The user can also obtain various properties of the IntVar 
variables, including the AFC for that variable. For the AFC, this was 
obtained using the afc() method of IntVar. This method is no longer in 
Gecode 4.

Looking at the MPG, you now need to initialise an integer variable array 
(xs) for AFC information:

IntAFC afc(home, xs);

and to change the decay later,

afc.decay(0.95)

-- I assume this applies to the xs array.

and branching:

branch(home, xs, INT_VAR_AFC_MAX(), INT_VAL_MIN())

where xs must be the same as before.

I am not sure how to use this in my interface, both for doing search in 
ECLiPSe, or using a search engine.

The reason are that my variables are added dynamically, and at any time, 
including after propagation (and some search) have been performed on 
existing variables, so there isn't a time-point when I create the IntAFC 
object with all the variables. In the case of using a search engine, the 
search may be only part of the full search, i.e. so I cannot assume I 
only want AFC for the variables in the branch() call above (i.e. xs).

Ideally, with 4.0, I would like to be able to change the decay factor as 
well, at least for all variables (this would mean the decay value would 
apply to any variables created (logically) after setting the decay 
factor. Perhaps it would also be useful to change the decay factor for a 
subset of variables, but I am not sure if that can be done -- because 
the search can then involve variables with different decay factor.

In the case of doing search in ECLiPSe, I need to obtain the AFC for a 
variable -- how do I do this now?

Thanks in advance for any information and help!

--Kish

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From kisshen at cisco.com  Tue Jul  9 19:08:57 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 09 Jul 2013 18:08:57 +0100
Subject: [gecode-users] Using AFC in Gecode 4
In-Reply-To: <000901ce7cac$7e40acf0$7ac206d0$@se>
References: <51DB6E6F.1080205@cisco.com> <000901ce7cac$7e40acf0$7ac206d0$@se>
Message-ID: <51DC43A9.6030007@cisco.com>

Hi Christian,

Thanks for your help!

On 09/07/2013 14:59, Christian Schulte wrote:

> The afc() member function now requires a space argument, see:
> 	
> http://www.gecode.org/doc-latest/reference/classGecode_1_1IntVar-members.htm
> l

Thanks. I have added this, and it now compiles.

This probably reflects my unfamiliarity with C++, but I did look at the 
reference documentation for IntVar, and found that afc() was not there, 
as it is in VarImpVar<int:IntVarImp>, and I didn't know I should look 
somewhere other than the IntVar section.

> Before using afc, you have to call
> 	space.afc_decay(d)
> for some decay value to enable support for afc (if not doing that, things
> will go kaboom). This method also changes the afc-decay for all variables.
>

I assume this only has to be done with the first space I create, and not 
any subsequent clones of the space?

I tried adding the afc_decay(1U) call just after the first time a space 
is created. The space I use is of class GecodeSpace, and I get an error

void Gecode::Space::afc_decay(double) is private within this context

the code I have is essentially:

GecodeSpace* solver;
solver = new GecodeSpace();
solver->afc_decay(1U);

Do I need to do something in the definition of GecodeSpace to make 
afc_decay() public? (I guess this is again my unfamiliarity with C++)


Finally, as I mentioned in my previous message, I got the impression 
from reading the MPG (section 8.5.2, Selection using accumulated failure 
count), that you need to create a IntAFC object on an integer variable 
array in order to use AFC. Did I miss something in this section, or 
should the above usage of AFC be mentioned in the section?

Thanks and cheers,

Kish



From kisshen at cisco.com  Tue Jul  9 20:29:52 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 09 Jul 2013 19:29:52 +0100
Subject: [gecode-users] Using AFC in Gecode 4
In-Reply-To: <51DC43A9.6030007@cisco.com>
References: <51DB6E6F.1080205@cisco.com> <000901ce7cac$7e40acf0$7ac206d0$@se>
	<51DC43A9.6030007@cisco.com>
Message-ID: <51DC56A0.2040007@cisco.com>

Hi,

Some clarification/correction to my last post:

On 09/07/2013 18:08, Kish Shen wrote:

> This probably reflects my unfamiliarity with C++, but I did look at the
> reference documentation for IntVar, and found that afc() was not there,

I looked in Gecode::IntVar Class Reference


> GecodeSpace* solver;
> solver = new GecodeSpace();
> solver->afc_decay(1U);

The 1U is of course wrong. I confused it with the documentation I read 
for the Rnd() function for the random selection. When I changed that to 
1.0, I still get the same error (i.e. afc_decay(double) is private 
within this context).

Cheers,

Kish




From kisshen at cisco.com  Tue Jul  9 20:48:31 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 09 Jul 2013 19:48:31 +0100
Subject: [gecode-users] Using IntActivity with space
Message-ID: <51DC5AFF.8060200@cisco.com>

Hi,

I am now looking at adding the variable activity selection to the 
interface I am writing.

 From reading the MPG, it looks like IntActivity has a similar API to 
IntAFC, and so cannot be easily used in my code. So is there anyway
to setup and use it in a similar way to what Christian suggested for AFC 
previously? That is,

1) to setup the recording of activity for all variables in the space,
    including variables that are dynamically added
2) to obtain the activity of a variable outside of the search engine
3) change the decay for all variables

For 2), I could not find an equivalent function to afc() in the 
Gecode::IntVar Member List page that Christian pointed to previously
(which does list the afc method).

Thanks in advance for any information!

Cheers,

Kish


From cschulte at kth.se  Wed Jul 10 10:33:10 2013
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 10 Jul 2013 10:33:10 +0200
Subject: [gecode-users] Parameter/Options passing to engines through
	script
In-Reply-To: <37965A20-774D-4510-A95E-90C7FE5C13C9@uniud.it>
References: <04F5E1A7-3CA4-495F-8145-BFF7C5919B2F@uniud.it>
	<37965A20-774D-4510-A95E-90C7FE5C13C9@uniud.it>
Message-ID: <001a01ce7d48$1c9e8070$55db8150$@se>

Hi Luca,

Sorry for the delay but I did not really know what to answer ;-)

What would help me here is to understand the design of your LNS engine and
only then think how it could be best integrated into the Gecode jungle...
So, maybe you could summarize:
 - what does the engine do
 - what does it require from a space (you already mentioned two additional
member functions)
 - what other parameters are needed to control the engine

Could you do that?

Cheers
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: Luca Di Gaspero [mailto:l.digaspero at uniud.it] 
Sent: Monday, July 08, 2013 7:38 PM
To: cschulte at kth.se
Cc: Tommaso Urli; users at gecode.org
Subject: Re: [gecode-users] Parameter/Options passing to engines through
script


Hi Christian,

> I think this is not a good idea: this would make the use of LNS depend 
> on the fact that one uses a Script-derived class.

> But this is not general enough, as Script is just a convenience class 
> for the commandline driver. In order to be fully general it also 
> should work for any subclass of Space.

Actually the LNS engine is currently only moderately dependent on Space: it
will ask for a decorated Space implementing two additional methods Space*
relax() and void relaxable_var in a similar way as the master() and slave()
methods for restarts. We also provide some standard convenience template
decorator class which takes a generic Space and require the redefinition of
those specific methods by multiple inheritance in a neat way.

> Did you think about extending the Search::Options class with what you 
> need and then add the appropriate commandline options to control the 
> parameters in the search options? Maybe you just tell us what options you
need?

We actually did it for the non-scriptable variant of the meta-engine. That
is the LNS<template<class> class E, class T>(T*, Search::Options& o) is
meant to be used with a specific subclass of Search::Options, called
LNSOptions, which inherits from InstanceOptions and augments it with
LNS-specific parameters. This has been done by
dynamic_cast<LNSOptions*>(&o)-ing (and checking whether the correct class
has been provided).

However, the problem we are currently facing is that we would like to use
that meta-engine also with the Script<Space>::run static method (because it
is integrated in a specific GUI and we want to reuse it as much as we can),
but the LNSOptions class will be not sent through it to the end-level engine
(as it will be dispatched and some of the (standard) options coming, e.g.,
from the command-line driver, are copied in a fresh Search::Option object
(around line 300 in script.hpp) that is provided to the (meta-)engine.

Moreover, apart of the LNS specific parameters, the possibility to marshall
customized parameters directly to the engine from the command-line will ease
the development of engines by different contributors: of course I can list
the parameters we need for LNS, but I had also in mind to contribute further
hybrid solvers for which different parameters should be provided, therefore
I was looking to some more flexible way to achieve this goal.

So, I would like to agree with you some parameter passing mechanism that
could be general enough for this purpose. Once this issue is solved, Tommaso
Urli (the coauthor of this engine) and myself will be very happy to
contribute the LNS code :-) [apart of jokes, if you would like to access the
current version of the engine for searching a solution to the problem, I
will send you the source code].

Thanks and all the best,

Luca


--
Luca Di Gaspero, PhD http://www.diegm.uniud.it/digaspero/
DIEGM, Universit? di Udine 	email: luca.digaspero at uniud.it
via delle Scienze, 208 		tel: +39-0432-558242
33100 Udine, ITALY 			fax: +39-0432-558251
-
PGP Key ID 1EE94BEA registered at http://pgpkeys.mit.edu




From cschulte at kth.se  Wed Jul 10 10:43:47 2013
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 10 Jul 2013 10:43:47 +0200
Subject: [gecode-users] Using AFC in Gecode 4
In-Reply-To: <51DC43A9.6030007@cisco.com>
References: <51DB6E6F.1080205@cisco.com> <000901ce7cac$7e40acf0$7ac206d0$@se>
	<51DC43A9.6030007@cisco.com>
Message-ID: <001d01ce7d49$9855d690$c90183b0$@se>

Hi Kish,

Please find attached a patch that makes afc_decay() and friends public (I
also did in the trunk and the next release is not that far away).

The reason why the reference docs are so useful is that they always list all
member functions including those which got inherited. So when I have to know
I'll also look at the docs and not at the code...

Yes, you have to call afc_decay only on the root space once.

IntAFC is a fake ( ;-) =, afc works even without it. IntAFC is there such
that it looks exactly like Activity.

Cheers
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Tuesday, July 09, 2013 7:09 PM
To: users at gecode.org
Subject: Re: [gecode-users] Using AFC in Gecode 4

Hi Christian,

Thanks for your help!

On 09/07/2013 14:59, Christian Schulte wrote:

> The afc() member function now requires a space argument, see:
> 	
> http://www.gecode.org/doc-latest/reference/classGecode_1_1IntVar-membe
> rs.htm
> l

Thanks. I have added this, and it now compiles.

This probably reflects my unfamiliarity with C++, but I did look at the
reference documentation for IntVar, and found that afc() was not there, as
it is in VarImpVar<int:IntVarImp>, and I didn't know I should look somewhere
other than the IntVar section.

> Before using afc, you have to call
> 	space.afc_decay(d)
> for some decay value to enable support for afc (if not doing that, 
> things will go kaboom). This method also changes the afc-decay for all
variables.
>

I assume this only has to be done with the first space I create, and not any
subsequent clones of the space?

I tried adding the afc_decay(1U) call just after the first time a space is
created. The space I use is of class GecodeSpace, and I get an error

void Gecode::Space::afc_decay(double) is private within this context

the code I have is essentially:

GecodeSpace* solver;
solver = new GecodeSpace();
solver->afc_decay(1U);

Do I need to do something in the definition of GecodeSpace to make
afc_decay() public? (I guess this is again my unfamiliarity with C++)


Finally, as I mentioned in my previous message, I got the impression 
from reading the MPG (section 8.5.2, Selection using accumulated failure 
count), that you need to create a IntAFC object on an integer variable 
array in order to use AFC. Did I miss something in this section, or 
should the above usage of AFC be mentioned in the section?

Thanks and cheers,

Kish


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: patch.txt
URL: <http://www.gecode.org/pipermail/users/attachments/20130710/0e533173/attachment.txt>

From cschulte at kth.se  Wed Jul 10 10:45:08 2013
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 10 Jul 2013 10:45:08 +0200
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <51DC5AFF.8060200@cisco.com>
References: <51DC5AFF.8060200@cisco.com>
Message-ID: <002801ce7d49$cd13e200$673ba600$@se>

Hi Kish,

No, there is no easy way to get activity for dynamically added variables.
Doable but this would be a very different implementation. In contrast to
AFC, activity lives completely outside the kernel.

Cheers
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Tuesday, July 09, 2013 8:49 PM
To: users at gecode.org
Subject: [gecode-users] Using IntActivity with space

Hi,

I am now looking at adding the variable activity selection to the interface
I am writing.

 From reading the MPG, it looks like IntActivity has a similar API to
IntAFC, and so cannot be easily used in my code. So is there anyway to setup
and use it in a similar way to what Christian suggested for AFC previously?
That is,

1) to setup the recording of activity for all variables in the space,
    including variables that are dynamically added
2) to obtain the activity of a variable outside of the search engine
3) change the decay for all variables

For 2), I could not find an equivalent function to afc() in the
Gecode::IntVar Member List page that Christian pointed to previously (which
does list the afc method).

Thanks in advance for any information!

Cheers,

Kish

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From askri.manel1 at gmail.com  Wed Jul 10 14:20:08 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Wed, 10 Jul 2013 13:20:08 +0100
Subject: [gecode-users] constraint with matrix
Message-ID: <CAKWqT4Bb+dYJTesSZVGJb4hdhe72=wSf-Y4t92oW1_cD8rF4_g@mail.gmail.com>

hi!

i'm trying to write a model which uses matrix, and in my case i use a
matrix X as flowing :

            l=IntVar(*this, 0,1);
Matrix <IntVar> X (l,n,m);

and i declared an array rows with n elements so  and i have to constraint
evry row in the array rows by this constraint :

             for (int i =0, i<n; i++)
                  {
                         rows[i]= linear(*this,sum(X[i]),IRT_EQ,1);

                   }

So my question here is : how can i write down this constraint
it is possible to affect a result of a constraint to variable or not ????

i'm sorry to be bothring you but i really did read over and over the MPG

thanks for evry help
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130710/fb7c3259/attachment.html>

From gustavo.ggutierrez at gmail.com  Wed Jul 10 15:46:23 2013
From: gustavo.ggutierrez at gmail.com (Gustavo Gutierrez)
Date: Wed, 10 Jul 2013 08:46:23 -0500
Subject: [gecode-users] constraint with matrix
In-Reply-To: <CAKWqT4Bb+dYJTesSZVGJb4hdhe72=wSf-Y4t92oW1_cD8rF4_g@mail.gmail.com>
References: <CAKWqT4Bb+dYJTesSZVGJb4hdhe72=wSf-Y4t92oW1_cD8rF4_g@mail.gmail.com>
Message-ID: <CAFcfiNVn6EWLn=LV7sD2OGfd_s0+q=OcUysJs-gnG+mTuy-Nnw@mail.gmail.com>

Hi Manel,

I think you want something that looks like this:

int n = 8;
int m = 10;
IntVarArray a(*this,n*m,0,1); // Array of n*m boolean variables
Matrix<IntVarArray> mat(x,n,m); // Matrix "view" of the array a

Now, to post a constraint on every row in the matrix you can use the method
row of the Matrix class. That will return you exactly what you need. For
instance, to post that the row i has pairwise distinct values:

distinct(*this,mat.row(i));

Be careful, that is just an example that is (probably) not going to work
because of the use of boolean variables. In any case you will find more
information on section 7.2 in MPG about using Matrix.

Regards,
Gustavo


On Wed, Jul 10, 2013 at 7:20 AM, manel askri <askri.manel1 at gmail.com> wrote:

> hi!
>
> i'm trying to write a model which uses matrix, and in my case i use a
> matrix X as flowing :
>
>             l=IntVar(*this, 0,1);
>  Matrix <IntVar> X (l,n,m);
>
> and i declared an array rows with n elements so  and i have to constraint
> evry row in the array rows by this constraint :
>
>              for (int i =0, i<n; i++)
>                   {
>                          rows[i]= linear(*this,sum(X[i]),IRT_EQ,1);
>
>                    }
>
> So my question here is : how can i write down this constraint
> it is possible to affect a result of a constraint to variable or not ????
>
> i'm sorry to be bothring you but i really did read over and over the MPG
>
> thanks for evry help
>
>
>
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>


-- 
Gustavo Gutierrez
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130710/0e34eb92/attachment.html>

From rshouker at gmail.com  Wed Jul 10 23:53:52 2013
From: rshouker at gmail.com (Ronen Shouker)
Date: Wed, 10 Jul 2013 21:53:52 +0000 (UTC)
Subject: [gecode-users] failed to link with branch
Message-ID: <loom.20130710T234003-729@post.gmane.org>

Hi,

I'm working on Mac OS X.
First, XCode/AppCode didn't accepted the
precompiled framework I downloaded (version 4.1)
So, I have downloaded the sources and built it, seemingly successfully.

However, now that I've started coding using Gecode, I have one error during link:

Undefined symbol 'Gecode::branch(
  Gecode::Home,
  Gecode::IntVarArgs const&,
  Gecode::TieBreak<Gecode::IntVarBranch>,
  Gecode::IntValBranch,
  Gecode::Symmetries const& bool (*)(Gecode::Space const&, Gecode::IntVar, int),
  void (*)(
    Gecode::Space const&,
    Gecode::BrancherHandle const&,
    unsigned int, Gecode::IntVar,
    int,
    int const&,
    std::__1::basic_ostream<char,std::__1::char_traits<char> >&
  )
)'

Any ideas?

10x,
Ronen



From rshouker at gmail.com  Thu Jul 11 00:19:27 2013
From: rshouker at gmail.com (Ronen Shouker)
Date: Wed, 10 Jul 2013 22:19:27 +0000 (UTC)
Subject: [gecode-users] failed to link with branch
References: <loom.20130710T234003-729@post.gmane.org>
Message-ID: <loom.20130711T001337-324@post.gmane.org>


> [snip] 
> ... I have one error during link:
> 
> Undefined symbol 'Gecode::branch(
>   [snip]
>     std::__1::basic_ostream<char,std::__1::char_traits<char> >&
>   [snip]
> 

After using nm to inspect the dylib:
it seems that those __1:: that for some reason appear in the error message
(and therefore where produced by the compiler) are not in the gecode dylib.

Any Clues?




From gustavo.ggutierrez at gmail.com  Thu Jul 11 00:25:15 2013
From: gustavo.ggutierrez at gmail.com (Gustavo Gutierrez)
Date: Wed, 10 Jul 2013 17:25:15 -0500
Subject: [gecode-users] failed to link with branch
In-Reply-To: <loom.20130711T001337-324@post.gmane.org>
References: <loom.20130710T234003-729@post.gmane.org>
	<loom.20130711T001337-324@post.gmane.org>
Message-ID: <CAFcfiNVhZ5DX3-5Ae4meUqT7Lzz1bqn0ec=A3UYEe+-GA5HBsQ@mail.gmail.com>

Hi Ronen,

I think the problem can be related to the linker and the standard library
used to build gecode on the mac. The std::__1:: usually means that you are
using symbols from libc++. What I would do is to make sure you are using
clang (and not gcc) to build gecode. In general make sure that you are
using the same compiler you build gecode with.

If you used clang (the default c++ compiler for some versions of MacOS) be
sure to pass -stdlib=libc++

Cheers,
Gustavo

On Wed, Jul 10, 2013 at 5:19 PM, Ronen Shouker <rshouker at gmail.com> wrote:

>
> > [snip]
> > ... I have one error during link:
> >
> > Undefined symbol 'Gecode::branch(
> >   [snip]
> >     std::__1::basic_ostream<char,std::__1::char_traits<char> >&
> >   [snip]
> >
>
> After using nm to inspect the dylib:
> it seems that those __1:: that for some reason appear in the error message
> (and therefore where produced by the compiler) are not in the gecode dylib.
>
> Any Clues?
>
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>



-- 
Gustavo Gutierrez
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130710/57d791e5/attachment.html>

From marco.v.correia at gmail.com  Thu Jul 11 00:29:17 2013
From: marco.v.correia at gmail.com (Marco Correia)
Date: Wed, 10 Jul 2013 23:29:17 +0100
Subject: [gecode-users] failed to link with branch
In-Reply-To: <loom.20130711T001337-324@post.gmane.org>
References: <loom.20130710T234003-729@post.gmane.org>
	<loom.20130711T001337-324@post.gmane.org>
Message-ID: <A5838838-7A09-4B14-83E0-B8C94BDC3A4A@gmail.com>

On Jul 10, 2013, at 23:19 , Ronen Shouker <rshouker at gmail.com> wrote:

> 
>> [snip] 
>> ... I have one error during link:
>> 
>> Undefined symbol 'Gecode::branch(
>>  [snip]
>>    std::__1::basic_ostream<char,std::__1::char_traits<char> >&
>>  [snip]
>> 
> 
> After using nm to inspect the dylib:
> it seems that those __1:: that for some reason appear in the error message
> (and therefore where produced by the compiler) are not in the gecode dylib.
> 
> Any Clues?

(Disclaimer:  I am not a Gecode expert)

I suspect the problem is the c++ standard library. With clang (the new c++ compiler shipped with mac os) comes a new c++ standard lib, which you can link to by specifying -stdlib=libc++ when compiling/linking you code. To link with the old c++ standard lib you compile with -stdlib=libstdc++ instead.

I suspect you compiled gecode with one of them are now are trying to compile your example with the other one.

From kisshen at cisco.com  Thu Jul 11 00:46:00 2013
From: kisshen at cisco.com (Kish Shen)
Date: Wed, 10 Jul 2013 23:46:00 +0100
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <002801ce7d49$cd13e200$673ba600$@se>
References: <51DC5AFF.8060200@cisco.com> <002801ce7d49$cd13e200$673ba600$@se>
Message-ID: <51DDE428.4050608@cisco.com>

Hi Christian,

Thanks. It would be great if activity can be supported by dynamically 
added variables.

However, if the user chose to do the search in Gecode, then I guess I 
can create a IntActivity for those variables just before doing the search.

I assume the activity information would be very poor at the start, since 
it would not include any propagation done during the modelling phase.

It may also be possible to use activity for my (that is the interface's) 
variable selection, which does the selection at the C++ level, so the 
activity information need not be associated with all variables, as the 
ECLiPSe user would not be able to access the activity information 
themselves.

I will still need to access the activity for a variable in an 
IntActivity though, and looking at the class reference for IntActivity, 
I can't see a method to get this. Also, as cloning and recomputation is 
done by the interface code, do I need to do anything with this 
IntActivity object for cloning?

About recomputation, there might be an issue -- both activity and AFC 
are based on the history of the computation, e.g. AFC is the accumulated 
failure so far in the search space, and not just the current branch. 
However, recomputation will recompute previous computation, and probably 
should not again for AFC and activity; I assume it is OK for AFC as 
recomputation does not fail, but I guess activity might be affected?

Thanks and cheers,

Kish

On 10/07/2013 09:45, Christian Schulte wrote:
> Hi Kish,
>
> No, there is no easy way to get activity for dynamically added variables.
> Doable but this would be a very different implementation. In contrast to
> AFC, activity lives completely outside the kernel.
>
> Cheers
> Christian
>
> --
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of Kish Shen
> Sent: Tuesday, July 09, 2013 8:49 PM
> To: users at gecode.org
> Subject: [gecode-users] Using IntActivity with space
>
> Hi,
>
> I am now looking at adding the variable activity selection to the interface
> I am writing.
>
>   From reading the MPG, it looks like IntActivity has a similar API to
> IntAFC, and so cannot be easily used in my code. So is there anyway to setup
> and use it in a similar way to what Christian suggested for AFC previously?
> That is,
>
> 1) to setup the recording of activity for all variables in the space,
>      including variables that are dynamically added
> 2) to obtain the activity of a variable outside of the search engine
> 3) change the decay for all variables
>
> For 2), I could not find an equivalent function to afc() in the
> Gecode::IntVar Member List page that Christian pointed to previously (which
> does list the afc method).
>
> Thanks in advance for any information!
>
> Cheers,
>
> Kish
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>



From rshouker at gmail.com  Thu Jul 11 01:26:33 2013
From: rshouker at gmail.com (Ronen Shouker)
Date: Thu, 11 Jul 2013 02:26:33 +0300
Subject: [gecode-users] failed to link with branch
In-Reply-To: <A5838838-7A09-4B14-83E0-B8C94BDC3A4A@gmail.com>
References: <loom.20130710T234003-729@post.gmane.org>
	<loom.20130711T001337-324@post.gmane.org>
	<A5838838-7A09-4B14-83E0-B8C94BDC3A4A@gmail.com>
Message-ID: <CAJCbc1W_x9-AOpQBGv9rpU7Bc3z-twtxARYzcS8ye9SSOL-sFw@mail.gmail.com>

Thank you Gustavo and Marco for your quick response.
Tried building Gecode with clang and -stdlib=libc++, but failed.
I'm now linking my project with old c++ standard library,
but that's causing me some troubles
 because I used some of the new features.

I just wondering if I made all the necessary changes to build Gecode with
Clang.
All I did was:

export CXX=clang
export CXXFLAGS=-stdlib=libc++

and then configure and make

Anything else I should have done?

10x,
Ronen


2013/7/11 Marco Correia <marco.v.correia at gmail.com>

> On Jul 10, 2013, at 23:19 , Ronen Shouker <rshouker at gmail.com> wrote:
>
> >
> >> [snip]
> >> ... I have one error during link:
> >>
> >> Undefined symbol 'Gecode::branch(
> >>  [snip]
> >>    std::__1::basic_ostream<char,std::__1::char_traits<char> >&
> >>  [snip]
> >>
> >
> > After using nm to inspect the dylib:
> > it seems that those __1:: that for some reason appear in the error
> message
> > (and therefore where produced by the compiler) are not in the gecode
> dylib.
> >
> > Any Clues?
>
> (Disclaimer:  I am not a Gecode expert)
>
> I suspect the problem is the c++ standard library. With clang (the new c++
> compiler shipped with mac os) comes a new c++ standard lib, which you can
> link to by specifying -stdlib=libc++ when compiling/linking you code. To
> link with the old c++ standard lib you compile with -stdlib=libstdc++
> instead.
>
> I suspect you compiled gecode with one of them are now are trying to
> compile your example with the other one.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/9def3e5d/attachment.html>

From tack at gecode.org  Thu Jul 11 02:02:12 2013
From: tack at gecode.org (Guido Tack)
Date: Thu, 11 Jul 2013 10:02:12 +1000
Subject: [gecode-users] failed to link with branch
In-Reply-To: <CAJCbc1W_x9-AOpQBGv9rpU7Bc3z-twtxARYzcS8ye9SSOL-sFw@mail.gmail.com>
References: <loom.20130710T234003-729@post.gmane.org>
	<loom.20130711T001337-324@post.gmane.org>
	<A5838838-7A09-4B14-83E0-B8C94BDC3A4A@gmail.com>
	<CAJCbc1W_x9-AOpQBGv9rpU7Bc3z-twtxARYzcS8ye9SSOL-sFw@mail.gmail.com>
Message-ID: <3EE09A51-5406-4249-B49D-BE6C531FA58C@gecode.org>

Try the following call to configure Gecode:

./configure CC=clang CXX="clang++ -std=c++0x -stdlib=libc++"

I just checked, this compiles, links and runs fine for me (Mac OS 10.8).

Cheers,
Guido

On 11/07/2013, at 9:26 AM, Ronen Shouker <rshouker at gmail.com> wrote:

> Thank you Gustavo and Marco for your quick response.
> Tried building Gecode with clang and -stdlib=libc++, but failed.
> I'm now linking my project with old c++ standard library,
> but that's causing me some troubles
>  because I used some of the new features.
> 
> I just wondering if I made all the necessary changes to build Gecode with Clang.
> All I did was:
> 
> export CXX=clang
> export CXXFLAGS=-stdlib=libc++  
> 
> and then configure and make
> 
> Anything else I should have done?
> 
> 10x,
> Ronen
> 
> 
> 2013/7/11 Marco Correia <marco.v.correia at gmail.com>
> On Jul 10, 2013, at 23:19 , Ronen Shouker <rshouker at gmail.com> wrote:
> 
> >
> >> [snip]
> >> ... I have one error during link:
> >>
> >> Undefined symbol 'Gecode::branch(
> >>  [snip]
> >>    std::__1::basic_ostream<char,std::__1::char_traits<char> >&
> >>  [snip]
> >>
> >
> > After using nm to inspect the dylib:
> > it seems that those __1:: that for some reason appear in the error message
> > (and therefore where produced by the compiler) are not in the gecode dylib.
> >
> > Any Clues?
> 
> (Disclaimer:  I am not a Gecode expert)
> 
> I suspect the problem is the c++ standard library. With clang (the new c++ compiler shipped with mac os) comes a new c++ standard lib, which you can link to by specifying -stdlib=libc++ when compiling/linking you code. To link with the old c++ standard lib you compile with -stdlib=libstdc++ instead.
> 
> I suspect you compiled gecode with one of them are now are trying to compile your example with the other one.
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/36dc1014/attachment.html>

From rshouker at gmail.com  Thu Jul 11 02:07:58 2013
From: rshouker at gmail.com (Ronen Shouker)
Date: Thu, 11 Jul 2013 03:07:58 +0300
Subject: [gecode-users] failed to link with branch
In-Reply-To: <3EE09A51-5406-4249-B49D-BE6C531FA58C@gecode.org>
References: <loom.20130710T234003-729@post.gmane.org>
	<loom.20130711T001337-324@post.gmane.org>
	<A5838838-7A09-4B14-83E0-B8C94BDC3A4A@gmail.com>
	<CAJCbc1W_x9-AOpQBGv9rpU7Bc3z-twtxARYzcS8ye9SSOL-sFw@mail.gmail.com>
	<3EE09A51-5406-4249-B49D-BE6C531FA58C@gecode.org>
Message-ID: <CAJCbc1X7hHra=VQDfPtqDo5nkk3AVHD29vqYE9=Q1ovzWdRTFg@mail.gmail.com>

I will try it,
thanks a lot!


2013/7/11 Guido Tack <tack at gecode.org>

> Try the following call to configure Gecode:
>
> ./configure CC=clang CXX="clang++ -std=c++0x -stdlib=libc++"
>
> I just checked, this compiles, links and runs fine for me (Mac OS 10.8).
>
> Cheers,
> Guido
>
> On 11/07/2013, at 9:26 AM, Ronen Shouker <rshouker at gmail.com> wrote:
>
> Thank you Gustavo and Marco for your quick response.
> Tried building Gecode with clang and -stdlib=libc++, but failed.
> I'm now linking my project with old c++ standard library,
> but that's causing me some troubles
>  because I used some of the new features.
>
> I just wondering if I made all the necessary changes to build Gecode with
> Clang.
> All I did was:
>
> export CXX=clang
> export CXXFLAGS=-stdlib=libc++
>
> and then configure and make
>
> Anything else I should have done?
>
> 10x,
> Ronen
>
>
> 2013/7/11 Marco Correia <marco.v.correia at gmail.com>
>
>> On Jul 10, 2013, at 23:19 , Ronen Shouker <rshouker at gmail.com> wrote:
>>
>> >
>> >> [snip]
>> >> ... I have one error during link:
>> >>
>> >> Undefined symbol 'Gecode::branch(
>> >>  [snip]
>> >>    std::__1::basic_ostream<char,std::__1::char_traits<char> >&
>> >>  [snip]
>> >>
>> >
>> > After using nm to inspect the dylib:
>> > it seems that those __1:: that for some reason appear in the error
>> message
>> > (and therefore where produced by the compiler) are not in the gecode
>> dylib.
>> >
>> > Any Clues?
>>
>> (Disclaimer:  I am not a Gecode expert)
>>
>> I suspect the problem is the c++ standard library. With clang (the new
>> c++ compiler shipped with mac os) comes a new c++ standard lib, which you
>> can link to by specifying -stdlib=libc++ when compiling/linking you code.
>> To link with the old c++ standard lib you compile with -stdlib=libstdc++
>> instead.
>>
>> I suspect you compiled gecode with one of them are now are trying to
>> compile your example with the other one.
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/b2c2656d/attachment.html>

From cschulte at kth.se  Thu Jul 11 12:25:31 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 11 Jul 2013 12:25:31 +0200
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <51DDE428.4050608@cisco.com>
References: <51DC5AFF.8060200@cisco.com> <002801ce7d49$cd13e200$673ba600$@se>
	<51DDE428.4050608@cisco.com>
Message-ID: <002101ce7e20$f95bf690$ec13e3b0$@kth.se>

Hi Kish,

As said, don't wait up for Activity with dynamically adding variables...

Yes, activity information must be initialized (either by restarts or even
better by randomized probing) to be useful.

Variables do not have a member function for activity, that's the whole
point. Check 
	gecode/kernel/brancher-merit.hpp
how to use activity. The access is by the index of the variable in the
variable array used for initializing the activity object.

Yes, activity must be updated during cloning via an update() function.

Yes, recomputation has an effect on activity. But that's okay, activity is
just a measure and does not need to be 100% accurate.

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> Behalf Of Kish Shen
> Sent: Thursday, July 11, 2013 12:46 AM
> Cc: users at gecode.org
> Subject: Re: [gecode-users] Using IntActivity with space
> 
> Hi Christian,
> 
> Thanks. It would be great if activity can be supported by dynamically
added
> variables.
> 
> However, if the user chose to do the search in Gecode, then I guess I can
create
> a IntActivity for those variables just before doing the search.
> 
> I assume the activity information would be very poor at the start, since
it would
> not include any propagation done during the modelling phase.
> 
> It may also be possible to use activity for my (that is the interface's)
variable
> selection, which does the selection at the C++ level, so the activity
information
> need not be associated with all variables, as the ECLiPSe user would not
be able
> to access the activity information themselves.
> 
> I will still need to access the activity for a variable in an IntActivity
though, and
> looking at the class reference for IntActivity, I can't see a method to
get this.
> Also, as cloning and recomputation is done by the interface code, do I
need to
> do anything with this IntActivity object for cloning?
> 
> About recomputation, there might be an issue -- both activity and AFC are
based
> on the history of the computation, e.g. AFC is the accumulated failure so
far in
> the search space, and not just the current branch.
> However, recomputation will recompute previous computation, and probably
> should not again for AFC and activity; I assume it is OK for AFC as
recomputation
> does not fail, but I guess activity might be affected?
> 
> Thanks and cheers,
> 
> Kish
> 
> On 10/07/2013 09:45, Christian Schulte wrote:
> > Hi Kish,
> >
> > No, there is no easy way to get activity for dynamically added
variables.
> > Doable but this would be a very different implementation. In contrast
> > to AFC, activity lives completely outside the kernel.
> >
> > Cheers
> > Christian
> >
> > --
> > Christian Schulte, Professor of Computer Science, KTH,
> > www.ict.kth.se/~cschulte/
> >
> >
> > -----Original Message-----
> > From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> > Behalf Of Kish Shen
> > Sent: Tuesday, July 09, 2013 8:49 PM
> > To: users at gecode.org
> > Subject: [gecode-users] Using IntActivity with space
> >
> > Hi,
> >
> > I am now looking at adding the variable activity selection to the
> > interface I am writing.
> >
> >   From reading the MPG, it looks like IntActivity has a similar API to
> > IntAFC, and so cannot be easily used in my code. So is there anyway to
> > setup and use it in a similar way to what Christian suggested for AFC
> previously?
> > That is,
> >
> > 1) to setup the recording of activity for all variables in the space,
> >      including variables that are dynamically added
> > 2) to obtain the activity of a variable outside of the search engine
> > 3) change the decay for all variables
> >
> > For 2), I could not find an equivalent function to afc() in the
> > Gecode::IntVar Member List page that Christian pointed to previously
> > (which does list the afc method).
> >
> > Thanks in advance for any information!
> >
> > Cheers,
> >
> > Kish
> >
> > _______________________________________________
> > Gecode users mailing list
> > users at gecode.org
> > https://www.gecode.org/mailman/listinfo/gecode-users
> >
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From farshid.hassani at gmail.com  Thu Jul 11 18:00:36 2013
From: farshid.hassani at gmail.com (Farshid Hassani Bijarbooneh)
Date: Thu, 11 Jul 2013 18:00:36 +0200
Subject: [gecode-users] operator = for NaryUnion
Message-ID: <5AEC0B98-BD12-4053-9D0F-0332A48EC6F0@gmail.com>

Hi,

In Gecode 4.1 creating n-ary union of variable ranges and assigning to a NaryUnion causes a segmentation fault, whereas in Gecode 3.7.3 it seems to work: 
Region myRegion(*this); 
Iter::Ranges::NaryUnion narr[2];
IntVarRanges* varRange = myRegion.alloc<IntVarRanges>(x.size()); // x is IntVarArray variables of the model 
for (int r=0; r < x.size(); r++) {
    varRange[r].init(x[r]);
}

narr[0]  =  Iter::Ranges::NaryUnion(myRegion, varRange, x.size());

If we instead create only one NaryUnion then it works fine in Gecode 4.1:
Iter::Ranges::NaryUnion uni(myRegion, varRange, x.size());

I also attached a minimal code demonstrating this issue. Do you think if there is something I'm missing here?

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test5.cpp
Type: application/octet-stream
Size: 1517 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/a62d57c0/attachment.obj>
-------------- next part --------------


Cheers,
Farshid

From cschulte at kth.se  Thu Jul 11 18:18:30 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 11 Jul 2013 18:18:30 +0200
Subject: [gecode-users] operator = for NaryUnion
In-Reply-To: <5AEC0B98-BD12-4053-9D0F-0332A48EC6F0@gmail.com>
References: <5AEC0B98-BD12-4053-9D0F-0332A48EC6F0@gmail.com>
Message-ID: <002801ce7e52$49a76bd0$dcf64370$@kth.se>

Hi,

 

Yes that is a bug in the default constructor of NaryUnion. Alas, I have no
idea yet how to fix it (the point is, this damned thing should not have a
default constructor in the first place ;-( ).

 

The reason why the default constructor comes into play is because of the
array declaration narr[2] which runs the default constructor on narr[0] and
narr[1]. What would make it work is if you first run a call to init() on the
array elements narr[.] rather than an assignment operator.

 

Cheers

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Farshid Hassani Bijarbooneh
Sent: Thursday, July 11, 2013 6:01 PM
To: users at gecode.org
Subject: [gecode-users] operator = for NaryUnion

 

Hi,

In Gecode 4.1 creating n-ary union of variable ranges and assigning to a
NaryUnion causes a segmentation fault, whereas in Gecode 3.7.3 it seems to
work: 
Region myRegion(*this); 
Iter::Ranges::NaryUnion narr[2];
IntVarRanges* varRange = myRegion.alloc<IntVarRanges>(x.size()); // x is
IntVarArray variables of the model 
for (int r=0; r < x.size(); r++) {
    varRange[r].init(x[r]);
}

narr[0]  =  Iter::Ranges::NaryUnion(myRegion, varRange, x.size());

If we instead create only one NaryUnion then it works fine in Gecode 4.1:
Iter::Ranges::NaryUnion uni(myRegion, varRange, x.size());

I also attached a minimal code demonstrating this issue. Do you think if
there is something I'm missing here?



Cheers,
Farshid

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/2d6ced4d/attachment.html>

From cschulte at kth.se  Thu Jul 11 19:24:11 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 11 Jul 2013 19:24:11 +0200
Subject: [gecode-users] operator = for NaryUnion
In-Reply-To: <5AEC0B98-BD12-4053-9D0F-0332A48EC6F0@gmail.com>
References: <5AEC0B98-BD12-4053-9D0F-0332A48EC6F0@gmail.com>
Message-ID: <005d01ce7e5b$75587c20$60097460$@kth.se>

Hi, fixed in the trunk, patch is attached. Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Farshid Hassani Bijarbooneh
Sent: Thursday, July 11, 2013 6:01 PM
To: users at gecode.org
Subject: [gecode-users] operator = for NaryUnion

 

Hi,

In Gecode 4.1 creating n-ary union of variable ranges and assigning to a
NaryUnion causes a segmentation fault, whereas in Gecode 3.7.3 it seems to
work: 
Region myRegion(*this); 
Iter::Ranges::NaryUnion narr[2];
IntVarRanges* varRange = myRegion.alloc<IntVarRanges>(x.size()); // x is
IntVarArray variables of the model 
for (int r=0; r < x.size(); r++) {
    varRange[r].init(x[r]);
}

narr[0]  =  Iter::Ranges::NaryUnion(myRegion, varRange, x.size());

If we instead create only one NaryUnion then it works fine in Gecode 4.1:
Iter::Ranges::NaryUnion uni(myRegion, varRange, x.size());

I also attached a minimal code demonstrating this issue. Do you think if
there is something I'm missing here?



Cheers,
Farshid

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/1d579153/attachment-0001.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: patch.txt
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/1d579153/attachment-0001.txt>

From joseph.scott at it.uu.se  Thu Jul 11 20:13:21 2013
From: joseph.scott at it.uu.se (Joseph Scott)
Date: Thu, 11 Jul 2013 20:13:21 +0200
Subject: [gecode-users] operator = for NaryUnion
In-Reply-To: <mailman.955.1373563459.1115.users@gecode.org>
References: <mailman.955.1373563459.1115.users@gecode.org>
Message-ID: <51DEF5C1.80408@it.uu.se>

Thanks, Christian! That fixed the error I was encountering.

/Joe

users-request at gecode.org wrote:
> Subject:
> Re: [gecode-users] operator = for NaryUnion
> From:
> "Christian Schulte" <cschulte at kth.se <mailto:cschulte at kth.se>>
> Date:
> Thu, 11 Jul 2013 19:24:11 +0200
>
> To:
> "'Farshid Hassani Bijarbooneh'" <farshid.hassani at gmail.com
> <mailto:farshid.hassani at gmail.com>>, <users at gecode.org
> <mailto:users at gecode.org>>
>
>
> Hi, fixed in the trunk, patch is attached. Christian
>
>  
>
> --
>
> Christian Schulte, www.ict.kth.se/~cschulte/
>

-- 
Joseph Scott, PhD Student
Computing Science Div., Dept of Information Technology
Uppsala University, Sweden

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130711/f0131f40/attachment.html>

From l.digaspero at uniud.it  Fri Jul 12 12:47:45 2013
From: l.digaspero at uniud.it (Luca Di Gaspero)
Date: Fri, 12 Jul 2013 12:47:45 +0200
Subject: [gecode-users] Parameter/Options passing to engines through
	script
In-Reply-To: <001a01ce7d48$1c9e8070$55db8150$@se>
References: <04F5E1A7-3CA4-495F-8145-BFF7C5919B2F@uniud.it>
	<37965A20-774D-4510-A95E-90C7FE5C13C9@uniud.it>
	<001a01ce7d48$1c9e8070$55db8150$@se>
Message-ID: <C0D25442-12F0-4AF3-800E-0F903B10F401@uniud.it>

Hi Christian,

> Sorry for the delay but I did not really know what to answer ;-)

we also took some time, because we do not know (exactly) HOW to ask :-) Therefore we decided to slightly tidy up our current version of the code and put it in a bitbucket repository. You can find it at https://bitbucket.org/tunnuz/gecode-lns together with a small adaptation of the TSP example for LNS full of workarounds (including a patch to gecode/search.hh for granting friendship of BaseEngine to LNS as it was done with RBS).

Consider that some of the code is taken verbatim from the RBS engine (sometimes comments included), and adapted for LNS.

> So, maybe you could summarize:
> - what does the engine do

The engine is performing a Large Neighborhood Search, i.e., starting from a complete initial solution obtained by a "start_engine"(1), it will iteratively explore the neighborhood obtained by relaxing some of the variables of the current solution and using an engine to find a better new solution with only those variables changed. The strategy for relaxing the variables should be problem-specific (it will be implemented in a required addition to Space) and also the branching strategy for exploring that neighborhood (idem).

The abstract pseudo-code of LNS (1) is the following [it is really pseudo-code, all the technicalities for dealing with cloning, pointers and so on is taken care in the actual code]:

AbstractLNS()
{
  current->postBranchingForInitialSolution();
  current = start_engine->next(); // find initial solution 
  best = current;
  intensity = initialIntensity;
  while (!StopCondition) {
    neighbor = current->cloneAndRelax(intensity);
    neighbor->constrain(current, specificConstrainStrategy); // constrain neighborhoods to have a solution cost according to a specific constrain strategy (e.g., strictly better than current, or based on Simulated Annealing)
    neighborhood_engine->reset(neighbor); // let the neighborhood_engine start from the relaxed solution
    nextSolution = neighborhood_engine->next();
    if (nextSolution->improving(best))
    {
      best = nextSolution;
      current = nextSolution;
      intensity = initialIntensity;
      idle_iterations = 0;
    }
    else if (nextSolution->improving(current) || constrainStrategy == SimulatedAnnealing)
    {
      current = nextSolution;
      intensity = initialIntensity;
      idle_iterations = 0;
    }
    else
      idle_iterations++;
    if (idle_iterations > max_iterations_per_intensity)
      intensity = increaseIntensity;
  }
  return best;
}

> - what does it require from a space (you already mentioned two additional
> member functions)

Actually they grow up, although some of them have a tentative definition. The augmented interface of Space for being used in LNS is currently defined in the LNSModel class (in hybrid_model.hh).

There is another quite impacting requirement for a space to be used in the LNS engine: the post of branchers MUST be completely taken away from model posting (i.e., it should not be performed in the Space constructor) because LNS requires a fresh root model (free of branching) for cloning(3), since in the LNS overall strategy the branching for searching the initial solution is in principle different from the branching for neighborhood exploration. Since we do not have access to any method for removing branchers once they are posted we are forced to impose that branching must be posted through some functions.

> - what other parameters are needed to control the engine

Actually there are a bunch of parameters, you can find in LNSOptions class, namely: the range of variation of the intensity parameter (more or less related to the number of variables to be relaxed), the number of non improving iterations before intensity must be increased, the strategy for constraining the cost value in neighbors solutions (none, strictly or loosely improving over current, simulated annealing), for simulated annealing there are a few other specific parameters related to the temperature, cooling rate and the number of neighbors accepted before decreasing the temperature.

We will be happy if you can give a look at the engine and provide us with suggestion for integrating it. Consider that we also aim at contributing other hybrid metaheuristics that will blend with CP by driving the search (at least an ACO implementation and possibly some genetic algorithms), therefore these issues are quite general from this point of view.

Thanks and have a nice weekend (considered the organization issues of the CP conference :-)

Luca and Tommaso

----
Notes:
(1) the start engine, is actually needed because it will be not possible to change the options object (more precisely the stop object) passed to an engine after it has been created. Namely, we need two different stop objects for the first solution (which is the "global" meta-engine stop object) and for the neighbors (which is a timestop object).
(2) the actual LNS code, tough, is implemented differently in the engine because we wanted to comply with the "next()" semantics.
(3) we must confess that we are not completely happy of this solution, but it was the one with the least impact in the "jungle"

From askri.manel1 at gmail.com  Sat Jul 13 19:03:28 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Sat, 13 Jul 2013 18:03:28 +0100
Subject: [gecode-users] Multiple Multidimensional Knapsack Problem (MMKP)
Message-ID: <CAKWqT4Aj+Nf2iKw33yTwP5+qJTdx_ukp2v2jikX26akGkiPQeQ@mail.gmail.com>

hi every one !


i'm sorry to be so bothering but i really don't know how to solve my
problem here:

Mathematically, the placement problem the placement of testers into the
right nodes) can be modeled by merging the two introduced knapsack
variants: multidimensional and multiple knapsack problems. The obtained
model is called Multiple Multidimensional Knapsack Problem (MMKP).. We
assume that the
execution environment consists of m nodes and we have n test components that
may be assigned to them. We attempt to find an optimal solution of test com-
ponent placement not violating resource and connectivity constraints and
also
maximizing their placement profit. We can formulate this problem using
the MMKP variant
 there is more details in a file below :

The provided resources by the m nodes are given through three vectors: C
that contains the provided CPU, R that provides the available RAM and B that
contains the battery level of each node( see the C,R,B representations)

In addition, the required resources for each test component are illustrated
over
three vectors: Dcthat carries the required CPU, Drthat contains the required
RAM and Dbthat contains the required Battery by each tester.( see the
Dc,Dr,Db representations)

i have got an error that i dont know the sorce , i will post also my code
file MMKP.cpp

Thanks for evry help and very sorry to bother you again
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130713/9b99d411/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MMKP.cpp
Type: text/x-c++src
Size: 2963 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130713/9b99d411/attachment-0001.cpp>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MMKP Model.png
Type: image/png
Size: 29099 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130713/9b99d411/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: C,R,B representations.png
Type: image/png
Size: 8668 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130713/9b99d411/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Dc,DB,DR representations.png
Type: image/png
Size: 23375 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130713/9b99d411/attachment-0005.png>

From tack at gecode.org  Mon Jul 15 01:22:47 2013
From: tack at gecode.org (Guido Tack)
Date: Mon, 15 Jul 2013 09:22:47 +1000
Subject: [gecode-users] Multiple Multidimensional Knapsack Problem (MMKP)
In-Reply-To: <CAKWqT4Aj+Nf2iKw33yTwP5+qJTdx_ukp2v2jikX26akGkiPQeQ@mail.gmail.com>
References: <CAKWqT4Aj+Nf2iKw33yTwP5+qJTdx_ukp2v2jikX26akGkiPQeQ@mail.gmail.com>
Message-ID: <7CC7F182-A8E0-4E59-8E6A-BD8F9B7B9901@gecode.org>

The error clearly states that the argument arrays have different sizes (in line 75), so you're probably confusing rows and columns.  Check the docs for Matrix.

If you can't see where the error originated, you can use gdb with "catch throw" to catch exceptions (or some other debugger).

And please don't post to users-owner.

Cheers,
Guido

On 14/07/2013, at 3:03 AM, manel askri <askri.manel1 at gmail.com> wrote:

> hi every one !
> 
> 
> i'm sorry to be so bothering but i really don't know how to solve my problem here:
> 
> Mathematically, the placement problem the placement of testers into the right nodes) can be modeled by merging the two introduced knapsack variants: multidimensional and multiple knapsack problems. The obtained model is called Multiple Multidimensional Knapsack Problem (MMKP).. We assume that the
> execution environment consists of m nodes and we have n test components that
> may be assigned to them. We attempt to find an optimal solution of test com-
> ponent placement not violating resource and connectivity constraints and also
> maximizing their placement profit. We can formulate this problem using the MMKP variant 
>  there is more details in a file below :
> 
> The provided resources by the m nodes are given through three vectors: C
> that contains the provided CPU, R that provides the available RAM and B that
> contains the battery level of each node( see the C,R,B representations)
> 
> In addition, the required resources for each test component are illustrated over
> three vectors: Dcthat carries the required CPU, Drthat contains the required
> RAM and Dbthat contains the required Battery by each tester.( see the Dc,Dr,Db representations)
> 
> i have got an error that i dont know the sorce , i will post also my code file MMKP.cpp 
> 
> Thanks for evry help and very sorry to bother you again 
> <MMKP.cpp><MMKP Model.png><C,R,B representations.png><Dc,DB,DR representations.png>_______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130715/b3737f46/attachment.html>

From kisshen at cisco.com  Mon Jul 15 05:12:43 2013
From: kisshen at cisco.com (Kish Shen)
Date: Mon, 15 Jul 2013 04:12:43 +0100
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <002101ce7e20$f95bf690$ec13e3b0$@kth.se>
References: <51DC5AFF.8060200@cisco.com> <002801ce7d49$cd13e200$673ba600$@se>
	<51DDE428.4050608@cisco.com>
	<002101ce7e20$f95bf690$ec13e3b0$@kth.se>
Message-ID: <51E368AB.1050906@cisco.com>

On 11/07/2013 11:25, Christian Schulte wrote:
> Hi Kish,
>
> As said, don't wait up for Activity with dynamically adding variables...
>
> Yes, activity information must be initialized (either by restarts or even
> better by randomized probing) to be useful.
>

Could the initial value be the degree like in AFC?


> Yes, recomputation has an effect on activity. But that's okay, activity is
> just a measure and does not need to be 100% accurate.

I know it is just a heuristic measurement, but counting recomputation 
seem to introduce some bias, but more importantly, doesn't this mean 
that the values will change with different amount of recomputation, 
which can then lead to different variable selection?

Cheers,

Kish




From cschulte at kth.se  Tue Jul 16 11:09:28 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 16 Jul 2013 11:09:28 +0200
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <51E368AB.1050906@cisco.com>
References: <51DC5AFF.8060200@cisco.com>
	<002801ce7d49$cd13e200$673ba600$@se>	<51DDE428.4050608@cisco.com>	<002101ce7e20$f95bf690$ec13e3b0$@kth.se>
	<51E368AB.1050906@cisco.com>
Message-ID: <001401ce8204$2d705660$88510320$@se>

Yes, changes to recomputation can change the variable ordering but that's
the best we can do.I think quite some variable selection strategies will
also work differently on different hardware/software platforms due to
different rounding...

How about one can give an initialization function for Activity such that the
activity value will be initialized for each variable. That should be easy.

Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Monday, July 15, 2013 5:13 AM
Cc: users at gecode.org
Subject: Re: [gecode-users] Using IntActivity with space

On 11/07/2013 11:25, Christian Schulte wrote:
> Hi Kish,
>
> As said, don't wait up for Activity with dynamically adding variables...
>
> Yes, activity information must be initialized (either by restarts or 
> even better by randomized probing) to be useful.
>

Could the initial value be the degree like in AFC?


> Yes, recomputation has an effect on activity. But that's okay, 
> activity is just a measure and does not need to be 100% accurate.

I know it is just a heuristic measurement, but counting recomputation seem
to introduce some bias, but more importantly, doesn't this mean that the
values will change with different amount of recomputation, which can then
lead to different variable selection?

Cheers,

Kish



_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Tue Jul 16 11:29:07 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 16 Jul 2013 11:29:07 +0200
Subject: [gecode-users] Parameter/Options passing to engines through
	script
In-Reply-To: <C0D25442-12F0-4AF3-800E-0F903B10F401@uniud.it>
References: <04F5E1A7-3CA4-495F-8145-BFF7C5919B2F@uniud.it>
	<37965A20-774D-4510-A95E-90C7FE5C13C9@uniud.it>
	<001a01ce7d48$1c9e8070$55db8150$@se>
	<C0D25442-12F0-4AF3-800E-0F903B10F401@uniud.it>
Message-ID: <002501ce8206$eb8b6980$c2a23c80$@se>

Hi,

Let me try to summarize whether I got it (kind of):
 - LNS uses two engines, one for finding an initial solution and one for the
neighborhoud (you see that this is no strictly necessary as a solution canbe
computed independently, but I agree that's how it should be).
 - You use a function that posts the brancher for the initial solution. That
is not needed, please read 8.1 in MPG (has changed for Gecode 4.*). But
that's fine.
 - cloneAndRelax does the relaxation but why also the cloning? I just
returns a space that is a relaxation of the solution, right? It also posts
the branching, right?
 - I do not like very much the hard-wiring of simulated annealing as just
one particular meta-heuristic. Could one factorize this out into a function
or class?
 - How do you implement improving()?

Cheers
Christian

PS: Is one of you coming to Uppsala? Then we could chat there unless you
want to have it done before.

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: Luca Di Gaspero [mailto:l.digaspero at uniud.it] 
Sent: Friday, July 12, 2013 12:48 PM
To: cschulte at kth.se
Cc: 'Tommaso Urli'; users at gecode.org
Subject: Re: [gecode-users] Parameter/Options passing to engines through
script

Hi Christian,

> Sorry for the delay but I did not really know what to answer ;-)

we also took some time, because we do not know (exactly) HOW to ask :-)
Therefore we decided to slightly tidy up our current version of the code and
put it in a bitbucket repository. You can find it at
https://bitbucket.org/tunnuz/gecode-lns together with a small adaptation of
the TSP example for LNS full of workarounds (including a patch to
gecode/search.hh for granting friendship of BaseEngine to LNS as it was done
with RBS).

Consider that some of the code is taken verbatim from the RBS engine
(sometimes comments included), and adapted for LNS.

> So, maybe you could summarize:
> - what does the engine do

The engine is performing a Large Neighborhood Search, i.e., starting from a
complete initial solution obtained by a "start_engine"(1), it will
iteratively explore the neighborhood obtained by relaxing some of the
variables of the current solution and using an engine to find a better new
solution with only those variables changed. The strategy for relaxing the
variables should be problem-specific (it will be implemented in a required
addition to Space) and also the branching strategy for exploring that
neighborhood (idem).

The abstract pseudo-code of LNS (1) is the following [it is really
pseudo-code, all the technicalities for dealing with cloning, pointers and
so on is taken care in the actual code]:

AbstractLNS()
{
  current->postBranchingForInitialSolution();
  current = start_engine->next(); // find initial solution
  best = current;
  intensity = initialIntensity;
  while (!StopCondition) {
    neighbor = current->cloneAndRelax(intensity);
    neighbor->constrain(current, specificConstrainStrategy); // constrain
neighborhoods to have a solution cost according to a specific constrain
strategy (e.g., strictly better than current, or based on Simulated
Annealing)
    neighborhood_engine->reset(neighbor); // let the neighborhood_engine
start from the relaxed solution
    nextSolution = neighborhood_engine->next();
    if (nextSolution->improving(best))
    {
      best = nextSolution;
      current = nextSolution;
      intensity = initialIntensity;
      idle_iterations = 0;
    }
    else if (nextSolution->improving(current) || constrainStrategy ==
SimulatedAnnealing)
    {
      current = nextSolution;
      intensity = initialIntensity;
      idle_iterations = 0;
    }
    else
      idle_iterations++;
    if (idle_iterations > max_iterations_per_intensity)
      intensity = increaseIntensity;
  }
  return best;
}

> - what does it require from a space (you already mentioned two 
> additional member functions)

Actually they grow up, although some of them have a tentative definition.
The augmented interface of Space for being used in LNS is currently defined
in the LNSModel class (in hybrid_model.hh).

There is another quite impacting requirement for a space to be used in the
LNS engine: the post of branchers MUST be completely taken away from model
posting (i.e., it should not be performed in the Space constructor) because
LNS requires a fresh root model (free of branching) for cloning(3), since in
the LNS overall strategy the branching for searching the initial solution is
in principle different from the branching for neighborhood exploration.
Since we do not have access to any method for removing branchers once they
are posted we are forced to impose that branching must be posted through
some functions.

> - what other parameters are needed to control the engine

Actually there are a bunch of parameters, you can find in LNSOptions class,
namely: the range of variation of the intensity parameter (more or less
related to the number of variables to be relaxed), the number of non
improving iterations before intensity must be increased, the strategy for
constraining the cost value in neighbors solutions (none, strictly or
loosely improving over current, simulated annealing), for simulated
annealing there are a few other specific parameters related to the
temperature, cooling rate and the number of neighbors accepted before
decreasing the temperature.

We will be happy if you can give a look at the engine and provide us with
suggestion for integrating it. Consider that we also aim at contributing
other hybrid metaheuristics that will blend with CP by driving the search
(at least an ACO implementation and possibly some genetic algorithms),
therefore these issues are quite general from this point of view.

Thanks and have a nice weekend (considered the organization issues of the CP
conference :-)

Luca and Tommaso

----
Notes:
(1) the start engine, is actually needed because it will be not possible to
change the options object (more precisely the stop object) passed to an
engine after it has been created. Namely, we need two different stop objects
for the first solution (which is the "global" meta-engine stop object) and
for the neighbors (which is a timestop object).
(2) the actual LNS code, tough, is implemented differently in the engine
because we wanted to comply with the "next()" semantics.
(3) we must confess that we are not completely happy of this solution, but
it was the one with the least impact in the "jungle"



From elinyong at gmail.com  Tue Jul 16 14:30:38 2013
From: elinyong at gmail.com (Yong LIN)
Date: Tue, 16 Jul 2013 20:30:38 +0800
Subject: [gecode-users] core dumped error
Message-ID: <CADfnOYvCEb5FWzDKzJGZmN-pOTW4k9iGvxa9bTcv_C57xepazQ@mail.gmail.com>

Hi All,

I encountered an error of "Segmentation fault (core dumped)" during my
coding. What are the reasons for causing this kind of error? Thanks in
advance!

regards,
Lin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130716/d6aa3b28/attachment.html>

From cschulte at kth.se  Tue Jul 16 14:37:43 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 16 Jul 2013 14:37:43 +0200
Subject: [gecode-users] core dumped error
In-Reply-To: <CADfnOYvCEb5FWzDKzJGZmN-pOTW4k9iGvxa9bTcv_C57xepazQ@mail.gmail.com>
References: <CADfnOYvCEb5FWzDKzJGZmN-pOTW4k9iGvxa9bTcv_C57xepazQ@mail.gmail.com>
Message-ID: <006001ce8221$44fe6f20$cefb4d60$@se>

Could be anything ;-) Segmentation fault means that you refer to a memory
address that does not belong to your process.

 

Just use a debugger to find out!

 

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Yong LIN
Sent: Tuesday, July 16, 2013 2:31 PM
To: users at gecode.org
Subject: [gecode-users] core dumped error

 

Hi All,

I encountered an error of "Segmentation fault (core dumped)" during my
coding. What are the reasons for causing this kind of error? Thanks in
advance!

regards,

Lin 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130716/edcf77ae/attachment.html>

From kisshen at cisco.com  Tue Jul 16 18:02:05 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 16 Jul 2013 17:02:05 +0100
Subject: [gecode-users] half reification and expressions in MiniModel
Message-ID: <51E56E7D.3040108@cisco.com>

Hi,

I am looking at half reification and how to add support for it to 
ECLiPSe's Gecode interface. In particular, I am looking at expressions 
posted in the MiniModel:

Looking at the documentation, I don't think the reified form of rel() -- 
the one with a boolean control variable -- is supported by the MiniModel.

However, in my existing code, I do support the equivalent of reified 
rel() by posting the BoolExpr:

B == <IntRel>

where B is the boolean control variable.

In addition, the following are also supported:


B >> <IntRel>

<IntRel> >> B

If I understand correctly, these two are logically equivalent to the two 
half reification cases.

I am wondering if the above forms will now take full advantage of the 
half reification facilities of Gecode 4?

Thanks in advance for any information!

Cheers,

Kish




From kisshen at cisco.com  Tue Jul 16 18:10:45 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 16 Jul 2013 17:10:45 +0100
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <001401ce8204$2d705660$88510320$@se>
References: <51DC5AFF.8060200@cisco.com>
	<002801ce7d49$cd13e200$673ba600$@se>	<51DDE428.4050608@cisco.com>	<002101ce7e20$f95bf690$ec13e3b0$@kth.se>
	<51E368AB.1050906@cisco.com> <001401ce8204$2d705660$88510320$@se>
Message-ID: <51E57085.5030702@cisco.com>

On 16/07/2013 10:09, Christian Schulte wrote:
> Yes, changes to recomputation can change the variable ordering but that's
> the best we can do.I think quite some variable selection strategies will
> also work differently on different hardware/software platforms due to
> different rounding...
>

To me, changing the amount of recomputation is somewhat different from 
running on different hardware/software platforms. Am I correct that 
besides activity, changing the amount of recomputation will only affect 
memory/execution performance?

Is it not possible to turn off the gathering of activity information 
during recomputation? I assume that (like in our interface code), you 
know when you are performing recomputation, and if so, can the gathering 
of activity information be turned off for the duration?

> How about one can give an initialization function for Activity such that the
> activity value will be initialized for each variable. That should be easy.

This sound like a good idea!

Cheers,

Kish




From cschulte at kth.se  Tue Jul 16 18:17:59 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 16 Jul 2013 18:17:59 +0200
Subject: [gecode-users] half reification and expressions in MiniModel
In-Reply-To: <51E56E7D.3040108@cisco.com>
References: <51E56E7D.3040108@cisco.com>
Message-ID: <004201ce8240$0a88fa30$1f9aee90$@kth.se>

Hi Kish,

You are really trying to embarrass us in public, aren't you ;-) No,
minimodel does not yet use half-reification. But if you do the flattening
yourself (which I guess you do) you should use when possible.

Honestly, half-reification has been (so-far, that is) one of the biggest
time wasters in Gecode history. That might change if we replace minimodel at
some point in time by something cooler.

Cheers
Christian



--
Christian Schulte, www.ict.kth.se/~cschulte/

> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> Behalf Of Kish Shen
> Sent: Tuesday, July 16, 2013 6:02 PM
> To: users at gecode.org
> Subject: [gecode-users] half reification and expressions in MiniModel
> 
> Hi,
> 
> I am looking at half reification and how to add support for it to
ECLiPSe's
> Gecode interface. In particular, I am looking at expressions posted in the
> MiniModel:
> 
> Looking at the documentation, I don't think the reified form of rel() --
the one
> with a boolean control variable -- is supported by the MiniModel.
> 
> However, in my existing code, I do support the equivalent of reified
> rel() by posting the BoolExpr:
> 
> B == <IntRel>
> 
> where B is the boolean control variable.
> 
> In addition, the following are also supported:
> 
> 
> B >> <IntRel>
> 
> <IntRel> >> B
> 
> If I understand correctly, these two are logically equivalent to the two
half
> reification cases.
> 
> I am wondering if the above forms will now take full advantage of the half
> reification facilities of Gecode 4?
> 
> Thanks in advance for any information!
> 
> Cheers,
> 
> Kish
> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Tue Jul 16 18:20:11 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 16 Jul 2013 18:20:11 +0200
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <51E57085.5030702@cisco.com>
References: <51DC5AFF.8060200@cisco.com>	<002801ce7d49$cd13e200$673ba600$@se>	<51DDE428.4050608@cisco.com>	<002101ce7e20$f95bf690$ec13e3b0$@kth.se>	<51E368AB.1050906@cisco.com>
	<001401ce8204$2d705660$88510320$@se> <51E57085.5030702@cisco.com>
Message-ID: <004401ce8240$58814df0$0983e9d0$@kth.se>

No, that's not possible: when recomputation is done you actually also do
propagation for the next alternative. That's why recomputation will not mess
up things too badly. You can read the section "why recomputation is almost
for free" in MPG that explains that.

Ok, I'll whip something up for initialization. Sometime later.

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> Behalf Of Kish Shen
> Sent: Tuesday, July 16, 2013 6:11 PM
> Cc: users at gecode.org
> Subject: Re: [gecode-users] Using IntActivity with space
> 
> On 16/07/2013 10:09, Christian Schulte wrote:
> > Yes, changes to recomputation can change the variable ordering but
> > that's the best we can do.I think quite some variable selection
> > strategies will also work differently on different hardware/software
> > platforms due to different rounding...
> >
> 
> To me, changing the amount of recomputation is somewhat different from
> running on different hardware/software platforms. Am I correct that
besides
> activity, changing the amount of recomputation will only affect
> memory/execution performance?
> 
> Is it not possible to turn off the gathering of activity information
during
> recomputation? I assume that (like in our interface code), you know when
you
> are performing recomputation, and if so, can the gathering of activity
> information be turned off for the duration?
> 
> > How about one can give an initialization function for Activity such
> > that the activity value will be initialized for each variable. That
should be easy.
> 
> This sound like a good idea!
> 
> Cheers,
> 
> Kish
> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From andrea.peano at unife.it  Fri Jul 19 10:42:30 2013
From: andrea.peano at unife.it (Andrea Peano)
Date: Fri, 19 Jul 2013 10:42:30 +0200
Subject: [gecode-users] Refresh an inspector
Message-ID: <CAGTgUnNu7B5_FYz+JL05SHwYHmUmMDsBEoYG8E1fd-ic96Hppg@mail.gmail.com>

Hello,
I would inspect only a "slice" of a solution by means of a user defined
inspector (with GIST), and by using toolbar buttons I would change the
slice to be shown (and then refresh the window).

I tried to rewrite the event handler of the Qtoolbutton in order to change
the state of the inspector and to refresh it, but I do not find the right
way to implement it straightforwardly (in C++).

How can I control the inspector from an event handler of a toolbar button
of a window created by the "initialize" method of the inspector?
Can you suggest me a particular architecture?

Thank you,
Andrea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130719/4694cfd5/attachment.html>

From tack at gecode.org  Sat Jul 20 07:20:17 2013
From: tack at gecode.org (Guido Tack)
Date: Sat, 20 Jul 2013 15:20:17 +1000
Subject: [gecode-users] Gecode 4.2.0 released
Message-ID: <FACCF5D1-9B05-4800-AA4E-F1ACBDCB73BE@gecode.org>

Dear all,

we are releasing the next version of Gecode:

                         Gecode 4.2.0
                http://www.gecode.org

This release adds no-goods from restarts, removes memory statistics (but Gecode can be configured for more accurate statistics), and fixes a number of bugs.

On our web site, you find source packages, binary packages for Windows and Mac OS, and the full documentation.

Cheers,
Guido



From shawnleem at outlook.com  Sun Jul 21 09:06:11 2013
From: shawnleem at outlook.com (S L)
Date: Sun, 21 Jul 2013 15:06:11 +0800
Subject: [gecode-users] update Args automatically?
Message-ID: <BLU178-W343C62178FDA960AD129B3BE6D0@phx.gbl>

Hi All,
For the example scripts provided in the Gecode package, there are usages of like IntArgs, IntVarArgs etc, take the domino problem as an example.  I am wondering the clone of a space will also clone this "Args" automatically? Since I see that they are not updated in the space copy method as variable arrays declared in the private section of a script space.   Thanks!
regards,Shawn  		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130721/ea81da3f/attachment.html>

From cschulte at kth.se  Sun Jul 21 14:58:08 2013
From: cschulte at kth.se (Christian Schulte)
Date: Sun, 21 Jul 2013 14:58:08 +0200
Subject: [gecode-users] update Args automatically?
In-Reply-To: <BLU178-W343C62178FDA960AD129B3BE6D0@phx.gbl>
References: <BLU178-W343C62178FDA960AD129B3BE6D0@phx.gbl>
Message-ID: <006a01ce8611$f2c3b040$d84b10c0$@kth.se>

Hi,

 

No, the actual IntVarArgs etc are not updated. However any variable that is
used by a constraint or branching is automatically updated when their home
space is copied. And those arrays that you want to use for printing etc, are
those that you have to store as a meber of a space and update.

 

Cheers

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of S L
Sent: Sunday, July 21, 2013 9:06 AM
To: users at gecode.org
Subject: [gecode-users] update Args automatically?

 

Hi All,

 

For the example scripts provided in the Gecode package, there are usages of
like IntArgs, IntVarArgs etc, take the domino problem as an example.  I am
wondering the clone of a space will also clone this "Args" automatically?
Since I see that they are not updated in the space copy method as variable
arrays declared in the private section of a script space.   Thanks!

 

regards,

Shawn 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130721/038aea39/attachment.html>

From gustavo.ggutierrez at gmail.com  Sun Jul 21 17:45:17 2013
From: gustavo.ggutierrez at gmail.com (Gustavo Gutierrez)
Date: Sun, 21 Jul 2013 10:45:17 -0500
Subject: [gecode-users] Latest MPG is for Gecode 4.1
Message-ID: <2ABBF8D7-1D3B-40FC-ACD4-E5004B09F863@gmail.com>

Hi Christian and Guido,

I just tried to update to the new version of gecode but ran into some problems. I downloaded the latest version of MPG but realized it is for Gecode 4.1. Probably you already know that and are just preparing a new iteration of MPG. However, you often update both gecode and MPG at the same time. In any case, this is just to let you know.

Best regards,
Gustavo   

From cschulte at kth.se  Sun Jul 21 20:14:22 2013
From: cschulte at kth.se (Christian Schulte)
Date: Sun, 21 Jul 2013 20:14:22 +0200
Subject: [gecode-users] Latest MPG is for Gecode 4.1
In-Reply-To: <2ABBF8D7-1D3B-40FC-ACD4-E5004B09F863@gmail.com>
References: <2ABBF8D7-1D3B-40FC-ACD4-E5004B09F863@gmail.com>
Message-ID: <000301ce863e$214ecdb0$63ec6910$@kth.se>

Hi Gustavo,

I am sorry but it is 4.2.0, indeed. Did you flush the cache of your browser?
;-)

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/

> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> Behalf Of Gustavo Gutierrez
> Sent: Sunday, July 21, 2013 5:45 PM
> To: users at gecode.org
> Subject: [gecode-users] Latest MPG is for Gecode 4.1
> 
> Hi Christian and Guido,
> 
> I just tried to update to the new version of gecode but ran into some
problems. I
> downloaded the latest version of MPG but realized it is for Gecode 4.1.
Probably
> you already know that and are just preparing a new iteration of MPG.
However,
> you often update both gecode and MPG at the same time. In any case, this
is
> just to let you know.
> 
> Best regards,
> Gustavo
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From gustavo.ggutierrez at gmail.com  Sun Jul 21 20:21:48 2013
From: gustavo.ggutierrez at gmail.com (Gustavo Gutierrez)
Date: Sun, 21 Jul 2013 13:21:48 -0500
Subject: [gecode-users] Latest MPG is for Gecode 4.1
In-Reply-To: <000301ce863e$214ecdb0$63ec6910$@kth.se>
References: <2ABBF8D7-1D3B-40FC-ACD4-E5004B09F863@gmail.com>
	<000301ce863e$214ecdb0$63ec6910$@kth.se>
Message-ID: <CAFcfiNVukPCTbwcoiWwaUVRVqEZj-_x-BzZXYzEF72-ejfYQJA@mail.gmail.com>

On Sunday, July 21, 2013, Christian Schulte wrote:

> Hi Gustavo,
>
> I am sorry but it is 4.2.0, indeed. Did you flush the cache of your
> browser?
> ;-)
>
>
I'm sorry, my mistake. I just forgot about that possibility. Apologies for
the noise. :).

Cheers,

Gustavo.


> Cheers
> Christian
>
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
>
> > -----Original Message-----
> > From: users-bounces at gecode.org <javascript:;> [mailto:
> users-bounces at gecode.org <javascript:;>] On
> > Behalf Of Gustavo Gutierrez
> > Sent: Sunday, July 21, 2013 5:45 PM
> > To: users at gecode.org <javascript:;>
> > Subject: [gecode-users] Latest MPG is for Gecode 4.1
> >
> > Hi Christian and Guido,
> >
> > I just tried to update to the new version of gecode but ran into some
> problems. I
> > downloaded the latest version of MPG but realized it is for Gecode 4.1.
> Probably
> > you already know that and are just preparing a new iteration of MPG.
> However,
> > you often update both gecode and MPG at the same time. In any case, this
> is
> > just to let you know.
> >
> > Best regards,
> > Gustavo
> > _______________________________________________
> > Gecode users mailing list
> > users at gecode.org <javascript:;>
> > https://www.gecode.org/mailman/listinfo/gecode-users
>
>

-- 
Gustavo Gutierrez
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130721/8325e5ce/attachment.html>

From kisshen at cisco.com  Mon Jul 22 23:27:28 2013
From: kisshen at cisco.com (Kish Shen)
Date: Mon, 22 Jul 2013 22:27:28 +0100
Subject: [gecode-users] nroot for negative integers
Message-ID: <51EDA3C0.9010807@cisco.com>

Hi,

I have just added support for pow and nroot to expressions in the 
ECLiPSe interface to Gecode, and on testing it, I get failures with 
negative numbers, for example (in ECLiPSe syntax):

A #= rootn(-8,3)

fails, while

A #= rootn(8, 3)

succeeds, with A = 2.

Should the first case set A to -2?

The above expressions are passed to MiniModel and parsed as IntExpr. I 
used Gecode 4.2.0 for the above tests.

Cheers,

Kish




From kisshen at cisco.com  Mon Jul 22 23:31:39 2013
From: kisshen at cisco.com (Kish Shen)
Date: Mon, 22 Jul 2013 22:31:39 +0100
Subject: [gecode-users] nroot for negative integers
In-Reply-To: <51EDA3C0.9010807@cisco.com>
References: <51EDA3C0.9010807@cisco.com>
Message-ID: <51EDA4BB.3090200@cisco.com>

On 22/07/2013 22:27, Kish Shen wrote:

> A #= rootn(-8,3)
>


Sorry, typos in my last message: rootn should be nroot




From cschulte at kth.se  Tue Jul 23 12:56:56 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 23 Jul 2013 12:56:56 +0200
Subject: [gecode-users] nroot for negative integers
In-Reply-To: <51EDA3C0.9010807@cisco.com>
References: <51EDA3C0.9010807@cisco.com>
Message-ID: <005f01ce8793$598d0740$0ca715c0$@kth.se>

Damn it, the code ignores odd exponents... I'll fix it sometime.

Thanks for letting us know.
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> Behalf Of Kish Shen
> Sent: Monday, July 22, 2013 11:27 PM
> To: users at gecode.org
> Subject: [gecode-users] nroot for negative integers
> 
> Hi,
> 
> I have just added support for pow and nroot to expressions in the ECLiPSe
> interface to Gecode, and on testing it, I get failures with negative
numbers, for
> example (in ECLiPSe syntax):
> 
> A #= rootn(-8,3)
> 
> fails, while
> 
> A #= rootn(8, 3)
> 
> succeeds, with A = 2.
> 
> Should the first case set A to -2?
> 
> The above expressions are passed to MiniModel and parsed as IntExpr. I
used
> Gecode 4.2.0 for the above tests.
> 
> Cheers,
> 
> Kish
> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Tue Jul 23 14:28:32 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 23 Jul 2013 14:28:32 +0200
Subject: [gecode-users] Using IntActivity with space
In-Reply-To: <51E57085.5030702@cisco.com>
References: <51DC5AFF.8060200@cisco.com>	<002801ce7d49$cd13e200$673ba600$@se>	<51DDE428.4050608@cisco.com>	<002101ce7e20$f95bf690$ec13e3b0$@kth.se>	<51E368AB.1050906@cisco.com>
	<001401ce8204$2d705660$88510320$@se> <51E57085.5030702@cisco.com>
Message-ID: <006101ce87a0$260c71f0$722555d0$@kth.se>

Just added initialization of Activity by a function to the trunk, see the
single page from MPG for details.

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> Behalf Of Kish Shen
> Sent: Tuesday, July 16, 2013 6:11 PM
> Cc: users at gecode.org
> Subject: Re: [gecode-users] Using IntActivity with space
> 
> On 16/07/2013 10:09, Christian Schulte wrote:
> > Yes, changes to recomputation can change the variable ordering but
> > that's the best we can do.I think quite some variable selection
> > strategies will also work differently on different hardware/software
> > platforms due to different rounding...
> >
> 
> To me, changing the amount of recomputation is somewhat different from
> running on different hardware/software platforms. Am I correct that
besides
> activity, changing the amount of recomputation will only affect
> memory/execution performance?
> 
> Is it not possible to turn off the gathering of activity information
during
> recomputation? I assume that (like in our interface code), you know when
you
> are performing recomputation, and if so, can the gathering of activity
> information be turned off for the duration?
> 
> > How about one can give an initialization function for Activity such
> > that the activity value will be initialized for each variable. That
should be easy.
> 
> This sound like a good idea!
> 
> Cheers,
> 
> Kish
> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From cschulte at kth.se  Tue Jul 23 14:29:19 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 23 Jul 2013 14:29:19 +0200
Subject: [gecode-users] Using IntActivity with space
References: <51DC5AFF.8060200@cisco.com>	<002801ce7d49$cd13e200$673ba600$@se>	<51DDE428.4050608@cisco.com>	<002101ce7e20$f95bf690$ec13e3b0$@kth.se>	<51E368AB.1050906@cisco.com>
	<001401ce8204$2d705660$88510320$@se> <51E57085.5030702@cisco.com> 
Message-ID: <006301ce87a0$411d7610$c3586230$@kth.se>

...and here is the page

Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


> -----Original Message-----
> From: Christian Schulte [mailto:cschulte at kth.se]
> Sent: Tuesday, July 23, 2013 2:29 PM
> To: 'Kish Shen'
> Cc: 'users at gecode.org'
> Subject: RE: [gecode-users] Using IntActivity with space
> 
> Just added initialization of Activity by a function to the trunk, see the
single page
> from MPG for details.
> 
> Christian
> 
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
> 
> 
> > -----Original Message-----
> > From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> > Behalf Of Kish Shen
> > Sent: Tuesday, July 16, 2013 6:11 PM
> > Cc: users at gecode.org
> > Subject: Re: [gecode-users] Using IntActivity with space
> >
> > On 16/07/2013 10:09, Christian Schulte wrote:
> > > Yes, changes to recomputation can change the variable ordering but
> > > that's the best we can do.I think quite some variable selection
> > > strategies will also work differently on different hardware/software
> > > platforms due to different rounding...
> > >
> >
> > To me, changing the amount of recomputation is somewhat different from
> > running on different hardware/software platforms. Am I correct that
> > besides activity, changing the amount of recomputation will only
> > affect memory/execution performance?
> >
> > Is it not possible to turn off the gathering of activity information
> > during recomputation? I assume that (like in our interface code), you
> > know when you are performing recomputation, and if so, can the
> > gathering of activity information be turned off for the duration?
> >
> > > How about one can give an initialization function for Activity such
> > > that the activity value will be initialized for each variable. That
should be
> easy.
> >
> > This sound like a good idea!
> >
> > Cheers,
> >
> > Kish
> >
> >
> >
> > _______________________________________________
> > Gecode users mailing list
> > users at gecode.org
> > https://www.gecode.org/mailman/listinfo/gecode-users
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MPG 144.pdf
Type: application/pdf
Size: 32944 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20130723/264a0e97/attachment-0001.pdf>

From ktorpi at gmail.com  Wed Jul 24 15:37:40 2013
From: ktorpi at gmail.com (kTorpi)
Date: Wed, 24 Jul 2013 15:37:40 +0200
Subject: [gecode-users] compilation without cygwin
Message-ID: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>

Hi,

Is there someone who tried to compile gecode under windows without using
cygwin? I'd like to compile it with cl natively somehow. Is it possible?

Thanks,
Steve
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130724/e0349a0c/attachment.html>

From gustavo.ggutierrez at gmail.com  Wed Jul 24 16:44:26 2013
From: gustavo.ggutierrez at gmail.com (Gustavo Gutierrez)
Date: Wed, 24 Jul 2013 09:44:26 -0500
Subject: [gecode-users] compilation without cygwin
In-Reply-To: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>
References: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>
Message-ID: <CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>

On Wed, Jul 24, 2013 at 8:37 AM, kTorpi <ktorpi at gmail.com> wrote:

> Hi,
>
> Is there someone who tried to compile gecode under windows without using
> cygwin? I'd like to compile it with cl natively somehow. Is it possible?
>
>
Seems like section 2.3.1 of the following document is what you are looking
for.

http://www.gecode.org/doc-latest/MPG.pdf


Regards,
-- 
Gustavo Gutierrez
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130724/f8a6e80b/attachment.html>

From ktorpi at gmail.com  Thu Jul 25 15:21:05 2013
From: ktorpi at gmail.com (kTorpi)
Date: Thu, 25 Jul 2013 15:21:05 +0200
Subject: [gecode-users] compilation without cygwin
In-Reply-To: <CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>
References: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>
	<CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>
Message-ID: <CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>

Hi,

Thank you, but I don't think so.
I'd like to compile the gecode itself. In Section 2.6.2 it is mentioned,
that "For Windows, we require Cygwin environment...", but I'd like to
compile gecode without it.

Thank you,
Steve


2013/7/24 Gustavo Gutierrez <gustavo.ggutierrez at gmail.com>

>
>
> On Wed, Jul 24, 2013 at 8:37 AM, kTorpi <ktorpi at gmail.com> wrote:
>
>> Hi,
>>
>> Is there someone who tried to compile gecode under windows without using
>> cygwin? I'd like to compile it with cl natively somehow. Is it possible?
>>
>>
> Seems like section 2.3.1 of the following document is what you are looking
> for.
>
> http://www.gecode.org/doc-latest/MPG.pdf
>
>
> Regards,
> --
> Gustavo Gutierrez
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130725/4447f2af/attachment.html>

From cschulte at kth.se  Thu Jul 25 20:35:06 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 25 Jul 2013 20:35:06 +0200
Subject: [gecode-users] compilation without cygwin
In-Reply-To: <CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>
References: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>	<CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>
	<CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>
Message-ID: <008201ce8965$afd7f0f0$0f87d2d0$@kth.se>

You need the Cygwin toolchain plus the MSVC cl compiler. It is as usual:

-        Install Cygwin

-        Install MSVC

-        Set up the MSVC path in Cygwin so that cl can be run under Cygwin

-        Unpack gecode

-        Run configure

-        Run make (which then will use cl)

-        Done

 

Gecode's pre-compiled binaries for Windows are built with MSVC following the
above recipe.

 

Cheers

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of kTorpi
Sent: Thursday, July 25, 2013 3:21 PM
To: Gustavo Gutierrez
Cc: users at gecode.org
Subject: Re: [gecode-users] compilation without cygwin

 

Hi,

 

Thank you, but I don't think so.

I'd like to compile the gecode itself. In Section 2.6.2 it is mentioned,
that "For Windows, we require Cygwin environment...", but I'd like to
compile gecode without it.

 

Thank you,

Steve

 

2013/7/24 Gustavo Gutierrez <gustavo.ggutierrez at gmail.com>

 

On Wed, Jul 24, 2013 at 8:37 AM, kTorpi <ktorpi at gmail.com> wrote:

Hi, 

Is there someone who tried to compile gecode under windows without using
cygwin? I'd like to compile it with cl natively somehow. Is it possible? 

 

Seems like section 2.3.1 of the following document is what you are looking
for.

 

http://www.gecode.org/doc-latest/MPG.pdf

 

 

Regards,

-- 
Gustavo Gutierrez 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130725/59c7511f/attachment.html>

From victor.zverovich at gmail.com  Fri Jul 26 13:24:38 2013
From: victor.zverovich at gmail.com (victor.zverovich at gmail.com)
Date: Fri, 26 Jul 2013 14:24:38 +0300
Subject: [gecode-users] compilation without cygwin
In-Reply-To: <CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>
References: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>
	<CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>
	<CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>
Message-ID: <CANawtxY7EpVu26ZiPQr+q=U955ZYzMhr6iJguSvfKfGsKyMDMg@mail.gmail.com>

You can build Gecode with cl/Visual C++ using CMake. This doesn't require
Cygwin.

HTH,
Victor
On Jul 25, 2013 4:21 PM, "kTorpi" <ktorpi at gmail.com> wrote:

> Hi,
>
> Thank you, but I don't think so.
> I'd like to compile the gecode itself. In Section 2.6.2 it is mentioned,
> that "For Windows, we require Cygwin environment...", but I'd like to
> compile gecode without it.
>
> Thank you,
> Steve
>
>
> 2013/7/24 Gustavo Gutierrez <gustavo.ggutierrez at gmail.com>
>
>>
>>
>> On Wed, Jul 24, 2013 at 8:37 AM, kTorpi <ktorpi at gmail.com> wrote:
>>
>>> Hi,
>>>
>>> Is there someone who tried to compile gecode under windows without using
>>> cygwin? I'd like to compile it with cl natively somehow. Is it possible?
>>>
>>>
>> Seems like section 2.3.1 of the following document is what you are
>> looking for.
>>
>> http://www.gecode.org/doc-latest/MPG.pdf
>>
>>
>> Regards,
>> --
>> Gustavo Gutierrez
>
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130726/8cf0e551/attachment.html>

From ktorpi at gmail.com  Wed Jul 31 11:21:52 2013
From: ktorpi at gmail.com (kTorpi)
Date: Wed, 31 Jul 2013 11:21:52 +0200
Subject: [gecode-users] compilation without cygwin
In-Reply-To: <CANawtxY7EpVu26ZiPQr+q=U955ZYzMhr6iJguSvfKfGsKyMDMg@mail.gmail.com>
References: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>
	<CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>
	<CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>
	<CANawtxY7EpVu26ZiPQr+q=U955ZYzMhr6iJguSvfKfGsKyMDMg@mail.gmail.com>
Message-ID: <CAL1Z-6zFw9RTXZx0rjY09RSDBaHd90vcL9ngtzrvkodtH4Fg7w@mail.gmail.com>

Thanks Victor! It almost works. :)
I generated VS 10.0 build files with cmake, and I could build static gecode
libs with it, which is exactly what I need. But I have a problem with
linking these libs with my application. This build process generetes only a
support/config.hpp file. I copied this file into gecode/support dir which I
founded in the downloaded source of gecode, and I used this dir (gecode
dir) as the includes
 directory.
My program compiles this way, but during linkage I get "cannot open file
'GecodeSupport-4-1-0-d-x86.lib'" message, which is no wonder cause the
builded gecode libs has named like "gecodesupport.lib". I tried to rename
the .lib files (concat version, architecture and r/d information) and also
hacked the support/auto-link.hpp file, but no success, linker complains
about bad lib format.
Any ideas?

Thanks in advance,
Steve


2013/7/26 victor.zverovich at gmail.com <victor.zverovich at gmail.com>

> You can build Gecode with cl/Visual C++ using CMake. This doesn't require
> Cygwin.
>
> HTH,
> Victor
> On Jul 25, 2013 4:21 PM, "kTorpi" <ktorpi at gmail.com> wrote:
>
>> Hi,
>>
>> Thank you, but I don't think so.
>> I'd like to compile the gecode itself. In Section 2.6.2 it is mentioned,
>> that "For Windows, we require Cygwin environment...", but I'd like to
>> compile gecode without it.
>>
>> Thank you,
>> Steve
>>
>>
>> 2013/7/24 Gustavo Gutierrez <gustavo.ggutierrez at gmail.com>
>>
>>>
>>>
>>> On Wed, Jul 24, 2013 at 8:37 AM, kTorpi <ktorpi at gmail.com> wrote:
>>>
>>>> Hi,
>>>>
>>>> Is there someone who tried to compile gecode under windows without
>>>> using cygwin? I'd like to compile it with cl natively somehow. Is it
>>>> possible?
>>>>
>>>>
>>> Seems like section 2.3.1 of the following document is what you are
>>> looking for.
>>>
>>> http://www.gecode.org/doc-latest/MPG.pdf
>>>
>>>
>>> Regards,
>>> --
>>> Gustavo Gutierrez
>>
>>
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130731/d6c0fe2a/attachment.html>

From cschulte at kth.se  Wed Jul 31 11:52:28 2013
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 31 Jul 2013 11:52:28 +0200
Subject: [gecode-users] compilation without cygwin
In-Reply-To: <CAL1Z-6zFw9RTXZx0rjY09RSDBaHd90vcL9ngtzrvkodtH4Fg7w@mail.gmail.com>
References: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>	<CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>	<CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>	<CANawtxY7EpVu26ZiPQr+q=U955ZYzMhr6iJguSvfKfGsKyMDMg@mail.gmail.com>
	<CAL1Z-6zFw9RTXZx0rjY09RSDBaHd90vcL9ngtzrvkodtH4Fg7w@mail.gmail.com>
Message-ID: <002e01ce8dd3$ac0270a0$040751e0$@kth.se>

Gecode on Windows does not support static libraries, you have to use DLLs
instead.

 

Best

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of kTorpi
Sent: Wednesday, July 31, 2013 11:22 AM
To: victor.zverovich at gmail.com
Cc: users at gecode.org
Subject: Re: [gecode-users] compilation without cygwin

 

Thanks Victor! It almost works. :)

I generated VS 10.0 build files with cmake, and I could build static gecode
libs with it, which is exactly what I need. But I have a problem with
linking these libs with my application. This build process generetes only a
support/config.hpp file. I copied this file into gecode/support dir which I
founded in the downloaded source of gecode, and I used this dir (gecode dir)
as the includes

 directory.

My program compiles this way, but during linkage I get "cannot open file
'GecodeSupport-4-1-0-d-x86.lib'" message, which is no wonder cause the
builded gecode libs has named like "gecodesupport.lib". I tried to rename
the .lib files (concat version, architecture and r/d information) and also
hacked the support/auto-link.hpp file, but no success, linker complains
about bad lib format.

Any ideas?

Thanks in advance,

Steve

 

2013/7/26 victor.zverovich at gmail.com <victor.zverovich at gmail.com>

You can build Gecode with cl/Visual C++ using CMake. This doesn't require
Cygwin.

HTH,
Victor

On Jul 25, 2013 4:21 PM, "kTorpi" <ktorpi at gmail.com> wrote:

Hi,

 

Thank you, but I don't think so.

I'd like to compile the gecode itself. In Section 2.6.2 it is mentioned,
that "For Windows, we require Cygwin environment...", but I'd like to
compile gecode without it.

 

Thank you,

Steve

 

2013/7/24 Gustavo Gutierrez <gustavo.ggutierrez at gmail.com>

 

On Wed, Jul 24, 2013 at 8:37 AM, kTorpi <ktorpi at gmail.com> wrote:

Hi, 

Is there someone who tried to compile gecode under windows without using
cygwin? I'd like to compile it with cl natively somehow. Is it possible? 

 

Seems like section 2.3.1 of the following document is what you are looking
for.

 

http://www.gecode.org/doc-latest/MPG.pdf

 

 

Regards,

-- 
Gustavo Gutierrez 

 

 

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130731/0ccd7aeb/attachment.html>

From hiller at employees.org  Wed Jul 31 15:53:17 2013
From: hiller at employees.org (Dean Hiller)
Date: Wed, 31 Jul 2013 09:53:17 -0400
Subject: [gecode-users] BAB Observation
Message-ID: <op.w02963nuvqe8uy@hiller-t60p.fayor.com>

I was having a problem with finding all my solutions while using BAB.
I finally created a very simple model that demonstrated my problem
and using that model, I was able to find a solution to the problem.

I could not find this issue discussed anywhere, so I am going to
describe it here in case any one else runs into it and is looking
for a solution to it.

This is the scenario:

IntVar X(0,1);
branch(X, INT_VAL_MIN());
IntVar Y(0,2);
branch(Y, INT_VAL_MIN());
IntArgs C(1,2);
IntVarArray V(2, 0, 2);
rel(V[0] == X);
rel(V[1] == Y);
IntVar Cost(0,5);
linear(C, X, V, IRT_EQ, Cost);

If I solve this with DFS, I get 6 solutions.
If I solve this with BAB and in the constrain function say
rel(cost > b.cost);
I only get 4 solutions.

Note: If I run with GIST and expand the nodes in the
correct order, I can cause BAB to display all 6 solutions,
but the normal search order does not find all of them.

To have BAB find all 6 solutions, I removed the above
two branch statements and replaced them with
branch(Cost, INT_VAL_MIN());

So, the general rule I would conclude from this test is
that when using linear to create a cost function for
BAB, always branch on the output of the equation rather
than on the terms making up the equation.

I don't know if this holds true for other uses of linear.

Dean


From victor.zverovich at gmail.com  Wed Jul 31 16:10:48 2013
From: victor.zverovich at gmail.com (victor.zverovich at gmail.com)
Date: Wed, 31 Jul 2013 07:10:48 -0700
Subject: [gecode-users] compilation without cygwin
In-Reply-To: <CAL1Z-6zFw9RTXZx0rjY09RSDBaHd90vcL9ngtzrvkodtH4Fg7w@mail.gmail.com>
References: <CAL1Z-6yg7q1AVOaDS-Rz6BmbZZOjbggcGSqdVjiVQDh-PcjeQg@mail.gmail.com>
	<CAFcfiNXDoo8bH_pT8zRYqK01nzZ-jP5M0Wbq=pV_XmTyZi+5gQ@mail.gmail.com>
	<CAL1Z-6yAXCmP_UGRt7ffLusKEyrH+cSH4MEet=TTg+AxeAV5kg@mail.gmail.com>
	<CANawtxY7EpVu26ZiPQr+q=U955ZYzMhr6iJguSvfKfGsKyMDMg@mail.gmail.com>
	<CAL1Z-6zFw9RTXZx0rjY09RSDBaHd90vcL9ngtzrvkodtH4Fg7w@mail.gmail.com>
Message-ID: <CANawtxbh1FaUir+idaLSvmw3MhuSTD+Wo3OgaaM0nXBUmAG2sg@mail.gmail.com>

The names of the libraries produced by the CMake build do not have
version/platform suffix such as "-4-1-0-d-x86" although it is not too
difficult to implement (patches are welcome =)). Therefore you have to
specify the libraries manually when linking and not rely on autolink (or
change the CMake script to produce these suffixes).

Best regards,
Victor


On Wed, Jul 31, 2013 at 2:21 AM, kTorpi <ktorpi at gmail.com> wrote:

> Thanks Victor! It almost works. :)
> I generated VS 10.0 build files with cmake, and I could build static
> gecode libs with it, which is exactly what I need. But I have a problem
> with linking these libs with my application. This build process generetes
> only a support/config.hpp file. I copied this file into gecode/support dir
> which I founded in the downloaded source of gecode, and I used this dir
> (gecode dir) as the includes
>  directory.
> My program compiles this way, but during linkage I get "cannot open file
> 'GecodeSupport-4-1-0-d-x86.lib'" message, which is no wonder cause the
> builded gecode libs has named like "gecodesupport.lib". I tried to rename
> the .lib files (concat version, architecture and r/d information) and also
> hacked the support/auto-link.hpp file, but no success, linker complains
> about bad lib format.
> Any ideas?
>
> Thanks in advance,
> Steve
>
>
> 2013/7/26 victor.zverovich at gmail.com <victor.zverovich at gmail.com>
>
> You can build Gecode with cl/Visual C++ using CMake. This doesn't require
>> Cygwin.
>>
>> HTH,
>> Victor
>> On Jul 25, 2013 4:21 PM, "kTorpi" <ktorpi at gmail.com> wrote:
>>
>>>  Hi,
>>>
>>> Thank you, but I don't think so.
>>> I'd like to compile the gecode itself. In Section 2.6.2 it is mentioned,
>>> that "For Windows, we require Cygwin environment...", but I'd like to
>>> compile gecode without it.
>>>
>>> Thank you,
>>> Steve
>>>
>>>
>>> 2013/7/24 Gustavo Gutierrez <gustavo.ggutierrez at gmail.com>
>>>
>>>>
>>>>
>>>> On Wed, Jul 24, 2013 at 8:37 AM, kTorpi <ktorpi at gmail.com> wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> Is there someone who tried to compile gecode under windows without
>>>>> using cygwin? I'd like to compile it with cl natively somehow. Is it
>>>>> possible?
>>>>>
>>>>>
>>>> Seems like section 2.3.1 of the following document is what you are
>>>> looking for.
>>>>
>>>> http://www.gecode.org/doc-latest/MPG.pdf
>>>>
>>>>
>>>> Regards,
>>>> --
>>>> Gustavo Gutierrez
>>>
>>>
>>>
>>> _______________________________________________
>>> Gecode users mailing list
>>> users at gecode.org
>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>
>>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20130731/b26ca101/attachment.html>

From kisshen at cisco.com  Wed Jul 31 18:44:30 2013
From: kisshen at cisco.com (Kish Shen)
Date: Wed, 31 Jul 2013 17:44:30 +0100
Subject: [gecode-users] restart search at new solution
Message-ID: <51F93EEE.7040303@cisco.com>

Hi,

I am looking at including restart-based search into the ECLiPSe Gecode 
interface, and I have some questions that I hope you could help me with.

The MPG states that a CutOff (which seems to be in terms of number of 
failures) must be included with a restart-base search. However, to me,
it seems an alternative approach is to restart for each solution, in 
particular, with BAB search when you are looking for the optimal 
solution. I assume this was what the old RESTART search engine did?
Is it possible to do this? I can't figure out how to do this from the 
MPG section on restart search, and a quick look at some of the reference 
documentation.

On a more specific level, I am not quite sure how to implement 
restart-based search for my interface. Ideally, I would like to make as 
little modification to my existing code as possible. Currently, I have
a class GecodeSearch, which has a

Search::Engine: sengine;

and I assign a particular search engine to this when the user request a 
particular search engine to use:

sengine = Search::bab(solver, o);

so I would like to do something similar for a restart-based engine.
I have got the following to compile:

sengine = Search::bab(solver,o);
sengine = Search::rbs(solver, metastop, sengine, o);

However, it is not clear to me if this is the correct thing to do, 
should the same sengine be used for the bab and rbs search?

Thanks in advance for any help/information!

Cheers,

Kish


