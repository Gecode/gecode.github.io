From rcas at kth.se  Fri Nov  1 09:45:55 2013
From: rcas at kth.se (Roberto Castaneda Lozano)
Date: Fri, 1 Nov 2013 08:45:55 +0000
Subject: [gecode-users] Unary: Allow for negative durations when task is
 not mandatory
In-Reply-To: <CAGTgUnPbObObEKk3mr2aUn7Q3EKx9h8r+pqAGz8UyRUobYed9g@mail.gmail.com>
References: <CAGTgUnPpGYgy4S6=P4a60kZE_vDWZ_DVS_c_hAcyUpTkGCysCA@mail.gmail.com>
	<007d01ced568$467a2c50$d36e84f0$@se>,
	<CAGTgUnPbObObEKk3mr2aUn7Q3EKx9h8r+pqAGz8UyRUobYed9g@mail.gmail.com>
Message-ID: <A249023ECA4AD740919D9F3CED8EFC8D28F9270C@EXDB4.ug.kth.se>

Hi Andrea,

Interestingly enough I implemented for my own purposes a similar generalization to nooverlap a year ago, see the attachment.

Best regards,

Roberto

From: users-bounces at gecode.org [users-bounces at gecode.org] on behalf of Andrea Peano [andrea.peano at unife.it]
Sent: Thursday, October 31, 2013 12:50
To: Christian Schulte
Cc: users at gecode.org
Subject: Re: [gecode-users] Unary: Allow for negative durations when task is not mandatory

Yes, sure it's useful, thank you.
I'm just wondering whether a modification of the unary might be more efficient or not.
In such a case, I could modify the source files of Gecode, by adding another (modified) unary constraint, otherwise... should I write an user-defined propagator?

I've the same doubt regarding the nooverlap, I'd like to achieve a generalization of it.
In this generalization rectangles of the same "group" can overlap eachother, but they cannot overlap other rectangles of other groups.
So the new nooverlap will take in input an IntArgs array which contains the group IDs.

In your guide I read:
"The constraints [nooverlap] are implemented by a naive propagator (considering pairwise no-
overlap between rectangles including constructive disjunction, see also GCCAT: diffn),
this will change in the future. "

I could add a condition within the implementation of the nooverlap, that checks if the two rectangles belong to two different groups. Is it right?

Do you have any suggestion?

Thank you,
Andrea

On Wed, Oct 30, 2013 at 1:05 PM, Christian Schulte 
<cschulte at kth.se> wrote:

Hi,
 
There is a generic trick for situations like this: you introduce new variables tend', tstart' and tdur' and only enforce that they are equal to tend, tstart,
 tdur respectively when the Boolean variable is 1. That means if the Boolean variable is 0, the new variables can have whatever value.
 
Hope that helps
Christian
 
--
Christian Schulte, Professor of Computer Science, KTH,

www.ict.kth.se/~cschulte/
 

From:

users-bounces at gecode.org [mailto:users-bounces at gecode.org]
On Behalf Of Andrea Peano

Sent: Tuesday, October 29, 2013 10:21 AM

To: 
users at gecode.org

Subject: [gecode-users] Unary: Allow for negative durations when task is not mandatory


Hello all,

I would modify the unary constraint in order to allow negative durations (tend<tstart) when the boolvar m (mandatory) is 0.

Is there an easy way to do this?

Thank you,

Andrea

-- 




Andrea Peano - PhD student


Department of Engineering - University of Ferrara
Tel: +39 0532 97 4827




-------------- next part --------------
A non-text attachment was scrubbed...
Name: nocrossoverlap.zip
Type: application/zip
Size: 1856 bytes
Desc: nocrossoverlap.zip
URL: <http://www.gecode.org/pipermail/users/attachments/20131101/5173b133/attachment.zip>

From andrea.peano at unife.it  Fri Nov  1 15:14:32 2013
From: andrea.peano at unife.it (Andrea Peano)
Date: Fri, 1 Nov 2013 15:14:32 +0100
Subject: [gecode-users] Unary: Allow for negative durations when task is
 not mandatory
In-Reply-To: <A249023ECA4AD740919D9F3CED8EFC8D28F9270C@EXDB4.ug.kth.se>
References: <CAGTgUnPpGYgy4S6=P4a60kZE_vDWZ_DVS_c_hAcyUpTkGCysCA@mail.gmail.com>
	<007d01ced568$467a2c50$d36e84f0$@se>
	<CAGTgUnPbObObEKk3mr2aUn7Q3EKx9h8r+pqAGz8UyRUobYed9g@mail.gmail.com>
	<A249023ECA4AD740919D9F3CED8EFC8D28F9270C@EXDB4.ug.kth.se>
Message-ID: <CAGTgUnPat5NOwzxDMK3viv0bPzh+_2X3JW4PJYA8PqiNeu3kLA@mail.gmail.com>

Hi Roberto,
thank you very much. I'm pretty sure that it's close enough to my needs!

I'll try it asap :)

Thanks,
Andrea

On Fri, Nov 1, 2013 at 9:45 AM, Roberto Castaneda Lozano <rcas at kth.se>wrote:

> Hi Andrea,
>
> Interestingly enough I implemented for my own purposes a similar
> generalization to nooverlap a year ago, see the attachment.
>
> Best regards,
>
> Roberto
>
> From: users-bounces at gecode.org [users-bounces at gecode.org] on behalf of
> Andrea Peano [andrea.peano at unife.it]
> Sent: Thursday, October 31, 2013 12:50
> To: Christian Schulte
> Cc: users at gecode.org
> Subject: Re: [gecode-users] Unary: Allow for negative durations when task
> is not mandatory
>
> Yes, sure it's useful, thank you.
> I'm just wondering whether a modification of the unary might be more
> efficient or not.
> In such a case, I could modify the source files of Gecode, by adding
> another (modified) unary constraint, otherwise... should I write an
> user-defined propagator?
>
> I've the same doubt regarding the nooverlap, I'd like to achieve a
> generalization of it.
> In this generalization rectangles of the same "group" can overlap
> eachother, but they cannot overlap other rectangles of other groups.
> So the new nooverlap will take in input an IntArgs array which contains
> the group IDs.
>
> In your guide I read:
> "The constraints [nooverlap] are implemented by a naive propagator
> (considering pairwise no-
> overlap between rectangles including constructive disjunction, see also
> GCCAT: diffn),
> this will change in the future. "
>
> I could add a condition within the implementation of the nooverlap, that
> checks if the two rectangles belong to two different groups. Is it right?
>
> Do you have any suggestion?
>
> Thank you,
> Andrea
>
> On Wed, Oct 30, 2013 at 1:05 PM, Christian Schulte
> <cschulte at kth.se> wrote:
>
> Hi,
>
> There is a generic trick for situations like this: you introduce new
> variables tend', tstart' and tdur' and only enforce that they are equal to
> tend, tstart,
>  tdur respectively when the Boolean variable is 1. That means if the
> Boolean variable is 0, the new variables can have whatever value.
>
> Hope that helps
> Christian
>
> --
> Christian Schulte, Professor of Computer Science, KTH,
>
> www.ict.kth.se/~cschulte/
>
>
> From:
>
> users-bounces at gecode.org [mailto:users-bounces at gecode.org]
> On Behalf Of Andrea Peano
>
> Sent: Tuesday, October 29, 2013 10:21 AM
>
> To:
> users at gecode.org
>
> Subject: [gecode-users] Unary: Allow for negative durations when task is
> not mandatory
>
>
> Hello all,
>
> I would modify the unary constraint in order to allow negative durations
> (tend<tstart) when the boolvar m (mandatory) is 0.
>
> Is there an easy way to do this?
>
> Thank you,
>
> Andrea
>
> --
>
>
>
>
> Andrea Peano - PhD student
>
>
> Department of Engineering - University of Ferrara
> Tel: +39 0532 97 4827
>
>
>
>
>


-- 

Andrea Peano - PhD student
Department of Engineering - University of Ferrara
Tel: +39 0532 97 4827
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131101/d6385480/attachment.html>

From Torsten.Anders at beds.ac.uk  Sat Nov  2 18:11:40 2013
From: Torsten.Anders at beds.ac.uk (Torsten Anders)
Date: Sat, 2 Nov 2013 17:11:40 +0000
Subject: [gecode-users] Newbie problem
In-Reply-To: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
References: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
Message-ID: <DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>

On 2 Nov 2013, at 09:13, Torsten Anders <torsten.anders at beds.ac.uk> wrote:
> Dear Gecoders,
> 
> I am trying to run some ready-made Gecode examples on a Mac without success. For example, with the first example from the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp) in run into several errors, for example, 
> 
> 'INT_VAL_SPLIT_MIN' cannot be used as a function	
> 'INT_VAR_SIZE_MIN' cannot be used as a function	
> 
> As these errors appear for several examples, it appears to me there is something fundamentally wrong. This might well be some installation error on my part. Nevertheless, help is appreciated -- I simply do not know where to start addressing such a problem.  
> 
> BTW: I just installed Gecode version 4.2 (binaries Gecode-4.2.0.dmg) on my Mac, after uninstalling some older version. I was surprised to find that /Library/Frameworks/gecode.framework/Versions/ contains a folder named "35" -- I would have expected it to be named "42", for version 4.2, but that could of course be simply a wrong guess on my part.   
> 
> Best wishes,
> Torsten


I tried to better isolate the problem. Both g++ (gcc) 4.2.1 and clang 5.0 report problems with the example send-more-money.cpp (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), but the errors differ. The details are below. 

What am I missing?  

Best wishes,
Torsten

$ g++ -O3 -c send-more-money.cpp
send-more-money.cpp: In constructor ?SendMoreMoney::SendMoreMoney()?:
send-more-money.cpp:55: error: ?INT_VAR_SIZE_MIN? cannot be used as a function
send-more-money.cpp:55: error: ?INT_VAL_MIN? cannot be used as a function

$ g++ --version
i686-apple-darwin11-llvm-g++-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
Copyright (C) 2007 Free Software Foundation, Inc.


$ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -O3 -c send-more-money.cpp
In file included from send-more-money.cpp:28:
In file included from /usr/local/include/gecode/int.hh:50:
In file included from /usr/local/include/gecode/iter.hh:97:
/usr/local/include/gecode/iter/ranges-scale.hpp:197:27: error: reference to
      non-static member function must be called; did you mean to call it with no
      arguments?
      static_cast<UnsVal>(max - min + 1);
                          ^~~
/usr/local/include/gecode/iter/ranges-scale.hpp:197:33: error: reference to
      non-static member function must be called; did you mean to call it with no
      arguments?
      static_cast<UnsVal>(max - min + 1);
                                ^~~
send-more-money.cpp:55:42: error: called object type 'int' is not a function or
      function pointer
        branch(*this, l, INT_VAR_SIZE_MIN(), INT_VAL_MIN());
                         ~~~~~~~~~~~~~~~~^
3 errors generated.

$ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang --version
Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)


> --
> Dr Torsten Anders
> Course Leader, Music Technology
> University of Bedfordshire
> Park Square, Room A315
> http://www.torsten-anders.de


From tack at gecode.org  Sun Nov  3 00:20:21 2013
From: tack at gecode.org (Guido Tack)
Date: Sun, 3 Nov 2013 10:20:21 +1100
Subject: [gecode-users] Newbie problem
In-Reply-To: <DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>
References: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
	<DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>
Message-ID: <7AF082AD-EA50-40A3-9A65-6108EF9E3286@gecode.org>

Hi Torsten,

you seem to have an older version of Gecode installed in /usr/local (that's what the clang error messages point to).

The 35 is the "library version", which is simply incremented with each release and doesn't follow the major.minor.patch scheme.

Cheers,
Guido

On 3 Nov 2013, at 4:11 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:

> On 2 Nov 2013, at 09:13, Torsten Anders <torsten.anders at beds.ac.uk> wrote:
>> Dear Gecoders,
>> 
>> I am trying to run some ready-made Gecode examples on a Mac without success. For example, with the first example from the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp) in run into several errors, for example, 
>> 
>> 'INT_VAL_SPLIT_MIN' cannot be used as a function	
>> 'INT_VAR_SIZE_MIN' cannot be used as a function	
>> 
>> As these errors appear for several examples, it appears to me there is something fundamentally wrong. This might well be some installation error on my part. Nevertheless, help is appreciated -- I simply do not know where to start addressing such a problem.  
>> 
>> BTW: I just installed Gecode version 4.2 (binaries Gecode-4.2.0.dmg) on my Mac, after uninstalling some older version. I was surprised to find that /Library/Frameworks/gecode.framework/Versions/ contains a folder named "35" -- I would have expected it to be named "42", for version 4.2, but that could of course be simply a wrong guess on my part.   
>> 
>> Best wishes,
>> Torsten
> 
> 
> I tried to better isolate the problem. Both g++ (gcc) 4.2.1 and clang 5.0 report problems with the example send-more-money.cpp (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), but the errors differ. The details are below. 
> 
> What am I missing?  
> 
> Best wishes,
> Torsten
> 
> $ g++ -O3 -c send-more-money.cpp
> send-more-money.cpp: In constructor ?SendMoreMoney::SendMoreMoney()?:
> send-more-money.cpp:55: error: ?INT_VAR_SIZE_MIN? cannot be used as a function
> send-more-money.cpp:55: error: ?INT_VAL_MIN? cannot be used as a function
> 
> $ g++ --version
> i686-apple-darwin11-llvm-g++-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
> Copyright (C) 2007 Free Software Foundation, Inc.
> 
> 
> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -O3 -c send-more-money.cpp
> In file included from send-more-money.cpp:28:
> In file included from /usr/local/include/gecode/int.hh:50:
> In file included from /usr/local/include/gecode/iter.hh:97:
> /usr/local/include/gecode/iter/ranges-scale.hpp:197:27: error: reference to
>      non-static member function must be called; did you mean to call it with no
>      arguments?
>      static_cast<UnsVal>(max - min + 1);
>                          ^~~
> /usr/local/include/gecode/iter/ranges-scale.hpp:197:33: error: reference to
>      non-static member function must be called; did you mean to call it with no
>      arguments?
>      static_cast<UnsVal>(max - min + 1);
>                                ^~~
> send-more-money.cpp:55:42: error: called object type 'int' is not a function or
>      function pointer
>        branch(*this, l, INT_VAR_SIZE_MIN(), INT_VAL_MIN());
>                         ~~~~~~~~~~~~~~~~^
> 3 errors generated.
> 
> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang --version
> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
> 
> 
>> --
>> Dr Torsten Anders
>> Course Leader, Music Technology
>> University of Bedfordshire
>> Park Square, Room A315
>> http://www.torsten-anders.de
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From Torsten.Anders at beds.ac.uk  Sun Nov  3 23:29:16 2013
From: Torsten.Anders at beds.ac.uk (Torsten Anders)
Date: Sun, 3 Nov 2013 22:29:16 +0000
Subject: [gecode-users] Newbie problem
In-Reply-To: <7AF082AD-EA50-40A3-9A65-6108EF9E3286@gecode.org>
References: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
	<DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>
	<7AF082AD-EA50-40A3-9A65-6108EF9E3286@gecode.org>
Message-ID: <3D6F7CDE-C432-46FD-BE6A-BE3A4AA54D58@beds.ac.uk>

Dear Guido,

Thanks a lot for your help! After removing /usr/local/gecode (ignored by uninstall.sh -- likely too old), I could compile and run send-more-money.cpp successfully with g++ at the command line as described in the tutorial. Great! 

However, I would like to use Gecode with an IDE. I tried configuring Xcode as described in your tutorial, but still ran into linking problems. I added the geocode framework (not shown in the list, had to directly move to the path /Library/Frameworks/gecode.framework. For Xcode, the Gecode tutorial recommends "You may have to edit your project settings to choose Mac OS 10.6 as the base SDK." With the current version Xcode 5.01 that is not possible anymore. Anyway, regardless whether or not it is set to my system 10.8, I get linker errors from clang.

Undefined symbols for architecture x86_64:
 "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
     SendMoreMoney::SendMoreMoney() in main.o
ld: symbol(s) not found for architecture x86_64

With Eclipse I have similar problems.

To better understand the problem I tried command line calls for clang with the same arguments as for g++ given in your tutorial, and got the more detailed error message below. Not sure whether my flags are exactly the same in Xcode as well, but the error looks at least similar. 

Any idea what I could be missing? Thanks a lot! 

Best wishes,
Torsten


The following silently results in an *.o file.

$ clang -O3 -c send-more-money.cpp

$ clang -framework gecode -o send-more-money send-more-money.cpp
Undefined symbols for architecture x86_64:
 "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::str() const", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::ostream::operator<<(std::ostream& (*)(std::ostream&))", referenced from:
     SendMoreMoney::print() const in send-more-money-cyceYe.o
 "std::ostream::operator<<(int)", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string()", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::basic_ostringstream(std::_Ios_Openmode)", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::~basic_ostringstream()", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::ios_base::Init::Init()", referenced from:
     ___cxx_global_var_init in send-more-money-cyceYe.o
 "std::ios_base::Init::~Init()", referenced from:
     ___cxx_global_var_init in send-more-money-cyceYe.o
 "std::basic_ios<char, std::char_traits<char> >::copyfmt(std::basic_ios<char, std::char_traits<char> > const&)", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::exception::~exception()", referenced from:
     Gecode::Exception::~Exception() in send-more-money-cyceYe.o
 "std::cout", referenced from:
     SendMoreMoney::print() const in send-more-money-cyceYe.o
 "std::basic_ostream<char, std::char_traits<char> >& std::endl<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&)", referenced from:
     SendMoreMoney::print() const in send-more-money-cyceYe.o
 "std::terminate()", referenced from:
     ___clang_call_terminate in send-more-money-cyceYe.o
 "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char)", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<char, std::char_traits<char>, std::allocator<char> >(std::basic_ostream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)", referenced from:
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
 "vtable for __cxxabiv1::__class_type_info", referenced from:
     typeinfo for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
     typeinfo for Gecode::ActorLink in send-more-money-cyceYe.o
     typeinfo for Gecode::Choice in send-more-money-cyceYe.o
     typeinfo for Gecode::Search::Stop in send-more-money-cyceYe.o
     typeinfo for Gecode::Search::Cutoff in send-more-money-cyceYe.o
 NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
 "vtable for __cxxabiv1::__si_class_type_info", referenced from:
     typeinfo for Gecode::Rnd::IMP in send-more-money-cyceYe.o
     typeinfo for Gecode::PosChoice in send-more-money-cyceYe.o
     typeinfo for Gecode::DFA::DFAI in send-more-money-cyceYe.o
     typeinfo for SendMoreMoney in send-more-money-cyceYe.o
     typeinfo for Gecode::MemoryExhausted in send-more-money-cyceYe.o
 NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
 "vtable for __cxxabiv1::__vmi_class_type_info", referenced from:
     typeinfo for Gecode::Actor in send-more-money-cyceYe.o
 NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
 "operator delete(void*)", referenced from:
     Gecode::MemoryExhausted::~MemoryExhausted() in send-more-money-cyceYe.o
 "___cxa_allocate_exception", referenced from:
     _main in send-more-money-cyceYe.o
     SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
     SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
     Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
     Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
 "___cxa_begin_catch", referenced from:
     ___clang_call_terminate in send-more-money-cyceYe.o
 "___cxa_free_exception", referenced from:
     _main in send-more-money-cyceYe.o
     SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
     SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
     Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
     Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
 "___cxa_pure_virtual", referenced from:
     vtable for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
     vtable for Gecode::Actor in send-more-money-cyceYe.o
     vtable for Gecode::Choice in send-more-money-cyceYe.o
     vtable for Gecode::Search::Stop in send-more-money-cyceYe.o
     vtable for Gecode::Search::Cutoff in send-more-money-cyceYe.o
 "___cxa_throw", referenced from:
     _main in send-more-money-cyceYe.o
     SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
     SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
     Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
     Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
 "___dynamic_cast", referenced from:
     _main in send-more-money-cyceYe.o
 "___gxx_personality_v0", referenced from:
     _main in send-more-money-cyceYe.o
     Gecode::SharedHandle::Object::~Object() in send-more-money-cyceYe.o
     Gecode::Rnd::IMP::~IMP() in send-more-money-cyceYe.o
     Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
     Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
     Gecode::PosChoice::~PosChoice() in send-more-money-cyceYe.o
     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
     ...
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
Torstens-MacBook-Pro:tmp torsten$ 




Undefined symbols for architecture x86_64:
 "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
     SendMoreMoney::SendMoreMoney() in main.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)





On 2 Nov 2013, at 23:20, Guido Tack <tack at gecode.org>
wrote:

> Hi Torsten,
> 
> you seem to have an older version of Gecode installed in /usr/local (that's what the clang error messages point to).
> 
> The 35 is the "library version", which is simply incremented with each release and doesn't follow the major.minor.patch scheme.
> 
> Cheers,
> Guido
> 
> On 3 Nov 2013, at 4:11 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
> 
>> On 2 Nov 2013, at 09:13, Torsten Anders <torsten.anders at beds.ac.uk> wrote:
>>> Dear Gecoders,
>>> 
>>> I am trying to run some ready-made Gecode examples on a Mac without success. For example, with the first example from the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp) in run into several errors, for example, 
>>> 
>>> 'INT_VAL_SPLIT_MIN' cannot be used as a function	
>>> 'INT_VAR_SIZE_MIN' cannot be used as a function	
>>> 
>>> As these errors appear for several examples, it appears to me there is something fundamentally wrong. This might well be some installation error on my part. Nevertheless, help is appreciated -- I simply do not know where to start addressing such a problem.  
>>> 
>>> BTW: I just installed Gecode version 4.2 (binaries Gecode-4.2.0.dmg) on my Mac, after uninstalling some older version. I was surprised to find that /Library/Frameworks/gecode.framework/Versions/ contains a folder named "35" -- I would have expected it to be named "42", for version 4.2, but that could of course be simply a wrong guess on my part.   
>>> 
>>> Best wishes,
>>> Torsten
>> 
>> 
>> I tried to better isolate the problem. Both g++ (gcc) 4.2.1 and clang 5.0 report problems with the example send-more-money.cpp (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), but the errors differ. The details are below. 
>> 
>> What am I missing?  
>> 
>> Best wishes,
>> Torsten
>> 
>> $ g++ -O3 -c send-more-money.cpp
>> send-more-money.cpp: In constructor ?SendMoreMoney::SendMoreMoney()?:
>> send-more-money.cpp:55: error: ?INT_VAR_SIZE_MIN? cannot be used as a function
>> send-more-money.cpp:55: error: ?INT_VAL_MIN? cannot be used as a function
>> 
>> $ g++ --version
>> i686-apple-darwin11-llvm-g++-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> 
>> 
>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -O3 -c send-more-money.cpp
>> In file included from send-more-money.cpp:28:
>> In file included from /usr/local/include/gecode/int.hh:50:
>> In file included from /usr/local/include/gecode/iter.hh:97:
>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:27: error: reference to
>>    non-static member function must be called; did you mean to call it with no
>>    arguments?
>>    static_cast<UnsVal>(max - min + 1);
>>                        ^~~
>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:33: error: reference to
>>    non-static member function must be called; did you mean to call it with no
>>    arguments?
>>    static_cast<UnsVal>(max - min + 1);
>>                              ^~~
>> send-more-money.cpp:55:42: error: called object type 'int' is not a function or
>>    function pointer
>>      branch(*this, l, INT_VAR_SIZE_MIN(), INT_VAL_MIN());
>>                       ~~~~~~~~~~~~~~~~^
>> 3 errors generated.
>> 
>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang --version
>> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
>> 
>> 
>>> --
>>> Dr Torsten Anders
>>> Course Leader, Music Technology
>>> University of Bedfordshire
>>> Park Square, Room A315
>>> http://www.torsten-anders.de
>> 
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
> 



From tack at gecode.org  Mon Nov  4 00:01:35 2013
From: tack at gecode.org (Guido Tack)
Date: Mon, 4 Nov 2013 10:01:35 +1100
Subject: [gecode-users] Newbie problem
In-Reply-To: <3D6F7CDE-C432-46FD-BE6A-BE3A4AA54D58@beds.ac.uk>
References: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
	<DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>
	<7AF082AD-EA50-40A3-9A65-6108EF9E3286@gecode.org>
	<3D6F7CDE-C432-46FD-BE6A-BE3A4AA54D58@beds.ac.uk>
Message-ID: <0231C13F-3925-48E9-A254-EF8D7FB7E1AE@gecode.org>

The linker problems in your second example can be fixed by using clang++ instead of clang (so that the standard C++ library gets linked).  However I can reproduce the linker issue related to the branch function, and I currently don?t know what the problem might be.  We?re preparing a new release at the moment, and I?ll try to get this fixed as soon as possible.

Cheers,
Guido

On 4 Nov 2013, at 9:29 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:

> Dear Guido,
> 
> Thanks a lot for your help! After removing /usr/local/gecode (ignored by uninstall.sh -- likely too old), I could compile and run send-more-money.cpp successfully with g++ at the command line as described in the tutorial. Great! 
> 
> However, I would like to use Gecode with an IDE. I tried configuring Xcode as described in your tutorial, but still ran into linking problems. I added the geocode framework (not shown in the list, had to directly move to the path /Library/Frameworks/gecode.framework. For Xcode, the Gecode tutorial recommends "You may have to edit your project settings to choose Mac OS 10.6 as the base SDK." With the current version Xcode 5.01 that is not possible anymore. Anyway, regardless whether or not it is set to my system 10.8, I get linker errors from clang.
> 
> Undefined symbols for architecture x86_64:
> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>     SendMoreMoney::SendMoreMoney() in main.o
> ld: symbol(s) not found for architecture x86_64
> 
> With Eclipse I have similar problems.
> 
> To better understand the problem I tried command line calls for clang with the same arguments as for g++ given in your tutorial, and got the more detailed error message below. Not sure whether my flags are exactly the same in Xcode as well, but the error looks at least similar. 
> 
> Any idea what I could be missing? Thanks a lot! 
> 
> Best wishes,
> Torsten
> 
> 
> The following silently results in an *.o file.
> 
> $ clang -O3 -c send-more-money.cpp
> 
> $ clang -framework gecode -o send-more-money send-more-money.cpp
> Undefined symbols for architecture x86_64:
> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::str() const", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::ostream::operator<<(std::ostream& (*)(std::ostream&))", referenced from:
>     SendMoreMoney::print() const in send-more-money-cyceYe.o
> "std::ostream::operator<<(int)", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string()", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::basic_ostringstream(std::_Ios_Openmode)", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::~basic_ostringstream()", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::ios_base::Init::Init()", referenced from:
>     ___cxx_global_var_init in send-more-money-cyceYe.o
> "std::ios_base::Init::~Init()", referenced from:
>     ___cxx_global_var_init in send-more-money-cyceYe.o
> "std::basic_ios<char, std::char_traits<char> >::copyfmt(std::basic_ios<char, std::char_traits<char> > const&)", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::exception::~exception()", referenced from:
>     Gecode::Exception::~Exception() in send-more-money-cyceYe.o
> "std::cout", referenced from:
>     SendMoreMoney::print() const in send-more-money-cyceYe.o
> "std::basic_ostream<char, std::char_traits<char> >& std::endl<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&)", referenced from:
>     SendMoreMoney::print() const in send-more-money-cyceYe.o
> "std::terminate()", referenced from:
>     ___clang_call_terminate in send-more-money-cyceYe.o
> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char)", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<char, std::char_traits<char>, std::allocator<char> >(std::basic_ostream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)", referenced from:
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
> "vtable for __cxxabiv1::__class_type_info", referenced from:
>     typeinfo for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>     typeinfo for Gecode::ActorLink in send-more-money-cyceYe.o
>     typeinfo for Gecode::Choice in send-more-money-cyceYe.o
>     typeinfo for Gecode::Search::Stop in send-more-money-cyceYe.o
>     typeinfo for Gecode::Search::Cutoff in send-more-money-cyceYe.o
> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
> "vtable for __cxxabiv1::__si_class_type_info", referenced from:
>     typeinfo for Gecode::Rnd::IMP in send-more-money-cyceYe.o
>     typeinfo for Gecode::PosChoice in send-more-money-cyceYe.o
>     typeinfo for Gecode::DFA::DFAI in send-more-money-cyceYe.o
>     typeinfo for SendMoreMoney in send-more-money-cyceYe.o
>     typeinfo for Gecode::MemoryExhausted in send-more-money-cyceYe.o
> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
> "vtable for __cxxabiv1::__vmi_class_type_info", referenced from:
>     typeinfo for Gecode::Actor in send-more-money-cyceYe.o
> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
> "operator delete(void*)", referenced from:
>     Gecode::MemoryExhausted::~MemoryExhausted() in send-more-money-cyceYe.o
> "___cxa_allocate_exception", referenced from:
>     _main in send-more-money-cyceYe.o
>     SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>     SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>     Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>     Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
> "___cxa_begin_catch", referenced from:
>     ___clang_call_terminate in send-more-money-cyceYe.o
> "___cxa_free_exception", referenced from:
>     _main in send-more-money-cyceYe.o
>     SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>     SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>     Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>     Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
> "___cxa_pure_virtual", referenced from:
>     vtable for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>     vtable for Gecode::Actor in send-more-money-cyceYe.o
>     vtable for Gecode::Choice in send-more-money-cyceYe.o
>     vtable for Gecode::Search::Stop in send-more-money-cyceYe.o
>     vtable for Gecode::Search::Cutoff in send-more-money-cyceYe.o
> "___cxa_throw", referenced from:
>     _main in send-more-money-cyceYe.o
>     SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>     SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>     Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>     Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
> "___dynamic_cast", referenced from:
>     _main in send-more-money-cyceYe.o
> "___gxx_personality_v0", referenced from:
>     _main in send-more-money-cyceYe.o
>     Gecode::SharedHandle::Object::~Object() in send-more-money-cyceYe.o
>     Gecode::Rnd::IMP::~IMP() in send-more-money-cyceYe.o
>     Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>     Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>     Gecode::PosChoice::~PosChoice() in send-more-money-cyceYe.o
>     std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>     ...
> ld: symbol(s) not found for architecture x86_64
> clang: error: linker command failed with exit code 1 (use -v to see invocation)
> Torstens-MacBook-Pro:tmp torsten$ 
> 
> 
> 
> 
> Undefined symbols for architecture x86_64:
> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>     SendMoreMoney::SendMoreMoney() in main.o
> ld: symbol(s) not found for architecture x86_64
> clang: error: linker command failed with exit code 1 (use -v to see invocation)
> 
> 
> 
> 
> 
> On 2 Nov 2013, at 23:20, Guido Tack <tack at gecode.org>
> wrote:
> 
>> Hi Torsten,
>> 
>> you seem to have an older version of Gecode installed in /usr/local (that's what the clang error messages point to).
>> 
>> The 35 is the "library version", which is simply incremented with each release and doesn't follow the major.minor.patch scheme.
>> 
>> Cheers,
>> Guido
>> 
>> On 3 Nov 2013, at 4:11 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
>> 
>>> On 2 Nov 2013, at 09:13, Torsten Anders <torsten.anders at beds.ac.uk> wrote:
>>>> Dear Gecoders,
>>>> 
>>>> I am trying to run some ready-made Gecode examples on a Mac without success. For example, with the first example from the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp) in run into several errors, for example, 
>>>> 
>>>> 'INT_VAL_SPLIT_MIN' cannot be used as a function	
>>>> 'INT_VAR_SIZE_MIN' cannot be used as a function	
>>>> 
>>>> As these errors appear for several examples, it appears to me there is something fundamentally wrong. This might well be some installation error on my part. Nevertheless, help is appreciated -- I simply do not know where to start addressing such a problem.  
>>>> 
>>>> BTW: I just installed Gecode version 4.2 (binaries Gecode-4.2.0.dmg) on my Mac, after uninstalling some older version. I was surprised to find that /Library/Frameworks/gecode.framework/Versions/ contains a folder named "35" -- I would have expected it to be named "42", for version 4.2, but that could of course be simply a wrong guess on my part.   
>>>> 
>>>> Best wishes,
>>>> Torsten
>>> 
>>> 
>>> I tried to better isolate the problem. Both g++ (gcc) 4.2.1 and clang 5.0 report problems with the example send-more-money.cpp (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), but the errors differ. The details are below. 
>>> 
>>> What am I missing?  
>>> 
>>> Best wishes,
>>> Torsten
>>> 
>>> $ g++ -O3 -c send-more-money.cpp
>>> send-more-money.cpp: In constructor ?SendMoreMoney::SendMoreMoney()?:
>>> send-more-money.cpp:55: error: ?INT_VAR_SIZE_MIN? cannot be used as a function
>>> send-more-money.cpp:55: error: ?INT_VAL_MIN? cannot be used as a function
>>> 
>>> $ g++ --version
>>> i686-apple-darwin11-llvm-g++-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>> 
>>> 
>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -O3 -c send-more-money.cpp
>>> In file included from send-more-money.cpp:28:
>>> In file included from /usr/local/include/gecode/int.hh:50:
>>> In file included from /usr/local/include/gecode/iter.hh:97:
>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:27: error: reference to
>>>   non-static member function must be called; did you mean to call it with no
>>>   arguments?
>>>   static_cast<UnsVal>(max - min + 1);
>>>                       ^~~
>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:33: error: reference to
>>>   non-static member function must be called; did you mean to call it with no
>>>   arguments?
>>>   static_cast<UnsVal>(max - min + 1);
>>>                             ^~~
>>> send-more-money.cpp:55:42: error: called object type 'int' is not a function or
>>>   function pointer
>>>     branch(*this, l, INT_VAR_SIZE_MIN(), INT_VAL_MIN());
>>>                      ~~~~~~~~~~~~~~~~^
>>> 3 errors generated.
>>> 
>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang --version
>>> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
>>> 
>>> 
>>>> --
>>>> Dr Torsten Anders
>>>> Course Leader, Music Technology
>>>> University of Bedfordshire
>>>> Park Square, Room A315
>>>> http://www.torsten-anders.de
>>> 
>>> _______________________________________________
>>> Gecode users mailing list
>>> users at gecode.org
>>> https://www.gecode.org/mailman/listinfo/gecode-users
>> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From Torsten.Anders at beds.ac.uk  Mon Nov  4 10:47:39 2013
From: Torsten.Anders at beds.ac.uk (Torsten Anders)
Date: Mon, 4 Nov 2013 09:47:39 +0000
Subject: [gecode-users] Newbie problem
In-Reply-To: <0231C13F-3925-48E9-A254-EF8D7FB7E1AE@gecode.org>
References: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
	<DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>
	<7AF082AD-EA50-40A3-9A65-6108EF9E3286@gecode.org>
	<3D6F7CDE-C432-46FD-BE6A-BE3A4AA54D58@beds.ac.uk>
	<0231C13F-3925-48E9-A254-EF8D7FB7E1AE@gecode.org>
Message-ID: <D78678DE-36CB-43BF-B8A8-AEB767BAE904@beds.ac.uk>

Thanks a lot! So, I understand in the meantime I have to use the command line. 

Best wishes,
Torsten

On 3 Nov 2013, at 23:01, Guido Tack <tack at gecode.org> wrote:

> The linker problems in your second example can be fixed by using clang++ instead of clang (so that the standard C++ library gets linked).  However I can reproduce the linker issue related to the branch function, and I currently don?t know what the problem might be.  We?re preparing a new release at the moment, and I?ll try to get this fixed as soon as possible.
> 
> Cheers,
> Guido
> 
> On 4 Nov 2013, at 9:29 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
> 
>> Dear Guido,
>> 
>> Thanks a lot for your help! After removing /usr/local/gecode (ignored by uninstall.sh -- likely too old), I could compile and run send-more-money.cpp successfully with g++ at the command line as described in the tutorial. Great! 
>> 
>> However, I would like to use Gecode with an IDE. I tried configuring Xcode as described in your tutorial, but still ran into linking problems. I added the geocode framework (not shown in the list, had to directly move to the path /Library/Frameworks/gecode.framework. For Xcode, the Gecode tutorial recommends "You may have to edit your project settings to choose Mac OS 10.6 as the base SDK." With the current version Xcode 5.01 that is not possible anymore. Anyway, regardless whether or not it is set to my system 10.8, I get linker errors from clang.
>> 
>> Undefined symbols for architecture x86_64:
>> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>>    SendMoreMoney::SendMoreMoney() in main.o
>> ld: symbol(s) not found for architecture x86_64
>> 
>> With Eclipse I have similar problems.
>> 
>> To better understand the problem I tried command line calls for clang with the same arguments as for g++ given in your tutorial, and got the more detailed error message below. Not sure whether my flags are exactly the same in Xcode as well, but the error looks at least similar. 
>> 
>> Any idea what I could be missing? Thanks a lot! 
>> 
>> Best wishes,
>> Torsten
>> 
>> 
>> The following silently results in an *.o file.
>> 
>> $ clang -O3 -c send-more-money.cpp
>> 
>> $ clang -framework gecode -o send-more-money send-more-money.cpp
>> Undefined symbols for architecture x86_64:
>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::str() const", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::ostream::operator<<(std::ostream& (*)(std::ostream&))", referenced from:
>>    SendMoreMoney::print() const in send-more-money-cyceYe.o
>> "std::ostream::operator<<(int)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string()", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::basic_ostringstream(std::_Ios_Openmode)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::~basic_ostringstream()", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::ios_base::Init::Init()", referenced from:
>>    ___cxx_global_var_init in send-more-money-cyceYe.o
>> "std::ios_base::Init::~Init()", referenced from:
>>    ___cxx_global_var_init in send-more-money-cyceYe.o
>> "std::basic_ios<char, std::char_traits<char> >::copyfmt(std::basic_ios<char, std::char_traits<char> > const&)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::exception::~exception()", referenced from:
>>    Gecode::Exception::~Exception() in send-more-money-cyceYe.o
>> "std::cout", referenced from:
>>    SendMoreMoney::print() const in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::endl<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&)", referenced from:
>>    SendMoreMoney::print() const in send-more-money-cyceYe.o
>> "std::terminate()", referenced from:
>>    ___clang_call_terminate in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<char, std::char_traits<char>, std::allocator<char> >(std::basic_ostream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)", referenced from:
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>> "vtable for __cxxabiv1::__class_type_info", referenced from:
>>    typeinfo for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>>    typeinfo for Gecode::ActorLink in send-more-money-cyceYe.o
>>    typeinfo for Gecode::Choice in send-more-money-cyceYe.o
>>    typeinfo for Gecode::Search::Stop in send-more-money-cyceYe.o
>>    typeinfo for Gecode::Search::Cutoff in send-more-money-cyceYe.o
>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>> "vtable for __cxxabiv1::__si_class_type_info", referenced from:
>>    typeinfo for Gecode::Rnd::IMP in send-more-money-cyceYe.o
>>    typeinfo for Gecode::PosChoice in send-more-money-cyceYe.o
>>    typeinfo for Gecode::DFA::DFAI in send-more-money-cyceYe.o
>>    typeinfo for SendMoreMoney in send-more-money-cyceYe.o
>>    typeinfo for Gecode::MemoryExhausted in send-more-money-cyceYe.o
>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>> "vtable for __cxxabiv1::__vmi_class_type_info", referenced from:
>>    typeinfo for Gecode::Actor in send-more-money-cyceYe.o
>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>> "operator delete(void*)", referenced from:
>>    Gecode::MemoryExhausted::~MemoryExhausted() in send-more-money-cyceYe.o
>> "___cxa_allocate_exception", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>    SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>    Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>    Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>> "___cxa_begin_catch", referenced from:
>>    ___clang_call_terminate in send-more-money-cyceYe.o
>> "___cxa_free_exception", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>    SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>    Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>    Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>> "___cxa_pure_virtual", referenced from:
>>    vtable for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>>    vtable for Gecode::Actor in send-more-money-cyceYe.o
>>    vtable for Gecode::Choice in send-more-money-cyceYe.o
>>    vtable for Gecode::Search::Stop in send-more-money-cyceYe.o
>>    vtable for Gecode::Search::Cutoff in send-more-money-cyceYe.o
>> "___cxa_throw", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>    SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>    Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>    Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>> "___dynamic_cast", referenced from:
>>    _main in send-more-money-cyceYe.o
>> "___gxx_personality_v0", referenced from:
>>    _main in send-more-money-cyceYe.o
>>    Gecode::SharedHandle::Object::~Object() in send-more-money-cyceYe.o
>>    Gecode::Rnd::IMP::~IMP() in send-more-money-cyceYe.o
>>    Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>>    Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>>    Gecode::PosChoice::~PosChoice() in send-more-money-cyceYe.o
>>    std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>    ...
>> ld: symbol(s) not found for architecture x86_64
>> clang: error: linker command failed with exit code 1 (use -v to see invocation)
>> Torstens-MacBook-Pro:tmp torsten$ 
>> 
>> 
>> 
>> 
>> Undefined symbols for architecture x86_64:
>> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>>    SendMoreMoney::SendMoreMoney() in main.o
>> ld: symbol(s) not found for architecture x86_64
>> clang: error: linker command failed with exit code 1 (use -v to see invocation)
>> 
>> 
>> 
>> 
>> 
>> On 2 Nov 2013, at 23:20, Guido Tack <tack at gecode.org>
>> wrote:
>> 
>>> Hi Torsten,
>>> 
>>> you seem to have an older version of Gecode installed in /usr/local (that's what the clang error messages point to).
>>> 
>>> The 35 is the "library version", which is simply incremented with each release and doesn't follow the major.minor.patch scheme.
>>> 
>>> Cheers,
>>> Guido
>>> 
>>> On 3 Nov 2013, at 4:11 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
>>> 
>>>> On 2 Nov 2013, at 09:13, Torsten Anders <torsten.anders at beds.ac.uk> wrote:
>>>>> Dear Gecoders,
>>>>> 
>>>>> I am trying to run some ready-made Gecode examples on a Mac without success. For example, with the first example from the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp) in run into several errors, for example, 
>>>>> 
>>>>> 'INT_VAL_SPLIT_MIN' cannot be used as a function	
>>>>> 'INT_VAR_SIZE_MIN' cannot be used as a function	
>>>>> 
>>>>> As these errors appear for several examples, it appears to me there is something fundamentally wrong. This might well be some installation error on my part. Nevertheless, help is appreciated -- I simply do not know where to start addressing such a problem.  
>>>>> 
>>>>> BTW: I just installed Gecode version 4.2 (binaries Gecode-4.2.0.dmg) on my Mac, after uninstalling some older version. I was surprised to find that /Library/Frameworks/gecode.framework/Versions/ contains a folder named "35" -- I would have expected it to be named "42", for version 4.2, but that could of course be simply a wrong guess on my part.   
>>>>> 
>>>>> Best wishes,
>>>>> Torsten
>>>> 
>>>> 
>>>> I tried to better isolate the problem. Both g++ (gcc) 4.2.1 and clang 5.0 report problems with the example send-more-money.cpp (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), but the errors differ. The details are below. 
>>>> 
>>>> What am I missing?  
>>>> 
>>>> Best wishes,
>>>> Torsten
>>>> 
>>>> $ g++ -O3 -c send-more-money.cpp
>>>> send-more-money.cpp: In constructor ?SendMoreMoney::SendMoreMoney()?:
>>>> send-more-money.cpp:55: error: ?INT_VAR_SIZE_MIN? cannot be used as a function
>>>> send-more-money.cpp:55: error: ?INT_VAL_MIN? cannot be used as a function
>>>> 
>>>> $ g++ --version
>>>> i686-apple-darwin11-llvm-g++-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> 
>>>> 
>>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -O3 -c send-more-money.cpp
>>>> In file included from send-more-money.cpp:28:
>>>> In file included from /usr/local/include/gecode/int.hh:50:
>>>> In file included from /usr/local/include/gecode/iter.hh:97:
>>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:27: error: reference to
>>>>  non-static member function must be called; did you mean to call it with no
>>>>  arguments?
>>>>  static_cast<UnsVal>(max - min + 1);
>>>>                      ^~~
>>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:33: error: reference to
>>>>  non-static member function must be called; did you mean to call it with no
>>>>  arguments?
>>>>  static_cast<UnsVal>(max - min + 1);
>>>>                            ^~~
>>>> send-more-money.cpp:55:42: error: called object type 'int' is not a function or
>>>>  function pointer
>>>>    branch(*this, l, INT_VAR_SIZE_MIN(), INT_VAL_MIN());
>>>>                     ~~~~~~~~~~~~~~~~^
>>>> 3 errors generated.
>>>> 
>>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang --version
>>>> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
>>>> 
>>>> 
>>>>> --
>>>>> Dr Torsten Anders
>>>>> Course Leader, Music Technology
>>>>> University of Bedfordshire
>>>>> Park Square, Room A315
>>>>> http://www.torsten-anders.de
>>>> 
>>>> _______________________________________________
>>>> Gecode users mailing list
>>>> users at gecode.org
>>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>> 
>> 
>> 
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
> 



From tack at gecode.org  Mon Nov  4 23:43:05 2013
From: tack at gecode.org (Guido Tack)
Date: Tue, 5 Nov 2013 09:43:05 +1100
Subject: [gecode-users] Newbie problem
In-Reply-To: <D78678DE-36CB-43BF-B8A8-AEB767BAE904@beds.ac.uk>
References: <7E37AFCD-5444-4953-AFC9-EEA58A101D97@beds.ac.uk>
	<DDE298CE-41CB-48C6-8DE0-558B82F4459F@beds.ac.uk>
	<7AF082AD-EA50-40A3-9A65-6108EF9E3286@gecode.org>
	<3D6F7CDE-C432-46FD-BE6A-BE3A4AA54D58@beds.ac.uk>
	<0231C13F-3925-48E9-A254-EF8D7FB7E1AE@gecode.org>
	<D78678DE-36CB-43BF-B8A8-AEB767BAE904@beds.ac.uk>
Message-ID: <4A30F630-2571-496D-863C-BD7098491153@gecode.org>

I suspect it may have something to do with the compiler - you?re probably using clang now, while the previous version of Gecode was compiled with gcc.  Anyway, I just built the framework with the current trunk and clang, and everything seems to work.  The new packages should be up in a couple of days.

Cheers,
Guido

On 4 Nov 2013, at 8:47 pm, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:

> Thanks a lot! So, I understand in the meantime I have to use the command line. 
> 
> Best wishes,
> Torsten
> 
> On 3 Nov 2013, at 23:01, Guido Tack <tack at gecode.org> wrote:
> 
>> The linker problems in your second example can be fixed by using clang++ instead of clang (so that the standard C++ library gets linked).  However I can reproduce the linker issue related to the branch function, and I currently don?t know what the problem might be.  We?re preparing a new release at the moment, and I?ll try to get this fixed as soon as possible.
>> 
>> Cheers,
>> Guido
>> 
>> On 4 Nov 2013, at 9:29 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
>> 
>>> Dear Guido,
>>> 
>>> Thanks a lot for your help! After removing /usr/local/gecode (ignored by uninstall.sh -- likely too old), I could compile and run send-more-money.cpp successfully with g++ at the command line as described in the tutorial. Great! 
>>> 
>>> However, I would like to use Gecode with an IDE. I tried configuring Xcode as described in your tutorial, but still ran into linking problems. I added the geocode framework (not shown in the list, had to directly move to the path /Library/Frameworks/gecode.framework. For Xcode, the Gecode tutorial recommends "You may have to edit your project settings to choose Mac OS 10.6 as the base SDK." With the current version Xcode 5.01 that is not possible anymore. Anyway, regardless whether or not it is set to my system 10.8, I get linker errors from clang.
>>> 
>>> Undefined symbols for architecture x86_64:
>>> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>>>   SendMoreMoney::SendMoreMoney() in main.o
>>> ld: symbol(s) not found for architecture x86_64
>>> 
>>> With Eclipse I have similar problems.
>>> 
>>> To better understand the problem I tried command line calls for clang with the same arguments as for g++ given in your tutorial, and got the more detailed error message below. Not sure whether my flags are exactly the same in Xcode as well, but the error looks at least similar. 
>>> 
>>> Any idea what I could be missing? Thanks a lot! 
>>> 
>>> Best wishes,
>>> Torsten
>>> 
>>> 
>>> The following silently results in an *.o file.
>>> 
>>> $ clang -O3 -c send-more-money.cpp
>>> 
>>> $ clang -framework gecode -o send-more-money send-more-money.cpp
>>> Undefined symbols for architecture x86_64:
>>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::str() const", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::ostream::operator<<(std::ostream& (*)(std::ostream&))", referenced from:
>>>   SendMoreMoney::print() const in send-more-money-cyceYe.o
>>> "std::ostream::operator<<(int)", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string()", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::basic_ostringstream(std::_Ios_Openmode)", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >::~basic_ostringstream()", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::ios_base::Init::Init()", referenced from:
>>>   ___cxx_global_var_init in send-more-money-cyceYe.o
>>> "std::ios_base::Init::~Init()", referenced from:
>>>   ___cxx_global_var_init in send-more-money-cyceYe.o
>>> "std::basic_ios<char, std::char_traits<char> >::copyfmt(std::basic_ios<char, std::char_traits<char> > const&)", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::exception::~exception()", referenced from:
>>>   Gecode::Exception::~Exception() in send-more-money-cyceYe.o
>>> "std::cout", referenced from:
>>>   SendMoreMoney::print() const in send-more-money-cyceYe.o
>>> "std::basic_ostream<char, std::char_traits<char> >& std::endl<char, std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&)", referenced from:
>>>   SendMoreMoney::print() const in send-more-money-cyceYe.o
>>> "std::terminate()", referenced from:
>>>   ___clang_call_terminate in send-more-money-cyceYe.o
>>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char)", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "std::basic_ostream<char, std::char_traits<char> >& std::operator<<<char, std::char_traits<char>, std::allocator<char> >(std::basic_ostream<char, std::char_traits<char> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)", referenced from:
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::Int::print_view<char, std::char_traits<char>, Gecode::Int::IntView>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::Int::IntView const&) in send-more-money-cyceYe.o
>>> "vtable for __cxxabiv1::__class_type_info", referenced from:
>>>   typeinfo for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>>>   typeinfo for Gecode::ActorLink in send-more-money-cyceYe.o
>>>   typeinfo for Gecode::Choice in send-more-money-cyceYe.o
>>>   typeinfo for Gecode::Search::Stop in send-more-money-cyceYe.o
>>>   typeinfo for Gecode::Search::Cutoff in send-more-money-cyceYe.o
>>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>>> "vtable for __cxxabiv1::__si_class_type_info", referenced from:
>>>   typeinfo for Gecode::Rnd::IMP in send-more-money-cyceYe.o
>>>   typeinfo for Gecode::PosChoice in send-more-money-cyceYe.o
>>>   typeinfo for Gecode::DFA::DFAI in send-more-money-cyceYe.o
>>>   typeinfo for SendMoreMoney in send-more-money-cyceYe.o
>>>   typeinfo for Gecode::MemoryExhausted in send-more-money-cyceYe.o
>>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>>> "vtable for __cxxabiv1::__vmi_class_type_info", referenced from:
>>>   typeinfo for Gecode::Actor in send-more-money-cyceYe.o
>>> NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
>>> "operator delete(void*)", referenced from:
>>>   Gecode::MemoryExhausted::~MemoryExhausted() in send-more-money-cyceYe.o
>>> "___cxa_allocate_exception", referenced from:
>>>   _main in send-more-money-cyceYe.o
>>>   SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>>   SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>>   Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>>   Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>> "___cxa_begin_catch", referenced from:
>>>   ___clang_call_terminate in send-more-money-cyceYe.o
>>> "___cxa_free_exception", referenced from:
>>>   _main in send-more-money-cyceYe.o
>>>   SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>>   SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>>   Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>>   Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>> "___cxa_pure_virtual", referenced from:
>>>   vtable for Gecode::SharedHandle::Object in send-more-money-cyceYe.o
>>>   vtable for Gecode::Actor in send-more-money-cyceYe.o
>>>   vtable for Gecode::Choice in send-more-money-cyceYe.o
>>>   vtable for Gecode::Search::Stop in send-more-money-cyceYe.o
>>>   vtable for Gecode::Search::Cutoff in send-more-money-cyceYe.o
>>> "___cxa_throw", referenced from:
>>>   _main in send-more-money-cyceYe.o
>>>   SendMoreMoney::SendMoreMoney() in send-more-money-cyceYe.o
>>>   SendMoreMoney::copy(bool) in send-more-money-cyceYe.o
>>>   Gecode::IntVarArgs::IntVarArgs(int) in send-more-money-cyceYe.o
>>>   Gecode::VarArgArray<Gecode::IntVar>::VarArgArray(Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>> "___dynamic_cast", referenced from:
>>>   _main in send-more-money-cyceYe.o
>>> "___gxx_personality_v0", referenced from:
>>>   _main in send-more-money-cyceYe.o
>>>   Gecode::SharedHandle::Object::~Object() in send-more-money-cyceYe.o
>>>   Gecode::Rnd::IMP::~IMP() in send-more-money-cyceYe.o
>>>   Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>>>   Gecode::DFA::DFAI::~DFAI() in send-more-money-cyceYe.o
>>>   Gecode::PosChoice::~PosChoice() in send-more-money-cyceYe.o
>>>   std::basic_ostream<char, std::char_traits<char> >& Gecode::operator<<<char, std::char_traits<char>, Gecode::IntVar>(std::basic_ostream<char, std::char_traits<char> >&, Gecode::VarArray<Gecode::IntVar> const&) in send-more-money-cyceYe.o
>>>   ...
>>> ld: symbol(s) not found for architecture x86_64
>>> clang: error: linker command failed with exit code 1 (use -v to see invocation)
>>> Torstens-MacBook-Pro:tmp torsten$ 
>>> 
>>> 
>>> 
>>> 
>>> Undefined symbols for architecture x86_64:
>>> "Gecode::branch(Gecode::Home, Gecode::IntVarArgs const&, Gecode::IntVarBranch, Gecode::IntValBranch, bool (*)(Gecode::Space const&, Gecode::IntVar, int), void (*)(Gecode::Space const&, Gecode::BrancherHandle const&, unsigned int, Gecode::IntVar, int, int const&, std::__1::basic_ostream<char, std::__1::char_traits<char> >&))", referenced from:
>>>   SendMoreMoney::SendMoreMoney() in main.o
>>> ld: symbol(s) not found for architecture x86_64
>>> clang: error: linker command failed with exit code 1 (use -v to see invocation)
>>> 
>>> 
>>> 
>>> 
>>> 
>>> On 2 Nov 2013, at 23:20, Guido Tack <tack at gecode.org>
>>> wrote:
>>> 
>>>> Hi Torsten,
>>>> 
>>>> you seem to have an older version of Gecode installed in /usr/local (that's what the clang error messages point to).
>>>> 
>>>> The 35 is the "library version", which is simply incremented with each release and doesn't follow the major.minor.patch scheme.
>>>> 
>>>> Cheers,
>>>> Guido
>>>> 
>>>> On 3 Nov 2013, at 4:11 am, Torsten Anders <Torsten.Anders at beds.ac.uk> wrote:
>>>> 
>>>>> On 2 Nov 2013, at 09:13, Torsten Anders <torsten.anders at beds.ac.uk> wrote:
>>>>>> Dear Gecoders,
>>>>>> 
>>>>>> I am trying to run some ready-made Gecode examples on a Mac without success. For example, with the first example from the tutorial (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp) in run into several errors, for example, 
>>>>>> 
>>>>>> 'INT_VAL_SPLIT_MIN' cannot be used as a function	
>>>>>> 'INT_VAR_SIZE_MIN' cannot be used as a function	
>>>>>> 
>>>>>> As these errors appear for several examples, it appears to me there is something fundamentally wrong. This might well be some installation error on my part. Nevertheless, help is appreciated -- I simply do not know where to start addressing such a problem.  
>>>>>> 
>>>>>> BTW: I just installed Gecode version 4.2 (binaries Gecode-4.2.0.dmg) on my Mac, after uninstalling some older version. I was surprised to find that /Library/Frameworks/gecode.framework/Versions/ contains a folder named "35" -- I would have expected it to be named "42", for version 4.2, but that could of course be simply a wrong guess on my part.   
>>>>>> 
>>>>>> Best wishes,
>>>>>> Torsten
>>>>> 
>>>>> 
>>>>> I tried to better isolate the problem. Both g++ (gcc) 4.2.1 and clang 5.0 report problems with the example send-more-money.cpp (http://www.gecode.org/doc/4.2.0/MPG/send-more-money.cpp), but the errors differ. The details are below. 
>>>>> 
>>>>> What am I missing?  
>>>>> 
>>>>> Best wishes,
>>>>> Torsten
>>>>> 
>>>>> $ g++ -O3 -c send-more-money.cpp
>>>>> send-more-money.cpp: In constructor ?SendMoreMoney::SendMoreMoney()?:
>>>>> send-more-money.cpp:55: error: ?INT_VAR_SIZE_MIN? cannot be used as a function
>>>>> send-more-money.cpp:55: error: ?INT_VAL_MIN? cannot be used as a function
>>>>> 
>>>>> $ g++ --version
>>>>> i686-apple-darwin11-llvm-g++-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
>>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>>> 
>>>>> 
>>>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -O3 -c send-more-money.cpp
>>>>> In file included from send-more-money.cpp:28:
>>>>> In file included from /usr/local/include/gecode/int.hh:50:
>>>>> In file included from /usr/local/include/gecode/iter.hh:97:
>>>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:27: error: reference to
>>>>> non-static member function must be called; did you mean to call it with no
>>>>> arguments?
>>>>> static_cast<UnsVal>(max - min + 1);
>>>>>                     ^~~
>>>>> /usr/local/include/gecode/iter/ranges-scale.hpp:197:33: error: reference to
>>>>> non-static member function must be called; did you mean to call it with no
>>>>> arguments?
>>>>> static_cast<UnsVal>(max - min + 1);
>>>>>                           ^~~
>>>>> send-more-money.cpp:55:42: error: called object type 'int' is not a function or
>>>>> function pointer
>>>>>   branch(*this, l, INT_VAR_SIZE_MIN(), INT_VAL_MIN());
>>>>>                    ~~~~~~~~~~~~~~~~^
>>>>> 3 errors generated.
>>>>> 
>>>>> $ /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang --version
>>>>> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
>>>>> 
>>>>> 
>>>>>> --
>>>>>> Dr Torsten Anders
>>>>>> Course Leader, Music Technology
>>>>>> University of Bedfordshire
>>>>>> Park Square, Room A315
>>>>>> http://www.torsten-anders.de
>>>>> 
>>>>> _______________________________________________
>>>>> Gecode users mailing list
>>>>> users at gecode.org
>>>>> https://www.gecode.org/mailman/listinfo/gecode-users
>>>> 
>>> 
>>> 
>>> _______________________________________________
>>> Gecode users mailing list
>>> users at gecode.org
>>> https://www.gecode.org/mailman/listinfo/gecode-users
>> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From kyo.alone at gmail.com  Tue Nov  5 22:12:03 2013
From: kyo.alone at gmail.com (Mohamed Rezgui)
Date: Tue, 5 Nov 2013 22:12:03 +0100
Subject: [gecode-users] Trace on propagation events and modified variables
	step by step
Message-ID: <CAFWj1gDqv=VY_D09gxW59gxhFaNi6rjboZ6vFyZutHUpM_hixA@mail.gmail.com>

Dear Sir,

I would like to know haw can I make trace on propagation events and
modified variables ?
Is there a trace mode in gecode ?

-- 
Best Regards,
Mohamed REZGUI
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131105/fac9bc05/attachment.html>

From tack at gecode.org  Tue Nov  5 23:24:04 2013
From: tack at gecode.org (Guido Tack)
Date: Wed, 6 Nov 2013 09:24:04 +1100
Subject: [gecode-users] Trace on propagation events and modified
	variables	step by step
In-Reply-To: <CAFWj1gDqv=VY_D09gxW59gxhFaNi6rjboZ6vFyZutHUpM_hixA@mail.gmail.com>
References: <CAFWj1gDqv=VY_D09gxW59gxhFaNi6rjboZ6vFyZutHUpM_hixA@mail.gmail.com>
Message-ID: <C9A8E7B0-C58C-47EF-B662-1CDB6647854A@gecode.org>

Hi,

Gecode does not have a trace mode that would give you that level of information - sorry.  To check modified variables, you could implement your own propagator that prints a trace whenever a variable is modified (see the MPG section on advisors).

Cheers,
Guido

On 6 Nov 2013, at 8:12 am, Mohamed Rezgui <kyo.alone at gmail.com> wrote:

> Dear Sir,
> 
> I would like to know haw can I make trace on propagation events and modified variables ?
> Is there a trace mode in gecode ?
> 
> -- 
> Best Regards,
> Mohamed REZGUI
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From tack at gecode.org  Wed Nov  6 03:04:39 2013
From: tack at gecode.org (Guido Tack)
Date: Wed, 6 Nov 2013 13:04:39 +1100
Subject: [gecode-users] Gecode 4.2.1 released
Message-ID: <50F4839F-866D-4323-8191-5333A8F2AB33@gecode.org>

Dear all,

we are releasing the next version of Gecode:

                        Gecode 4.2.1
               http://www.gecode.org

This release fixes several major bugs and adds some minor improvements.
On our web site, you find source packages, binary packages for Windows and Mac OS, and the full documentation.

Cheers,
Guido



From parakleta at darkreality.org  Thu Nov  7 05:12:06 2013
From: parakleta at darkreality.org (Duane Leslie)
Date: Thu, 7 Nov 2013 15:12:06 +1100
Subject: [gecode-users] Pruning filtered branchers.
Message-ID: <5F573702-C0D8-41AF-B79E-CED14D570EA6@darkreality.org>

I'm not sure if this is a feature or a bug, but I have a problem where I am using the first brancher to implement iterative deepening with RBS.

I use a heuristic with the first brancher disable via the filter function to determine a 'reasonably good' solution to use for BAB pruning, and then once the bound has been determined I switch the brancher on to activate IDA.

I have found that if the filter function returns false the first time it is called it is never called again, so I have had to implement an initial harmless dummy action so that it looks like it has work to do.  I am assuming this is an optimisation that is pruning away the brancher because it assumes it will never have work to do if it has none initially, but is this the desired behaviour and if so is there a better way to get around it than having a dummy action?

Regards,

Duane.

From cschulte at kth.se  Thu Nov  7 15:01:06 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 7 Nov 2013 15:01:06 +0100
Subject: [gecode-users] Pruning filtered branchers.
In-Reply-To: <5F573702-C0D8-41AF-B79E-CED14D570EA6@darkreality.org>
References: <5F573702-C0D8-41AF-B79E-CED14D570EA6@darkreality.org>
Message-ID: <014601cedbc1$cf0a8fb0$6d1faf10$@kth.se>

Hi,

This is indeed the desired behavior but I think this requires some better
explanation in MPG...

I do not know a better way around this, sorry.

Best
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/



-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Duane Leslie
Sent: Thursday, November 07, 2013 5:12 AM
To: users at gecode.org
Subject: [gecode-users] Pruning filtered branchers.

I'm not sure if this is a feature or a bug, but I have a problem where I am
using the first brancher to implement iterative deepening with RBS.

I use a heuristic with the first brancher disable via the filter function to
determine a 'reasonably good' solution to use for BAB pruning, and then once
the bound has been determined I switch the brancher on to activate IDA.

I have found that if the filter function returns false the first time it is
called it is never called again, so I have had to implement an initial
harmless dummy action so that it looks like it has work to do.  I am
assuming this is an optimisation that is pruning away the brancher because
it assumes it will never have work to do if it has none initially, but is
this the desired behaviour and if so is there a better way to get around it
than having a dummy action?

Regards,

Duane.
_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From zzhu at cse.cuhk.edu.hk  Thu Nov  7 15:11:49 2013
From: zzhu at cse.cuhk.edu.hk (Zhu Zichen's cse)
Date: Thu, 7 Nov 2013 22:11:49 +0800
Subject: [gecode-users] Update function
Message-ID: <CAE2SAwRTr5ZkZR3JaUjUospreoVVeRPPm0jS4Cbhi9r+3EXsMQ@mail.gmail.com>

Dear All,
          For variables, why do we have to use update function when we
copying? Why cannot I simply use rel(*this,x==_x)? And there are problems
when I use update function to update a global variable from another global
variable. What should I do when I update global variables?


Best Regards,
Zichen Zhu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131107/f5587c3b/attachment.html>

From cschulte at kth.se  Thu Nov  7 15:20:23 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 7 Nov 2013 15:20:23 +0100
Subject: [gecode-users] Update function
In-Reply-To: <CAE2SAwRTr5ZkZR3JaUjUospreoVVeRPPm0jS4Cbhi9r+3EXsMQ@mail.gmail.com>
References: <CAE2SAwRTr5ZkZR3JaUjUospreoVVeRPPm0jS4Cbhi9r+3EXsMQ@mail.gmail.com>
Message-ID: <015401cedbc4$7fa9f200$7efdd600$@kth.se>

Hi,

 

The answer to the first question is simple: because you have to! Update
updates variables during cloning g and is needed for search. Posting a
constraint as you suggest is something very different.

 

There can be no global variables in Gecode provided you mean something such
as Gecode's integer variables as they are always situated inside a given
space (this is the space you given when initializing a Gecode variable). Or
dou you mean variable as in C++-variable? Then it does not need to be
updated.

 

Maybe you would like to read the chapter on Search in MPG that explains what
happens during search in Gecode.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
<http://www.ict.kth.se/~cschulte/> www.ict.kth.se/~cschulte/

 

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Zhu Zichen's cse
Sent: Thursday, November 07, 2013 3:12 PM
To: users at gecode.org
Subject: [gecode-users] Update function

 

Dear All,

          For variables, why do we have to use update function when we
copying? Why cannot I simply use rel(*this,x==_x)? And there are problems
when I use update function to update a global variable from another global
variable. What should I do when I update global variables?

 

 

Best Regards,

Zichen Zhu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131107/a477ef36/attachment.html>

From zzhu at cse.cuhk.edu.hk  Mon Nov 11 09:07:11 2013
From: zzhu at cse.cuhk.edu.hk (Zhu Zichen's cse)
Date: Mon, 11 Nov 2013 16:07:11 +0800
Subject: [gecode-users] Update function
In-Reply-To: <015401cedbc4$7fa9f200$7efdd600$@kth.se>
References: <CAE2SAwRTr5ZkZR3JaUjUospreoVVeRPPm0jS4Cbhi9r+3EXsMQ@mail.gmail.com>
	<015401cedbc4$7fa9f200$7efdd600$@kth.se>
Message-ID: <CAE2SAwRvtRZOEC6jx7gbfKn6Gs2Kv31ehZiQVooOOMNDaM_TAw@mail.gmail.com>

Dear Christian,

     Thanks for your reply. I read the chapter on Search, but I am still
confusing. For sequential search where shared always being true, when I
update a BoolVar x, why cannot I simply write x=OldSpace.x? It constraints
the two variables to take the same value. They might need extra propagation
compared with using update function, but the result should be same. Can you
help for this? Many thanks.


Zichen


On Thu, Nov 7, 2013 at 10:20 PM, Christian Schulte <cschulte at kth.se> wrote:

> Hi,
>
>
>
> The answer to the first question is simple: because you have to! Update
> updates variables during cloning g and is needed for search. Posting a
> constraint as you suggest is something very different.
>
>
>
> There can be no global variables in Gecode provided you mean something
> such as Gecode?s integer variables as they are always situated inside a
> given space (this is the space you given when initializing a Gecode
> variable). Or dou you mean variable as in C++-variable? Then it does not
> need to be updated.
>
>
>
> Maybe you would like to read the chapter on Search in MPG that explains
> what happens during search in Gecode.
>
>
>
> Cheers
>
> Christian
>
>
>
> --
>
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/
>
>
>
>
>
> *From:* users-bounces at gecode.org [mailto:users-bounces at gecode.org] *On
> Behalf Of *Zhu Zichen's cse
> *Sent:* Thursday, November 07, 2013 3:12 PM
> *To:* users at gecode.org
> *Subject:* [gecode-users] Update function
>
>
>
> Dear All,
>
>           For variables, why do we have to use update function when we
> copying? Why cannot I simply use rel(*this,x==_x)? And there are problems
> when I use update function to update a global variable from another global
> variable. What should I do when I update global variables?
>
>
>
>
>
> Best Regards,
>
> Zichen Zhu
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131111/4b9a528a/attachment.html>

From cschulte at kth.se  Mon Nov 11 10:54:52 2013
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 11 Nov 2013 10:54:52 +0100
Subject: [gecode-users] Update function
In-Reply-To: <CAE2SAwRvtRZOEC6jx7gbfKn6Gs2Kv31ehZiQVooOOMNDaM_TAw@mail.gmail.com>
References: <CAE2SAwRTr5ZkZR3JaUjUospreoVVeRPPm0jS4Cbhi9r+3EXsMQ@mail.gmail.com>	<015401cedbc4$7fa9f200$7efdd600$@kth.se>
	<CAE2SAwRvtRZOEC6jx7gbfKn6Gs2Kv31ehZiQVooOOMNDaM_TAw@mail.gmail.com>
Message-ID: <000901cedec4$124a7970$36df6c50$@se>

The model is that each space maintains its own variables, propagators, and
branchers. When you clone a space, also the variables must be cloned. That
is what update does. Just assigning the variable does not clone it by that
you would create two spaces sharing variables which does not work in Gecode.
This is not really an issue, just use update and that's it.

 

Best

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: zichenzu at gmail.com [mailto:zichenzu at gmail.com] On Behalf Of Zhu
Zichen's cse
Sent: Monday, November 11, 2013 9:07 AM
To: cschulte at kth.se
Cc: users at gecode.org
Subject: Re: [gecode-users] Update function

 

Dear Christian,

 

     Thanks for your reply. I read the chapter on Search, but I am still
confusing. For sequential search where shared always being true, when I
update a BoolVar x, why cannot I simply write x=OldSpace.x? It constraints
the two variables to take the same value. They might need extra propagation
compared with using update function, but the result should be same. Can you
help for this? Many thanks.

 

 

Zichen

 

On Thu, Nov 7, 2013 at 10:20 PM, Christian Schulte <cschulte at kth.se> wrote:

Hi,

 

The answer to the first question is simple: because you have to! Update
updates variables during cloning g and is needed for search. Posting a
constraint as you suggest is something very different.

 

There can be no global variables in Gecode provided you mean something such
as Gecode's integer variables as they are always situated inside a given
space (this is the space you given when initializing a Gecode variable). Or
dou you mean variable as in C++-variable? Then it does not need to be
updated.

 

Maybe you would like to read the chapter on Search in MPG that explains what
happens during search in Gecode.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Zhu Zichen's cse
Sent: Thursday, November 07, 2013 3:12 PM
To: users at gecode.org
Subject: [gecode-users] Update function

 

Dear All,

          For variables, why do we have to use update function when we
copying? Why cannot I simply use rel(*this,x==_x)? And there are problems
when I use update function to update a global variable from another global
variable. What should I do when I update global variables?

 

 

Best Regards,

Zichen Zhu

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131111/29fbe101/attachment.html>

From joost.van.twist at quintiq.com  Tue Nov 12 12:50:34 2013
From: joost.van.twist at quintiq.com (Joost van Twist)
Date: Tue, 12 Nov 2013 12:50:34 +0100
Subject: [gecode-users] Rounding behavior of relational constraints
Message-ID: <5282241A.D73A.00AA.1@quintiq.com>

Dear all,

When using a relational constraint between two or more floating variables the bounds might not be always updated as you would expect during propagation. This happens only when being close to the maximum limits of floats. Why does this happen?

I have attached an example program. It has two variables and adds a constraint stating that the second variable should be bigger than the first plus some small constant.  The lower bound of the second variable remains zero however under some conditions.

First I thought is was some kind of bug, but after posting a report, it appeared to be because of some rounding side effects and it is not an issue when the bounds shrink. Christian suggested to repost it as question. I have also attached the initial answer Vincent gave who worked on the floating module.

Kind regards,












Joost van Twist
Software Engineer
R&D Optimization Team

Quintiq
T +31 73 691 0739
M +31 63 179 1690
E joost.van.twist at quintiq.com
www.quintiq.com 
    
Please consider the environment before printing this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 2801 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0006.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 396 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0007.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 255 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0008.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 285 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0009.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 692 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0010.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 233 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0011.gif>
-------------- next part --------------
An embedded message was scrubbed...
From: "Vincent Barichard" <Vincent.Barichard at univ-angers.fr>
Subject: Re: FW: [Gecode-bugs] New bug: Relational constraint gives	 inconsistent lowerbound for floating variables
Date: 10 Nov 2013 22:17:11 +0100
Size: 14147
URL: <http://www.gecode.org/pipermail/users/attachments/20131112/f5e5e02c/attachment-0001.mht>
-------------- next part --------------
#include "gecode/float.hh"
#include "gecode/minimodel.hh"

using namespace Gecode;

class TestModel : public Gecode::Space
{
public:
  FloatVar a;
  FloatVar b;

  TestModel()
    : a(*this,0, 0),
      b(*this,0, Gecode::Float::Limits::max) //using an upper bound significantly smaller is also a workaround
  {
    rel(*this, b >= a + 2.0); //lower bound of b will stay 0, when changing to ">" works fine
    //rel(*this, b == 0);     //will still make the space correctly infeasible
  }

  TestModel(bool share, TestModel& testmodel)
    : Space(share, testmodel)
  {
     a.update(*this, share, testmodel.a);
     b.update(*this, share, testmodel.b);
  }

  virtual Gecode::Space* copy(bool share)
  {
    return new TestModel(share, *this);
  }

  virtual void print(std::ostream& os) const
  {
    os << "a: " << a << " b: " << b << std::endl;
  }
};


int main(int argc, char* argv[])
{
  TestModel model;

  if ( model.status() == SS_FAILED )
  {
    std::cout << "infeasible" << std::endl;
  } else
  {
    std::cout << "feasible" << std::endl;
  }

  model.print(std::cout);

	return 0;
}

From Vincent.Barichard at univ-angers.fr  Wed Nov 13 09:46:12 2013
From: Vincent.Barichard at univ-angers.fr (Vincent Barichard)
Date: Wed, 13 Nov 2013 09:46:12 +0100
Subject: [gecode-users] Rounding behavior of relational constraints
In-Reply-To: <5282241A.D73A.00AA.1@quintiq.com>
References: <5282241A.D73A.00AA.1@quintiq.com>
Message-ID: <CAF6ZHem4u6CiVoYNKGFa0cDgtvHW4iZJMX1gC877u9YEFm8AzQ@mail.gmail.com>

Dear all,
Indeed, in propagators, for example the "Linear" propagator internal
calculations are done to update bounds of variables. If the maximum float
value is involved in these calculation it may leads to rounding result
behaviors defined in the IEEE floating rules. There is no way to avoid it
but the computes remain correct. Even if the bounds are not as tight as
expected after a call to "propagate", no solution is lost. After a
branching, the interval will be cut and most of the time the bounds
propagate as expected.
To illustrate these floating rounding behaviors, please consider the
following C++ code :

#include <iostream>
#include <limits>

using namespace std;
int main() {
  float mx = std::numeric_limits<float>::max();
  cout << "Max float value mx=" << mx << endl;
  cout << "Addition with a small constant: mx+2=" << mx + 2 << endl;
  cout << "Equality test with addition with a small constant: mx+2==mx ? =
" << (((mx + 2)==mx)?"TRUE":"FALSE") << endl;
  cout << "Addition with a bigger constant: mx+mx/2=" << mx + mx/2 << endl;
  cout << "Equality test with addition with a bigger constant: mx+mx/2==mx
? = " << (((mx + mx/2)==mx)?"TRUE":"FALSE") << endl;
  cout << "Order of computes 1 : mx+2-mx= " << mx+2-mx << std::endl;
  cout << "Order of computes 2 : mx-mx+2= " << mx-mx+2 << std::endl;
  return 0;
}

gives :
    Max float value mx=3.40282e+38
    Addition with a small constant: mx+2=3.40282e+38
    Equality test with addition with a small constant: mx+2==mx ? = TRUE
    Addition with a bigger constant: mx+mx/2=inf
    Equality test with addition with a bigger constant: mx+mx/2==mx ? =
FALSE
    Order of computes 1 : mx+2-mx= 0
    Order of computes 2 : mx-mx+2= 2

As you see, different results are computed depending of the value of the
constants and even of the order of the computes. Keep in mind that no
solution will be lost. The best advice I can give is to set initial bounds
of variables as tight as possible to make propagation as efficient as it
can be.

Regards,
Vincent Barichard


2013/11/12 Joost van Twist <joost.van.twist at quintiq.com>

>  Dear all,
>
> When using a relational constraint between two or more floating variables
> the bounds might not be always updated as you would expect during
> propagation. This happens only when being close to the maximum limits of
> floats. Why does this happen?
>
> I have attached an example program. It has two variables and adds a
> constraint stating that the second variable should be bigger than the first
> plus some small constant.  The lower bound of the second variable remains
> zero however under some conditions.
>
> First I thought is was some kind of bug, but after posting a report, it
> appeared to be because of some rounding side effects and it is not an issue
> when the bounds shrink. Christian suggested to repost it as question. I
> have also attached the initial answer Vincent gave who worked on the
> floating module.
>
> Kind regards,
>
>
>
>
>
>
>
>
>
>
>
>   [image: Quintiq logo] <http://www.quintiq.com/> Joost van Twist Software
> Engineer R&D Optimization Team  *Quintiq* T +31 73 691 0739 M +31 63 179
> 1690 E joost.van.twist at quintiq.com www.quintiq.com  [image: Twitter]<http://twitter.com/quintiq> [image:
> Facebook] <http://www.facebook.com/Quintiq> [image: LinkedIn]<http://www.linkedin.com/company/quintiq> [image:
> YouTube] <http://www.youtube.com/channelquintiq>    Please consider the
> environment before printing this email.
>
>
> ---------- Message transf?r? ----------
> From: "Vincent Barichard" <Vincent.Barichard at univ-angers.fr>
> To: cschulte at kth.se
> Cc:
> Date: 10 Nov 2013 22:17:11 +0100
> Subject: Re: FW: [Gecode-bugs] New bug: Relational constraint gives
> inconsistent lowerbound for floating variables
> Hi Christian,
>
> I looked quickly (I'm not at home for now) and I think that the bug is in
> the compute
> of the sl and sly variables (see propagate of Lq<P,N> of linear/nary.hpp).
> Indeed, the upper bound is set to FLOAT_MAX, and as a consequence some
> compute failed.
> When sl is computed (lines 353 and 356) we get : FLOAT_MAX + -2 =
> FLOAT_MAX,
> When sly is computed (line 374) we get : FLOAT_MAX - sl =
> 6.9533558075717661e-310 (almost 0)
>
> The order of the computes has an effect on the result. I put here after an
> example
> taken from gdb :
> (gdb) p y[i].max() + 2 - y[i].max()
> $30 = 0
> (gdb) p y[i].max() - y[i].max() + 2
> $31 = 2
>
> In an ideal world we would get sly = FLOAT_MAX - FLOAT_MAX + 2 = 2
> It will work after a cut (during search) but a call to status() is not
> enough to get
> some reductions.
>
> I don't know an easy fix. The only way I see is to identify the FLOAT_MAX
> cases each time it is encountered and to make some special cases. You may
> have another idea ?
>
> Just a thought. I ever encountered these cases in the past, calculations
> are not wrong, and most of the time, tighter bounds of the variables when
> modeling solves the problem. It may occur in many propagators each time a
> compute involves FLOAT_MAX.
>
> Cheers,
> Vincent
>
>
> 2013/11/10 Christian Schulte <cschulte at kth.se>
>
>> Hi Vincent,
>>
>> Any idea?
>>
>> Cheers
>> Christian
>>
>> --
>> Christian Schulte, www.ict.kth.se/~cschulte/
>>
>> > -----Original Message-----
>> > From: bugs-bounces at gecode.org [mailto:bugs-bounces at gecode.org] On
>> > Behalf Of Gecode Bug Tracker
>> > Sent: Saturday, November 09, 2013 5:03 PM
>> > To: bugs at gecode.org; joost.van.twist at quintiq.com
>> > Subject: [Gecode-bugs] New bug: Relational constraint gives inconsistent
>> > lowerbound for floating variables
>> >
>> > New bug report for Gecode from Joost van Twist
>> (joost.van.twist at quintiq.com).
>> >
>> > Summary: Relational constraint gives inconsistent lowerbound for
>> floating
>> > variables
>> >
>> > Gecode version: 4.2.0
>> > Platform: Windows
>> >
>> > Details:
>> > /*
>> > The following program posts a simple relation between two float
>> variables.
>> The
>> > lowerbound of variable b remains zero while it should become 2. It does
>> become
>> > 2 when changing the upperbound of b to a smaller value (1000 for
>> example).
>> > Also when using the \">\" operator the lowerbound of b will be 2 as
>> well.
>> > */
>> >
>> > #include \"gecode/float.hh\"
>> > #include \"gecode/minimodel.hh\"
>> >
>> > using namespace Gecode;
>> >
>> > class TestModel : public Gecode::Space
>> > {
>> > public:
>> >   FloatVar a;
>> >   FloatVar b;
>> >
>> >   TestModel()
>> >     : a(*this,0, 0),
>> >       b(*this,0, Gecode::Float::Limits::max) //using an upper bound
>> significantly
>> > smaller is also a workaround
>> >   {
>> >     rel(*this, b >= a + 2.0); //lower bound of b will stay 0, when
>> changing to \">\"
>> > works fine
>> >     //rel(*this, b == 0);     //will still make the space correctly
>> infeasible
>> >   }
>> >
>> >   TestModel(bool share, TestModel& testmodel)
>> >     : Space(share, testmodel)
>> >   {
>> >      a.update(*this, share, testmodel.a);
>> >      b.update(*this, share, testmodel.b);
>> >   }
>> >
>> >   virtual Gecode::Space* copy(bool share)
>> >   {
>> >     return new TestModel(share, *this);
>> >   }
>> >
>> >   virtual void print(std::ostream& os) const
>> >   {
>> >     os << \"a: \" << a << \" b: \" << b << std::endl;
>> >   }
>> > };
>> >
>> >
>> > int main(int argc, char* argv[])
>> > {
>> >   TestModel model;
>> >
>> >   if ( model.status() == SS_FAILED )
>> >   {
>> >     std::cout << \"infeasible\" << std::endl;
>> >   } else
>> >   {
>> >     std::cout << \"feasible\" << std::endl;
>> >   }
>> >
>> >   model.print(std::cout);
>> >
>> >   return 0;
>> > }
>> >
>> > _______________________________________________
>> > bugs mailing list
>> > bugs at gecode.org
>> > http://www.gecode.org/cgi-bin/mailman/listinfo/bugs
>>
>>
>
>
> --
> Vincent Barichard         Universit? d'Angers (LERIA)
> Tel:  02 41 73 52 06      D?partement Informatique
> Fax: 02 41 73 50 73      H203
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>


-- 
Vincent Barichard         Universit? d'Angers (LERIA)
Tel:  02 41 73 52 06      D?partement Informatique
Fax: 02 41 73 50 73      H203
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131113/51e61d4a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 285 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131113/51e61d4a/attachment-0006.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 233 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131113/51e61d4a/attachment-0007.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 2801 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131113/51e61d4a/attachment-0008.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 255 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131113/51e61d4a/attachment-0009.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 692 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131113/51e61d4a/attachment-0010.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 396 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131113/51e61d4a/attachment-0011.gif>

From jose_a_magana at hotmail.com  Fri Nov 15 13:29:48 2013
From: jose_a_magana at hotmail.com (=?UTF-8?Q?Jose_A_Maga=C3=B1a?=)
Date: Fri, 15 Nov 2013 13:29:48 +0100
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin
Message-ID: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>

Hello all,
    I have just started to use Gecode as part of a university course on CSP.
   First, congrats for the tool and the amazing work you do in supporting it.
    
    I am trying to install the tool on a Windows 8 system and some doubts have arised during the process as well as some issues related to Cygwin. I have made some effort on reading the documentation (Chapter 2 mainly of MGP) and reviewed some previous questions on this list.

    Going to the point:

    1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 
        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).
        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.
        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

    2) On a Windows installation using cygwin, that I have also attempted. I have been able to make the install using CC=?gcc? CXX=?g++?.
         Everything gets installed, even to the /usr/local folders and the Test.exe shows everything is working.
        I need this to work since the teacher uses a Linux machine for the lab classes. In addition some scripts are distributed to compile some examples that I would need to modify during the class.
         I cab compile but I have not been able to link.
         Here is where I have my doubts. I have read in some old questions to the list, that you were considering not supporting cygwin with g++/gcc due to the problems with dynamic linking. The discussions date back to 2008 and 2010. 
         Is it a supported configuration? 
         Which additional settings should I add to my linking command?

   g++ -o basic -L/usr/local/lib basic.o -lgecodedriver -lgecodesearch -lgecodeminimodel -lgecodeint -lgecodekernel ?lgecodesupport      

         Thanks in advance for your support.

            Jose A. Maga?a
        


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/1af40f62/attachment.html>

From cschulte at kth.se  Fri Nov 15 13:40:57 2013
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 15 Nov 2013 13:40:57 +0100
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin
In-Reply-To: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>
References: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>
Message-ID: <005901cee1ff$ee8ef760$cbace620$@se>

Hi,

 

Gecode does not work with cygwin (this has been discussed several times alread on this mailing list). As explained in MPG you have to install Microsoft Visual Studio, try the current free version Visual Studio Express 2013 and then install Gecode with the matching msi. Luckily, the current Visual Studio version supports both x64 (64 bit) as well as x86 (32 bit), so you can actually choose which variant of Gecode you want to use with Visual Studio.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:30 PM
To: users at gecode.org
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hello all,

    I have just started to use Gecode as part of a university course on CSP.

   First, congrats for the tool and the amazing work you do in supporting it.

    

    I am trying to install the tool on a Windows 8 system and some doubts have arised during the process as well as some issues related to Cygwin. I have made some effort on reading the documentation (Chapter 2 mainly of MGP) and reviewed some previous questions on this list.

 

    Going to the point:

 

    1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

 

    2) On a Windows installation using cygwin, that I have also attempted. I have been able to make the install using CC=?gcc? CXX=?g++?.

         Everything gets installed, even to the /usr/local folders and the Test.exe shows everything is working.

        I need this to work since the teacher uses a Linux machine for the lab classes. In addition some scripts are distributed to compile some examples that I would need to modify during the class.

         I cab compile but I have not been able to link.

         Here is where I have my doubts. I have read in some old questions to the list, that you were considering not supporting cygwin with g++/gcc due to the problems with dynamic linking. The discussions date back to 2008 and 2010. 

         Is it a supported configuration? 

         Which additional settings should I add to my linking command?

 

   g++ -o basic -L/usr/local/lib basic.o -lgecodedriver -lgecodesearch -lgecodeminimodel -lgecodeint -lgecodekernel ?lgecodesupport      

 

         Thanks in advance for your support.

 

            Jose A. Maga?a

        

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/ecfbe527/attachment.html>

From jose_a_magana at hotmail.com  Fri Nov 15 13:47:51 2013
From: jose_a_magana at hotmail.com (=?UTF-8?Q?Jose_A_Maga=C3=B1a?=)
Date: Fri, 15 Nov 2013 13:47:51 +0100
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin
In-Reply-To: <005901cee1ff$ee8ef760$cbace620$@se>
References: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>
	<005901cee1ff$ee8ef760$cbace620$@se>
Message-ID: <DUB123-DS14523A4B81BDCBD6B1A5F9B8FB0@phx.gbl>

Christian,
    thanks for your quick reply.
    You should then update the MPG file. It is confusing that a file dated 2008-2013? is not up-to-date in such an important topic and that it would be so easy to properly state on the document.
    Again thanks for your help
           Best regards
               Jose

From: Christian Schulte 
Sent: Friday, 15 November, 2013 13:40
To: 'Jose A Maga?a' ; users at gecode.org 
Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

Hi,

 

Gecode does not work with cygwin (this has been discussed several times alread on this mailing list). As explained in MPG you have to install Microsoft Visual Studio, try the current free version Visual Studio Express 2013 and then install Gecode with the matching msi. Luckily, the current Visual Studio version supports both x64 (64 bit) as well as x86 (32 bit), so you can actually choose which variant of Gecode you want to use with Visual Studio.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:30 PM
To: users at gecode.org
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hello all,

    I have just started to use Gecode as part of a university course on CSP.

   First, congrats for the tool and the amazing work you do in supporting it.

    

    I am trying to install the tool on a Windows 8 system and some doubts have arised during the process as well as some issues related to Cygwin. I have made some effort on reading the documentation (Chapter 2 mainly of MGP) and reviewed some previous questions on this list.

 

    Going to the point:

 

    1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

 

    2) On a Windows installation using cygwin, that I have also attempted. I have been able to make the install using CC=?gcc? CXX=?g++?.

         Everything gets installed, even to the /usr/local folders and the Test.exe shows everything is working.

        I need this to work since the teacher uses a Linux machine for the lab classes. In addition some scripts are distributed to compile some examples that I would need to modify during the class.

         I cab compile but I have not been able to link.

         Here is where I have my doubts. I have read in some old questions to the list, that you were considering not supporting cygwin with g++/gcc due to the problems with dynamic linking. The discussions date back to 2008 and 2010. 

         Is it a supported configuration? 

         Which additional settings should I add to my linking command?

 

   g++ -o basic -L/usr/local/lib basic.o -lgecodedriver -lgecodesearch -lgecodeminimodel -lgecodeint -lgecodekernel ?lgecodesupport      

 

         Thanks in advance for your support.

 

            Jose A. Maga?a

        

 

 

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/86ed771d/attachment-0001.html>

From cschulte at kth.se  Fri Nov 15 13:53:58 2013
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 15 Nov 2013 13:53:58 +0100
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin
In-Reply-To: <DUB123-DS14523A4B81BDCBD6B1A5F9B8FB0@phx.gbl>
References: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>	<005901cee1ff$ee8ef760$cbace620$@se>
	<DUB123-DS14523A4B81BDCBD6B1A5F9B8FB0@phx.gbl>
Message-ID: <006d01cee201$c0484710$40d8d530$@se>

Well the only difference is that it lists old version numbers. Otherwise the explanation is correct. C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:48 PM
To: users at gecode.org
Subject: Re: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Christian,

    thanks for your quick reply.

    You should then update the MPG file. It is confusing that a file dated 2008-2013? is not up-to-date in such an important topic and that it would be so easy to properly state on the document.

    Again thanks for your help

           Best regards

               Jose

 

From: Christian Schulte <mailto:cschulte at kth.se>  

Sent: Friday, 15 November, 2013 13:40

To: 'Jose A Maga?a' <mailto:jose_a_magana at hotmail.com>  ; users at gecode.org 

Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hi,

 

Gecode does not work with cygwin (this has been discussed several times alread on this mailing list). As explained in MPG you have to install Microsoft Visual Studio, try the current free version Visual Studio Express 2013 and then install Gecode with the matching msi. Luckily, the current Visual Studio version supports both x64 (64 bit) as well as x86 (32 bit), so you can actually choose which variant of Gecode you want to use with Visual Studio.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:30 PM
To: users at gecode.org
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hello all,

    I have just started to use Gecode as part of a university course on CSP.

   First, congrats for the tool and the amazing work you do in supporting it.

    

    I am trying to install the tool on a Windows 8 system and some doubts have arised during the process as well as some issues related to Cygwin. I have made some effort on reading the documentation (Chapter 2 mainly of MGP) and reviewed some previous questions on this list.

 

    Going to the point:

 

    1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

 

    2) On a Windows installation using cygwin, that I have also attempted. I have been able to make the install using CC=?gcc? CXX=?g++?.

         Everything gets installed, even to the /usr/local folders and the Test.exe shows everything is working.

        I need this to work since the teacher uses a Linux machine for the lab classes. In addition some scripts are distributed to compile some examples that I would need to modify during the class.

         I cab compile but I have not been able to link.

         Here is where I have my doubts. I have read in some old questions to the list, that you were considering not supporting cygwin with g++/gcc due to the problems with dynamic linking. The discussions date back to 2008 and 2010. 

         Is it a supported configuration? 

         Which additional settings should I add to my linking command?

 

   g++ -o basic -L/usr/local/lib basic.o -lgecodedriver -lgecodesearch -lgecodeminimodel -lgecodeint -lgecodekernel ?lgecodesupport      

 

         Thanks in advance for your support.

 

            Jose A. Maga?a

        

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/66f80e0b/attachment.html>

From cschulte at kth.se  Fri Nov 15 13:58:11 2013
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 15 Nov 2013 13:58:11 +0100
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin
References: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>	<005901cee1ff$ee8ef760$cbace620$@se>
	<DUB123-DS14523A4B81BDCBD6B1A5F9B8FB0@phx.gbl> 
Message-ID: <007b01cee202$56aca4d0$0405ee70$@se>

Sorry that is incorrect. There is indeed some nonsense which I did not write ;-( It'll be removed in the next version of MPG.

 

C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: Christian Schulte [mailto:cschulte at kth.se] 
Sent: Friday, November 15, 2013 1:54 PM
To: 'Jose A Maga?a'; 'users at gecode.org'
Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Well the only difference is that it lists old version numbers. Otherwise the explanation is correct. C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:48 PM
To: users at gecode.org
Subject: Re: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Christian,

    thanks for your quick reply.

    You should then update the MPG file. It is confusing that a file dated 2008-2013? is not up-to-date in such an important topic and that it would be so easy to properly state on the document.

    Again thanks for your help

           Best regards

               Jose

 

From: Christian Schulte <mailto:cschulte at kth.se>  

Sent: Friday, 15 November, 2013 13:40

To: 'Jose A Maga?a' <mailto:jose_a_magana at hotmail.com>  ; users at gecode.org 

Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hi,

 

Gecode does not work with cygwin (this has been discussed several times alread on this mailing list). As explained in MPG you have to install Microsoft Visual Studio, try the current free version Visual Studio Express 2013 and then install Gecode with the matching msi. Luckily, the current Visual Studio version supports both x64 (64 bit) as well as x86 (32 bit), so you can actually choose which variant of Gecode you want to use with Visual Studio.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:30 PM
To: users at gecode.org
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hello all,

    I have just started to use Gecode as part of a university course on CSP.

   First, congrats for the tool and the amazing work you do in supporting it.

    

    I am trying to install the tool on a Windows 8 system and some doubts have arised during the process as well as some issues related to Cygwin. I have made some effort on reading the documentation (Chapter 2 mainly of MGP) and reviewed some previous questions on this list.

 

    Going to the point:

 

    1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

 

    2) On a Windows installation using cygwin, that I have also attempted. I have been able to make the install using CC=?gcc? CXX=?g++?.

         Everything gets installed, even to the /usr/local folders and the Test.exe shows everything is working.

        I need this to work since the teacher uses a Linux machine for the lab classes. In addition some scripts are distributed to compile some examples that I would need to modify during the class.

         I cab compile but I have not been able to link.

         Here is where I have my doubts. I have read in some old questions to the list, that you were considering not supporting cygwin with g++/gcc due to the problems with dynamic linking. The discussions date back to 2008 and 2010. 

         Is it a supported configuration? 

         Which additional settings should I add to my linking command?

 

   g++ -o basic -L/usr/local/lib basic.o -lgecodedriver -lgecodesearch -lgecodeminimodel -lgecodeint -lgecodekernel ?lgecodesupport      

 

         Thanks in advance for your support.

 

            Jose A. Maga?a

        

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/16db30cf/attachment-0001.html>

From jose_a_magana at hotmail.com  Fri Nov 15 15:07:24 2013
From: jose_a_magana at hotmail.com (=?utf-8?Q?Jose_A_Maga=C3=B1a?=)
Date: Fri, 15 Nov 2013 15:07:24 +0100
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin
In-Reply-To: <007b01cee202$56aca4d0$0405ee70$@se>
References: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>	<005901cee1ff$ee8ef760$cbace620$@se>
	<DUB123-DS14523A4B81BDCBD6B1A5F9B8FB0@phx.gbl>
	<007b01cee202$56aca4d0$0405ee70$@se>
Message-ID: <DUB123-DS29452FAE00DA4056169F1B8FB0@phx.gbl>

Thanks Christian.
Coming back to my first question. Could you confirm?
   1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?





Regards

Jose


From: Christian Schulte 
Sent: Friday, 15 November, 2013 13:58
To: 'Christian Schulte' ; 'Jose A Maga?a' ; users at gecode.org 
Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

Sorry that is incorrect. There is indeed some nonsense which I did not write ;-( It'll be removed in the next version of MPG.

 

C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: Christian Schulte [mailto:cschulte at kth.se] 
Sent: Friday, November 15, 2013 1:54 PM
To: 'Jose A Maga?a'; 'users at gecode.org'
Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Well the only difference is that it lists old version numbers. Otherwise the explanation is correct. C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:48 PM
To: users at gecode.org
Subject: Re: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Christian,

    thanks for your quick reply.

    You should then update the MPG file. It is confusing that a file dated 2008-2013? is not up-to-date in such an important topic and that it would be so easy to properly state on the document.

    Again thanks for your help

           Best regards

               Jose

 

From: Christian Schulte 

Sent: Friday, 15 November, 2013 13:40

To: 'Jose A Maga?a' ; users at gecode.org 

Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hi,

 

Gecode does not work with cygwin (this has been discussed several times alread on this mailing list). As explained in MPG you have to install Microsoft Visual Studio, try the current free version Visual Studio Express 2013 and then install Gecode with the matching msi. Luckily, the current Visual Studio version supports both x64 (64 bit) as well as x86 (32 bit), so you can actually choose which variant of Gecode you want to use with Visual Studio.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:30 PM
To: users at gecode.org
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hello all,

    I have just started to use Gecode as part of a university course on CSP.

   First, congrats for the tool and the amazing work you do in supporting it.

    

    I am trying to install the tool on a Windows 8 system and some doubts have arised during the process as well as some issues related to Cygwin. I have made some effort on reading the documentation (Chapter 2 mainly of MGP) and reviewed some previous questions on this list.

 

    Going to the point:

 

    1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

 

    2) On a Windows installation using cygwin, that I have also attempted. I have been able to make the install using CC=?gcc? CXX=?g++?.

         Everything gets installed, even to the /usr/local folders and the Test.exe shows everything is working.

        I need this to work since the teacher uses a Linux machine for the lab classes. In addition some scripts are distributed to compile some examples that I would need to modify during the class.

         I cab compile but I have not been able to link.

         Here is where I have my doubts. I have read in some old questions to the list, that you were considering not supporting cygwin with g++/gcc due to the problems with dynamic linking. The discussions date back to 2008 and 2010. 

         Is it a supported configuration? 

         Which additional settings should I add to my linking command?

 

   g++ -o basic -L/usr/local/lib basic.o -lgecodedriver -lgecodesearch -lgecodeminimodel -lgecodeint -lgecodekernel ?lgecodesupport      

 

         Thanks in advance for your support.

 

            Jose A. Maga?a

        

 

 

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/1a4bd418/attachment-0001.html>

From cschulte at kth.se  Fri Nov 15 15:48:20 2013
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 15 Nov 2013 15:48:20 +0100
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin
In-Reply-To: <DUB123-DS29452FAE00DA4056169F1B8FB0@phx.gbl>
References: <DUB123-DS144B95AFA395FE1B265581B8FB0@phx.gbl>	<005901cee1ff$ee8ef760$cbace620$@se>
	<DUB123-DS14523A4B81BDCBD6B1A5F9B8FB0@phx.gbl>
	<007b01cee202$56aca4d0$0405ee70$@se>
	<DUB123-DS29452FAE00DA4056169F1B8FB0@phx.gbl>
Message-ID: <00a001cee211$ba2c9b50$2e85d1f0$@se>

Just install Visual Studio and the msi files, as said. That's all you need. The other stuff is when you want to compile Gecode yourself as the section title gives away.

 

C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: Jose A Maga?a [mailto:jose_a_magana at hotmail.com] 
Sent: Friday, November 15, 2013 3:07 PM
To: 'Christian Schulte'; users at gecode.org
Subject: Re: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Thanks Christian.

Coming back to my first question. Could you confirm?

   1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

 

 

Regards

Jose

 

From: Christian Schulte <mailto:cschulte at kth.se>  

Sent: Friday, 15 November, 2013 13:58

To: 'Christian Schulte' <mailto:cschulte at kth.se>  ; 'Jose A Maga?a' <mailto:jose_a_magana at hotmail.com>  ; users at gecode.org 

Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Sorry that is incorrect. There is indeed some nonsense which I did not write ;-( It'll be removed in the next version of MPG.

 

C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: Christian Schulte [mailto:cschulte at kth.se] 
Sent: Friday, November 15, 2013 1:54 PM
To: 'Jose A Maga?a'; 'users at gecode.org'
Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Well the only difference is that it lists old version numbers. Otherwise the explanation is correct. C

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:48 PM
To: users at gecode.org
Subject: Re: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Christian,

    thanks for your quick reply.

    You should then update the MPG file. It is confusing that a file dated 2008-2013? is not up-to-date in such an important topic and that it would be so easy to properly state on the document.

    Again thanks for your help

           Best regards

               Jose

 

From: Christian Schulte <mailto:cschulte at kth.se>  

Sent: Friday, 15 November, 2013 13:40

To: 'Jose A Maga?a' <mailto:jose_a_magana at hotmail.com>  ; users at gecode.org 

Subject: RE: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hi,

 

Gecode does not work with cygwin (this has been discussed several times alread on this mailing list). As explained in MPG you have to install Microsoft Visual Studio, try the current free version Visual Studio Express 2013 and then install Gecode with the matching msi. Luckily, the current Visual Studio version supports both x64 (64 bit) as well as x86 (32 bit), so you can actually choose which variant of Gecode you want to use with Visual Studio.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Jose A Maga?a
Sent: Friday, November 15, 2013 1:30 PM
To: users at gecode.org
Subject: [gecode-users] Installation on Windows w/ or wo/ Cygwin

 

Hello all,

    I have just started to use Gecode as part of a university course on CSP.

   First, congrats for the tool and the amazing work you do in supporting it.

    

    I am trying to install the tool on a Windows 8 system and some doubts have arised during the process as well as some issues related to Cygwin. I have made some effort on reading the documentation (Chapter 2 mainly of MGP) and reviewed some previous questions on this list.

 

    Going to the point:

 

    1) On a Windows installation, using the .msi packages. Is it required to do something else? I understand not but want to be sure. I don?t want to start working and then finding that the installation was not properly completed. 

        I have missed a Test.exe that validates that the installation is OK as it exists for Linux although I also understand that if nothing needs to be done after msi install, then the test would be very simple (if any needed).

        Does this means that I can use Gecode on a 100% Windows environment (no cygwin at all)? Section 2.3.1 indicates in other direction and combines VSstudio with Cygwin. Is that required or just an option? I understand I have all the .h* and libs in the installation folder.

        The documentation(section 2.6.1) refers to pre-compiled binaries... are those the .msi or do you refer to the .tar.gz?

 

    2) On a Windows installation using cygwin, that I have also attempted. I have been able to make the install using CC=?gcc? CXX=?g++?.

         Everything gets installed, even to the /usr/local folders and the Test.exe shows everything is working.

        I need this to work since the teacher uses a Linux machine for the lab classes. In addition some scripts are distributed to compile some examples that I would need to modify during the class.

         I cab compile but I have not been able to link.

         Here is where I have my doubts. I have read in some old questions to the list, that you were considering not supporting cygwin with g++/gcc due to the problems with dynamic linking. The discussions date back to 2008 and 2010. 

         Is it a supported configuration? 

         Which additional settings should I add to my linking command?

 

   g++ -o basic -L/usr/local/lib basic.o -lgecodedriver -lgecodesearch -lgecodeminimodel -lgecodeint -lgecodekernel ?lgecodesupport      

 

         Thanks in advance for your support.

 

            Jose A. Maga?a

        

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/c1189ebe/attachment-0001.html>

From naguissa1989 at gmail.com  Fri Nov 15 22:49:36 2013
From: naguissa1989 at gmail.com (naguissa light)
Date: Fri, 15 Nov 2013 22:49:36 +0100
Subject: [gecode-users] use the print () method
Message-ID: <CA+wh-JugC2M4Mu14dLkPsB-guAZK1Paf9jh56NWcbycOQHFCxw@mail.gmail.com>

I had a problem with the print () method actually ENTERING AND
MaximizeSpace I want to maximize my profit in the hand when I wanted
affichier the result with the print method the compiler m 'displays the
following error:
insufficient arguments in the apple function
I based my decision on this model already developed by you SendMoreMoney
model

below is an excerpt of my model

class manel : public MaximizeSpace {
protected:
 IntVarArray l;
  IntVar gain;
  static const int n=3;//nbre des testeurs
  static const int m=3;//  nbre des noeuds
BoolVarArray a;
public:
manel(void): a(*this,m*n,0,1),gain(*this,0,100000) {
 Matrix <BoolVarArray> X (a,m,n);

 vector<int> R;
R.push_back(20);R.push_back(30);R.push_back(40);

    vector<int> C;
    C.push_back(50);C.push_back(60);C.push_back(70);
        vector<int> B;
    B.push_back(80);B.push_back(90);B.push_back(70);

vector<int> Dr;
    Dr.push_back(10);Dr.push_back(15);Dr.push_back(5);
vector<int> Dc;
    Dc.push_back(7);Dc.push_back(5);Dc.push_back(2);
vector<int> Db;
    Db.push_back(10);Db.push_back(7);Db.push_back(2);
vector<vector<int>> g;
for(unsigned int i(0); i < n; ++i)
      g.emplace_back(std::vector<int>(m));
for(int i=0; i<n; i++)
{
for (int j =0; j<m;j++)
g[i][j]==50;
}
//creation of constraints
// ... over rows
 for ( int j=0; j<n;j++)
{

linear(*this , X.row(j),IRT_EQ,1);
 }

//... over columns
         for (int i = 0; i < m; i++) {

 linear(*this, Dr,X.col(i),IRT_LQ,R[i]);
                                     }

        for (int i = 0; i < m; i++) {
           linear (*this, Dc, X.col(i), IRT_LQ,C[i]);

                                 }
         for (int i = 0; i <m; i++) {
         linear (*this, Db, X.col(i), IRT_LQ,B[i]);

                           }
 //objectiv function
 for (int i = 0; i < n; i++)
{
linear(*this, g[i],X.row(i), IRT_EQ, gain);

}


 branch(*this, a, INT_VAR_SIZE_MAX(), INT_VAL_MAX());

  }
  manel(bool share, manel& s)
    : MaximizeSpace(share, s) {
    a.update(*this, share, s.a);
    gain.update(*this, share, s.gain);
  }
  virtual Space* copy(bool share) {
    return new manel(share,*this);// erreur : object de type classe
abstrait non autoris?
  }
  void print(std::ostream& os) const {
    Matrix <BoolVarArray> X (a,m,n);
           for(int i = 0; i < n; i++) {
        for(int j = 0; j < m; j++)
         //  os << std::setw(4) << a[i * n + j];
 std::cout << a<< std::endl;
        os << std::endl;
   }
    os << std::endl;
  }
   // cost function
  virtual IntVar cost(void) const {
    return gain;
  }
};

int main(int argc, char* argv[]) {
  manel* m = new manel;
  BAB<manel> e(m);
  delete m;
   while (manel* s = e.next()) {
   (void) s->status();
    s->print(); delete s;// arguments insuffisants dans l'apple de la
fonction
  }
  system("pause");
  return 0;

i hope that you can help me with That

Naguissa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131115/1dad842e/attachment.html>

From cschulte at kth.se  Sun Nov 17 20:15:35 2013
From: cschulte at kth.se (Christian Schulte)
Date: Sun, 17 Nov 2013 20:15:35 +0100
Subject: [gecode-users] use the print () method
In-Reply-To: <CA+wh-JugC2M4Mu14dLkPsB-guAZK1Paf9jh56NWcbycOQHFCxw@mail.gmail.com>
References: <CA+wh-JugC2M4Mu14dLkPsB-guAZK1Paf9jh56NWcbycOQHFCxw@mail.gmail.com>
Message-ID: <003401cee3c9$6637aee0$32a70ca0$@kth.se>

This is basic C++ and not a Gecode question: you have to supply an object of
std::ostream (see the definition of the print function). Try std::cout to
print on the standard output.

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of naguissa light
Sent: Friday, November 15, 2013 10:50 PM
To: users at gecode.org
Subject: [gecode-users] use the print () method

 

I had a problem with the print () method actually ENTERING AND MaximizeSpace
I want to maximize my profit in the hand when I wanted affichier the result
with the print method the compiler m 'displays the following error:

insufficient arguments in the apple function

I based my decision on this model already developed by you SendMoreMoney
model

 

below is an excerpt of my model

 

class manel : public MaximizeSpace {

protected:

          IntVarArray l;

  IntVar gain;

  static const int n=3;//nbre des testeurs 

  static const int m=3;//  nbre des noeuds

                      BoolVarArray a;

public:

          manel(void): a(*this,m*n,0,1),gain(*this,0,100000) {

                      

          Matrix <BoolVarArray> X (a,m,n);

 

          

                      vector<int> R;

 
R.push_back(20);R.push_back(30);R.push_back(40);

 

             vector<int> C;

                         C.push_back(50);C.push_back(60);C.push_back(70);

        vector<int> B;

                         B.push_back(80);B.push_back(90);B.push_back(70);

 

                      vector<int> Dr;

                         Dr.push_back(10);Dr.push_back(15);Dr.push_back(5);

                      vector<int> Dc;

                         Dc.push_back(7);Dc.push_back(5);Dc.push_back(2);

                      vector<int> Db;

                         Db.push_back(10);Db.push_back(7);Db.push_back(2);

                      vector<vector<int>> g;

                                  for(unsigned int i(0); i < n; ++i)

      g.emplace_back(std::vector<int>(m));

                      for(int i=0; i<n; i++)

                      {

                                  for (int j =0; j<m;j++)

                                              g[i][j]==50;

                      }

                                  //creation of constraints 

                                  // ... over rows

                      

                      for ( int j=0; j<n;j++)

                      {

 

                                              linear(*this ,
X.row(j),IRT_EQ,1);

                                  

                      }

 

                      //... over columns

                                  

                              for (int i = 0; i < m; i++) {

 

                                                          linear(*this,
Dr,X.col(i),IRT_LQ,R[i]);

                                                          }

 

                             for (int i = 0; i < m; i++) {

                                  linear (*this, Dc, X.col(i), IRT_LQ,C[i]);

 

                                                      }

                      

                              for (int i = 0; i <m; i++) {

                                          linear (*this, Db, X.col(i),
IRT_LQ,B[i]);

 

                                  

                                                }

                      

                                              //objectiv function 

                                              for (int i = 0; i < n; i++)

                      {

                      linear(*this, g[i],X.row(i), IRT_EQ, gain);

 

                      }

 

 

                                              branch(*this, a,
INT_VAR_SIZE_MAX(), INT_VAL_MAX());

 

  }

           manel(bool share, manel& s)

    : MaximizeSpace(share, s) {

    a.update(*this, share, s.a);

    gain.update(*this, share, s.gain);

  }

           virtual Space* copy(bool share) {

    return new manel(share,*this);// erreur : object de type classe abstrait
non autoris? 

  }

  void print(std::ostream& os) const {

    Matrix <BoolVarArray> X (a,m,n);

           for(int i = 0; i < n; i++) {

        for(int j = 0; j < m; j++)

         //  os << std::setw(4) << a[i * n + j]; 

                      std::cout << a<< std::endl;

        os << std::endl;

                        }

                         os << std::endl;

  }

   // cost function

  virtual IntVar cost(void) const {

    return gain;

  }

};

 

int main(int argc, char* argv[]) {

  manel* m = new manel;

  BAB<manel> e(m);

  delete m;

   while (manel* s = e.next()) {

            (void) s->status();

    s->print(); delete s;// arguments insuffisants dans l'apple de la
fonction 

  }

  system("pause");

  return 0;

 

i hope that you can help me with That 

 

Naguissa 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131117/9fe89244/attachment.html>

From askri.manel1 at gmail.com  Mon Nov 18 22:26:24 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Mon, 18 Nov 2013 22:26:24 +0100
Subject: [gecode-users] how to constaint sum of sum with linear constraint
Message-ID: <CAKWqT4Ck5zcw-6wgBT3NwfYmXZHOgz2+8RKDMkeKJo9CmCRqjQ@mail.gmail.com>

hi everyone!

I want to post a constraint that is the sum of a sum like this
*sum(sum (res [ i ] * X.row (i)))=Z, **with 0 < i <n*

 but in the documentation MPG I just found the linear constraint that are
used to constraint the sum not the sum of sum  :

let me explain:

I have a matrix : vector < vector <int> > res , and a Boolean matrix X
defined as follows: Matrix <BoolVarArray> X (a, m, n);

in the following code I had to do this sum :

*sum (res [ i ] * X.row (i)) with 0 < i <n* / / here i can not pay this sum
for a table because the  2 matrix does not have the same type and i didnt
find any prototype of the linear constraint that can do this.

Then I had to make this sum :

*the sum of the previous sum= Z*

so I used this constraint but it appeared that it is false because it does
not give me the desired solution :
*linear ( * this , res [ i ] X.row ( i ) IRT_EQ , Z) ;*

I know that this constraint only to : *sum (res [ i ] * X.row (i)) = Z* ,
where 0 < i < n; an dits wrong.

you have an idea on correcting this error could you help me please

thank you very much for your help

Manel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131118/b2e03ef7/attachment.html>

From tack at gecode.org  Tue Nov 19 00:12:05 2013
From: tack at gecode.org (Guido Tack)
Date: Tue, 19 Nov 2013 10:12:05 +1100
Subject: [gecode-users] how to constaint sum of sum with linear
	constraint
In-Reply-To: <CAKWqT4Ck5zcw-6wgBT3NwfYmXZHOgz2+8RKDMkeKJo9CmCRqjQ@mail.gmail.com>
References: <CAKWqT4Ck5zcw-6wgBT3NwfYmXZHOgz2+8RKDMkeKJo9CmCRqjQ@mail.gmail.com>
Message-ID: <ED636E49-73D8-4907-B6F5-BAF2CB0FF525@gecode.org>

Simply create a new IntArgs and IntVarArgs with the right size and put all the coefficients and variables that you need to sum up into those arrays.  Then you only need to post one linear.

Cheers,
Guido

On 19 Nov 2013, at 8:26 am, manel askri <askri.manel1 at gmail.com> wrote:

> 
> hi everyone!
> 
> I want to post a constraint that is the sum of a sum like this 
> sum(sum (res [ i ] * X.row (i)))=Z, with 0 < i <n
> 
>  but in the documentation MPG I just found the linear constraint that are used to constraint the sum not the sum of sum  :
> 
> let me explain:
> 
> I have a matrix : vector < vector <int> > res , and a Boolean matrix X defined as follows: Matrix <BoolVarArray> X (a, m, n);
> 
> in the following code I had to do this sum :
> 
> sum (res [ i ] * X.row (i)) with 0 < i <n / / here i can not pay this sum for a table because the  2 matrix does not have the same type and i didnt find any prototype of the linear constraint that can do this.
> 
> Then I had to make this sum :
> 
> the sum of the previous sum= Z
> 
> so I used this constraint but it appeared that it is false because it does not give me the desired solution :
> linear ( * this , res [ i ] X.row ( i ) IRT_EQ , Z) ;
> 
> I know that this constraint only to : sum (res [ i ] * X.row (i)) = Z , where 0 < i < n; an dits wrong.
> 
> you have an idea on correcting this error could you help me please 
> 
> thank you very much for your help
> 
> Manel 
> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131119/2fc4462f/attachment.html>

From askri.manel1 at gmail.com  Tue Nov 19 01:55:30 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Tue, 19 Nov 2013 01:55:30 +0100
Subject: [gecode-users] how to constaint sum of sum with linear
	constraint
In-Reply-To: <ED636E49-73D8-4907-B6F5-BAF2CB0FF525@gecode.org>
References: <CAKWqT4Ck5zcw-6wgBT3NwfYmXZHOgz2+8RKDMkeKJo9CmCRqjQ@mail.gmail.com>
	<ED636E49-73D8-4907-B6F5-BAF2CB0FF525@gecode.org>
Message-ID: <CAKWqT4DUdfifGxP17iAUSpe0WVf1UPSSW3kpOKTOnvVc0+iXZA@mail.gmail.com>

hi
Thank You for your help but i really didn't get it well with the IntVarArgs
: this what i did :

                                 IntArgs res(n*m);
 IntVarArgs X1(n*m);
 for (int i=0; i<n; i++)
 {
  IntArgs res(g[i]);/// here i'm not sur if i will get the whole matrix g
in the IntArgs res??????
 }
 for (int i=0; i<n; i++)
 {
 IntVarArgs X1(X.row(i));//// but this is wrong how can i fix this ?? how
can i put the matrix X which has Boolean variables in the IntVarArgs
X1??????
 }


Could You please help me with that ????

Thank YOU very much

Manel


2013/11/19 Guido Tack <tack at gecode.org>

> Simply create a new IntArgs and IntVarArgs with the right size and put all
> the coefficients and variables that you need to sum up into those arrays.
>  Then you only need to post one linear.
>
> Cheers,
> Guido
>
> On 19 Nov 2013, at 8:26 am, manel askri <askri.manel1 at gmail.com> wrote:
>
>
> hi everyone!
>
> I want to post a constraint that is the sum of a sum like this
> *sum(sum (res [ i ] * X.row (i)))=Z, **with 0 < i <n*
>
>  but in the documentation MPG I just found the linear constraint that are
> used to constraint the sum not the sum of sum  :
>
> let me explain:
>
> I have a matrix : vector < vector <int> > res , and a Boolean matrix X
> defined as follows: Matrix <BoolVarArray> X (a, m, n);
>
> in the following code I had to do this sum :
>
> *sum (res [ i ] * X.row (i)) with 0 < i <n* / / here i can not pay this
> sum for a table because the  2 matrix does not have the same type and i
> didnt find any prototype of the linear constraint that can do this.
>
> Then I had to make this sum :
>
> *the sum of the previous sum= Z*
>
> so I used this constraint but it appeared that it is false because it does
> not give me the desired solution :
> *linear ( * this , res [ i ] X.row ( i ) IRT_EQ , Z) ;*
>
> I know that this constraint only to : *sum (res [ i ] * X.row (i)) = Z* ,
> where 0 < i < n; an dits wrong.
>
> you have an idea on correcting this error could you help me please
>
> thank you very much for your help
>
> Manel
>
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131119/e1ee0515/attachment.html>

From tack at gecode.org  Tue Nov 19 02:03:05 2013
From: tack at gecode.org (Guido Tack)
Date: Tue, 19 Nov 2013 12:03:05 +1100
Subject: [gecode-users] how to constaint sum of sum with
	linear	constraint
In-Reply-To: <CAKWqT4DUdfifGxP17iAUSpe0WVf1UPSSW3kpOKTOnvVc0+iXZA@mail.gmail.com>
References: <CAKWqT4Ck5zcw-6wgBT3NwfYmXZHOgz2+8RKDMkeKJo9CmCRqjQ@mail.gmail.com>
	<ED636E49-73D8-4907-B6F5-BAF2CB0FF525@gecode.org>
	<CAKWqT4DUdfifGxP17iAUSpe0WVf1UPSSW3kpOKTOnvVc0+iXZA@mail.gmail.com>
Message-ID: <12E505B1-9CDC-4358-B4FA-370E26D3FFCB@gecode.org>

Please have a look at the documentation how to use IntArgs and IntVarArgs.  What you want to do is copy the coefficients and variables from your matrix into the Args, something like

int count=0;
for (int i=0; i<n; i++)
  for (int j=0; j<m; j++) res[count++] = g[i][j];

Cheers,
Guido


On 19 Nov 2013, at 11:55 am, manel askri <askri.manel1 at gmail.com> wrote:

> hi 
> Thank You for your help but i really didn't get it well with the IntVarArgs : this what i did :
> 
>                                  IntArgs res(n*m);
> 				 IntVarArgs X1(n*m);
> 				
> 				 for (int i=0; i<n; i++)
> 				 {
> 					  IntArgs res(g[i]);/// here i'm not sur if i will get the whole matrix g in the IntArgs res??????
> 				 }
> 				 for (int i=0; i<n; i++)
> 				 {
> 					 IntVarArgs X1(X.row(i));//// but this is wrong how can i fix this ?? how can i put the matrix X which has Boolean variables in the IntVarArgs X1??????
> 				 }
> 
> 
> Could You please help me with that ????
> 
> Thank YOU very much 
> 
> Manel 
> 
> 
> 2013/11/19 Guido Tack <tack at gecode.org>
> Simply create a new IntArgs and IntVarArgs with the right size and put all the coefficients and variables that you need to sum up into those arrays.  Then you only need to post one linear.
> 
> Cheers,
> Guido
> 
> On 19 Nov 2013, at 8:26 am, manel askri <askri.manel1 at gmail.com> wrote:
> 
>> 
>> hi everyone!
>> 
>> I want to post a constraint that is the sum of a sum like this 
>> sum(sum (res [ i ] * X.row (i)))=Z, with 0 < i <n
>> 
>>  but in the documentation MPG I just found the linear constraint that are used to constraint the sum not the sum of sum  :
>> 
>> let me explain:
>> 
>> I have a matrix : vector < vector <int> > res , and a Boolean matrix X defined as follows: Matrix <BoolVarArray> X (a, m, n);
>> 
>> in the following code I had to do this sum :
>> 
>> sum (res [ i ] * X.row (i)) with 0 < i <n / / here i can not pay this sum for a table because the  2 matrix does not have the same type and i didnt find any prototype of the linear constraint that can do this.
>> 
>> Then I had to make this sum :
>> 
>> the sum of the previous sum= Z
>> 
>> so I used this constraint but it appeared that it is false because it does not give me the desired solution :
>> linear ( * this , res [ i ] X.row ( i ) IRT_EQ , Z) ;
>> 
>> I know that this constraint only to : sum (res [ i ] * X.row (i)) = Z , where 0 < i < n; an dits wrong.
>> 
>> you have an idea on correcting this error could you help me please 
>> 
>> thank you very much for your help
>> 
>> Manel 
>> 
>> 
>> 
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131119/3d83dee5/attachment-0001.html>

From askri.manel1 at gmail.com  Tue Nov 19 16:08:17 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Tue, 19 Nov 2013 16:08:17 +0100
Subject: [gecode-users] how to constaint sum of sum with linear
	constraint
In-Reply-To: <12E505B1-9CDC-4358-B4FA-370E26D3FFCB@gecode.org>
References: <CAKWqT4Ck5zcw-6wgBT3NwfYmXZHOgz2+8RKDMkeKJo9CmCRqjQ@mail.gmail.com>
	<ED636E49-73D8-4907-B6F5-BAF2CB0FF525@gecode.org>
	<CAKWqT4DUdfifGxP17iAUSpe0WVf1UPSSW3kpOKTOnvVc0+iXZA@mail.gmail.com>
	<12E505B1-9CDC-4358-B4FA-370E26D3FFCB@gecode.org>
Message-ID: <CAKWqT4CKDthZHA_7-_zZDPV-F8-oaT1Co=GNYOd+Wr5md0wYiQ@mail.gmail.com>

hi everyone!

Thank YOU very much for the help !
 i did ue that and it works, so just to be sur , i attached the constraint
and here what i did to resolve it :

IntArgs res(n*m);
 BoolVarArgs X1(n*m);
 int count=0;
          for (int i=0; i<n; i++)
  {
              for (int j=0; j<m; j++)
             res[count++] = g[i][j];
  }

  int count1=0;
  for (int i=0; i<n; i++)
  {
              for (int j=0; j<m; j++)
             X1[count1++] = X(i,j);
  }
  linear(*this, res,X1, IRT_EQ, gain);//// is this just fine satisfair the
constraint presented in sumof the sum.png


Thank you very much for your help

Manel




2013/11/19 Guido Tack <tack at gecode.org>

> Please have a look at the documentation how to use IntArgs and IntVarArgs.
>  What you want to do is copy the coefficients and variables from your
> matrix into the Args, something like
>
> int count=0;
> for (int i=0; i<n; i++)
>   for (int j=0; j<m; j++) res[count++] = g[i][j];
>
> Cheers,
> Guido
>
>
> On 19 Nov 2013, at 11:55 am, manel askri <askri.manel1 at gmail.com> wrote:
>
> hi
> Thank You for your help but i really didn't get it well with the
> IntVarArgs : this what i did :
>
>                                  IntArgs res(n*m);
>  IntVarArgs X1(n*m);
>  for (int i=0; i<n; i++)
>  {
>   IntArgs res(g[i]);/// here i'm not sur if i will get the whole matrix g
> in the IntArgs res??????
>  }
>  for (int i=0; i<n; i++)
>  {
>  IntVarArgs X1(X.row(i));//// but this is wrong how can i fix this ?? how
> can i put the matrix X which has Boolean variables in the IntVarArgs
> X1??????
>  }
>
>
> Could You please help me with that ????
>
> Thank YOU very much
>
> Manel
>
>
> 2013/11/19 Guido Tack <tack at gecode.org>
>
>> Simply create a new IntArgs and IntVarArgs with the right size and put
>> all the coefficients and variables that you need to sum up into those
>> arrays.  Then you only need to post one linear.
>>
>> Cheers,
>> Guido
>>
>> On 19 Nov 2013, at 8:26 am, manel askri <askri.manel1 at gmail.com> wrote:
>>
>>
>> hi everyone!
>>
>> I want to post a constraint that is the sum of a sum like this
>> *sum(sum (res [ i ] * X.row (i)))=Z, **with 0 < i <n*
>>
>>  but in the documentation MPG I just found the linear constraint that are
>> used to constraint the sum not the sum of sum  :
>>
>> let me explain:
>>
>> I have a matrix : vector < vector <int> > res , and a Boolean matrix X
>> defined as follows: Matrix <BoolVarArray> X (a, m, n);
>>
>> in the following code I had to do this sum :
>>
>> *sum (res [ i ] * X.row (i)) with 0 < i <n* / / here i can not pay this
>> sum for a table because the  2 matrix does not have the same type and i
>> didnt find any prototype of the linear constraint that can do this.
>>
>> Then I had to make this sum :
>>
>> *the sum of the previous sum= Z*
>>
>> so I used this constraint but it appeared that it is false because it
>> does not give me the desired solution :
>> *linear ( * this , res [ i ] X.row ( i ) IRT_EQ , Z) ;*
>>
>> I know that this constraint only to : *sum (res [ i ] * X.row (i)) = Z* ,
>> where 0 < i < n; an dits wrong.
>>
>> you have an idea on correcting this error could you help me please
>>
>> thank you very much for your help
>>
>> Manel
>>
>>
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>>
>>
>>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131119/95b68a59/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sumof the sum.png
Type: image/png
Size: 6169 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20131119/95b68a59/attachment.png>

From andrea.peano at unife.it  Wed Nov 20 19:51:46 2013
From: andrea.peano at unife.it (Andrea Peano)
Date: Wed, 20 Nov 2013 19:51:46 +0100
Subject: [gecode-users] Unary: Allow for negative durations when task is
 not mandatory
In-Reply-To: <CAGTgUnPat5NOwzxDMK3viv0bPzh+_2X3JW4PJYA8PqiNeu3kLA@mail.gmail.com>
References: <CAGTgUnPpGYgy4S6=P4a60kZE_vDWZ_DVS_c_hAcyUpTkGCysCA@mail.gmail.com>
	<007d01ced568$467a2c50$d36e84f0$@se>
	<CAGTgUnPbObObEKk3mr2aUn7Q3EKx9h8r+pqAGz8UyRUobYed9g@mail.gmail.com>
	<A249023ECA4AD740919D9F3CED8EFC8D28F9270C@EXDB4.ug.kth.se>
	<CAGTgUnPat5NOwzxDMK3viv0bPzh+_2X3JW4PJYA8PqiNeu3kLA@mail.gmail.com>
Message-ID: <CAGTgUnM01wH+yLu_e4uuWFKLfqVjo47c3mu25ZS5pn=bvGu5iQ@mail.gmail.com>

Hello,
your code was very useful.

I've just seen that new implementations of standard nooverlap don't check
anymore for multiple occurrences of the same variable within the same array
(e.g., x0.same(home)). Am I right? Instead, your propagator still checks it.
I think this limitation might be too restrictive... But I cannot say
whether it is actually required or not.
What do you think about that?

Thank you,
Andrea





On Fri, Nov 1, 2013 at 3:14 PM, Andrea Peano <andrea.peano at unife.it> wrote:

> Hi Roberto,
> thank you very much. I'm pretty sure that it's close enough to my needs!
>
> I'll try it asap :)
>
> Thanks,
> Andrea
>
>
> On Fri, Nov 1, 2013 at 9:45 AM, Roberto Castaneda Lozano <rcas at kth.se>wrote:
>
>> Hi Andrea,
>>
>> Interestingly enough I implemented for my own purposes a similar
>> generalization to nooverlap a year ago, see the attachment.
>>
>> Best regards,
>>
>> Roberto
>>
>> From: users-bounces at gecode.org [users-bounces at gecode.org] on behalf of
>> Andrea Peano [andrea.peano at unife.it]
>> Sent: Thursday, October 31, 2013 12:50
>> To: Christian Schulte
>> Cc: users at gecode.org
>> Subject: Re: [gecode-users] Unary: Allow for negative durations when task
>> is not mandatory
>>
>> Yes, sure it's useful, thank you.
>> I'm just wondering whether a modification of the unary might be more
>> efficient or not.
>> In such a case, I could modify the source files of Gecode, by adding
>> another (modified) unary constraint, otherwise... should I write an
>> user-defined propagator?
>>
>> I've the same doubt regarding the nooverlap, I'd like to achieve a
>> generalization of it.
>> In this generalization rectangles of the same "group" can overlap
>> eachother, but they cannot overlap other rectangles of other groups.
>> So the new nooverlap will take in input an IntArgs array which contains
>> the group IDs.
>>
>> In your guide I read:
>> "The constraints [nooverlap] are implemented by a naive propagator
>> (considering pairwise no-
>> overlap between rectangles including constructive disjunction, see also
>> GCCAT: diffn),
>> this will change in the future. "
>>
>> I could add a condition within the implementation of the nooverlap, that
>> checks if the two rectangles belong to two different groups. Is it right?
>>
>> Do you have any suggestion?
>>
>> Thank you,
>> Andrea
>>
>> On Wed, Oct 30, 2013 at 1:05 PM, Christian Schulte
>> <cschulte at kth.se> wrote:
>>
>> Hi,
>>
>> There is a generic trick for situations like this: you introduce new
>> variables tend', tstart' and tdur' and only enforce that they are equal to
>> tend, tstart,
>>  tdur respectively when the Boolean variable is 1. That means if the
>> Boolean variable is 0, the new variables can have whatever value.
>>
>> Hope that helps
>> Christian
>>
>> --
>> Christian Schulte, Professor of Computer Science, KTH,
>>
>> www.ict.kth.se/~cschulte/
>>
>>
>> From:
>>
>> users-bounces at gecode.org [mailto:users-bounces at gecode.org]
>> On Behalf Of Andrea Peano
>>
>> Sent: Tuesday, October 29, 2013 10:21 AM
>>
>> To:
>> users at gecode.org
>>
>> Subject: [gecode-users] Unary: Allow for negative durations when task is
>> not mandatory
>>
>>
>> Hello all,
>>
>> I would modify the unary constraint in order to allow negative durations
>> (tend<tstart) when the boolvar m (mandatory) is 0.
>>
>> Is there an easy way to do this?
>>
>> Thank you,
>>
>> Andrea
>>
>> --
>>
>>
>>
>>
>> Andrea Peano - PhD student
>>
>>
>> Department of Engineering - University of Ferrara
>> Tel: +39 0532 97 4827
>>
>>
>>
>>
>>
>
>
> --
>
> Andrea Peano - PhD student
> Department of Engineering - University of Ferrara
> Tel: +39 0532 97 4827
>



-- 

Andrea Peano - PhD student
Department of Engineering - University of Ferrara
Tel: +39 0532 97 4827
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131120/4c70546f/attachment.html>

From andrea.peano at unife.it  Wed Nov 20 20:07:50 2013
From: andrea.peano at unife.it (Andrea Peano)
Date: Wed, 20 Nov 2013 20:07:50 +0100
Subject: [gecode-users] Limiting the number of solutions of a search's
	subtree
Message-ID: <CAGTgUnPuvBmMaFqS42f4DEA0TwbrCbkH9g-cR_7y6EL4L_YWjg@mail.gmail.com>

Hello all,
I've installed 4 branchers in order to solve my model.
Although I need to compute the entire search tree of the first three
branchers, It would be very effective to limit the number of solutions of
the remaining subtrees.

In other words, given a leaf of the search three produced by the first
three branchers, I would compute only the first solution of the last one.

I read section 8.1 of the guide, named "Executing code between branchers",
and this behaviour seems to be achievable by posting some contraints,
somehow...
Is it the right way?

Do you have any suggestion?

Thank you,
Andrea
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131120/dc7ed86d/attachment.html>

From cschulte at kth.se  Wed Nov 20 20:22:51 2013
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 20 Nov 2013 20:22:51 +0100
Subject: [gecode-users] Limiting the number of solutions of a
	search's	subtree
In-Reply-To: <CAGTgUnPuvBmMaFqS42f4DEA0TwbrCbkH9g-cR_7y6EL4L_YWjg@mail.gmail.com>
References: <CAGTgUnPuvBmMaFqS42f4DEA0TwbrCbkH9g-cR_7y6EL4L_YWjg@mail.gmail.com>
Message-ID: <003401cee625$e88853f0$b998fbd0$@kth.se>

There has been a similar discussion along these lines (for only two
branchers) on this mailing list (using more than one search engine to get
the desired behavior). Please try to find it in the mailing list archives.

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Andrea Peano
Sent: Wednesday, November 20, 2013 8:08 PM
To: users at gecode.org
Subject: [gecode-users] Limiting the number of solutions of a search's
subtree

 

Hello all,

I've installed 4 branchers in order to solve my model.

Although I need to compute the entire search tree of the first three
branchers, It would be very effective to limit the number of solutions of
the remaining subtrees.

 

In other words, given a leaf of the search three produced by the first three
branchers, I would compute only the first solution of the last one.

 

I read section 8.1 of the guide, named "Executing code between branchers",
and this behaviour seems to be achievable by posting some contraints,
somehow...

Is it the right way?

 

Do you have any suggestion?

 

Thank you,

Andrea

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131120/3126c1d4/attachment.html>

From rcas at kth.se  Thu Nov 21 09:50:02 2013
From: rcas at kth.se (=?ISO-8859-1?Q?Roberto_Casta=F1eda_Lozano?=)
Date: Thu, 21 Nov 2013 09:50:02 +0100
Subject: [gecode-users] Unary: Allow for negative durations when task is
 not mandatory
In-Reply-To: <CAGTgUnM01wH+yLu_e4uuWFKLfqVjo47c3mu25ZS5pn=bvGu5iQ@mail.gmail.com>
References: <CAGTgUnPpGYgy4S6=P4a60kZE_vDWZ_DVS_c_hAcyUpTkGCysCA@mail.gmail.com>	<007d01ced568$467a2c50$d36e84f0$@se>	<CAGTgUnPbObObEKk3mr2aUn7Q3EKx9h8r+pqAGz8UyRUobYed9g@mail.gmail.com>	<A249023ECA4AD740919D9F3CED8EFC8D28F9270C@EXDB4.ug.kth.se>	<CAGTgUnPat5NOwzxDMK3viv0bPzh+_2X3JW4PJYA8PqiNeu3kLA@mail.gmail.com>
	<CAGTgUnM01wH+yLu_e4uuWFKLfqVjo47c3mu25ZS5pn=bvGu5iQ@mail.gmail.com>
Message-ID: <528DC93A.30304@kth.se>

Hi Andrea, you are right, the check is there because I wrote the code 
some time ago and it was required then. You can remove it and everything 
should work just fine.

Best regards,

Roberto

On 11/20/2013 07:51 PM, Andrea Peano wrote:
> Hello,
> your code was very useful.
>
> I've just seen that new implementations of standard nooverlap don't 
> check anymore for multiple occurrences of the same variable within the 
> same array (e.g., x0.same(home)). Am I right? Instead, your propagator 
> still checks it.
> I think this limitation might be too restrictive... But I cannot say 
> whether it is actually required or not.
> What do you think about that?
>
> Thank you,
> Andrea
>
>
>
>
>
> On Fri, Nov 1, 2013 at 3:14 PM, Andrea Peano <andrea.peano at unife.it 
> <mailto:andrea.peano at unife.it>> wrote:
>
>     Hi Roberto,
>     thank you very much. I'm pretty sure that it's close enough to my
>     needs!
>
>     I'll try it asap :)
>
>     Thanks,
>     Andrea
>
>
>     On Fri, Nov 1, 2013 at 9:45 AM, Roberto Castaneda Lozano
>     <rcas at kth.se <mailto:rcas at kth.se>> wrote:
>
>         Hi Andrea,
>
>         Interestingly enough I implemented for my own purposes a
>         similar generalization to nooverlap a year ago, see the
>         attachment.
>
>         Best regards,
>
>         Roberto
>
>         From: users-bounces at gecode.org
>         <mailto:users-bounces at gecode.org> [users-bounces at gecode.org
>         <mailto:users-bounces at gecode.org>] on behalf of Andrea Peano
>         [andrea.peano at unife.it <mailto:andrea.peano at unife.it>]
>         Sent: Thursday, October 31, 2013 12:50
>         To: Christian Schulte
>         Cc: users at gecode.org <mailto:users at gecode.org>
>         Subject: Re: [gecode-users] Unary: Allow for negative
>         durations when task is not mandatory
>
>         Yes, sure it's useful, thank you.
>         I'm just wondering whether a modification of the unary might
>         be more efficient or not.
>         In such a case, I could modify the source files of Gecode, by
>         adding another (modified) unary constraint, otherwise...
>         should I write an user-defined propagator?
>
>         I've the same doubt regarding the nooverlap, I'd like to
>         achieve a generalization of it.
>         In this generalization rectangles of the same "group" can
>         overlap eachother, but they cannot overlap other rectangles of
>         other groups.
>         So the new nooverlap will take in input an IntArgs array which
>         contains the group IDs.
>
>         In your guide I read:
>         "The constraints [nooverlap] are implemented by a naive
>         propagator (considering pairwise no-
>         overlap between rectangles including constructive disjunction,
>         see also GCCAT: diffn),
>         this will change in the future. "
>
>         I could add a condition within the implementation of the
>         nooverlap, that checks if the two rectangles belong to two
>         different groups. Is it right?
>
>         Do you have any suggestion?
>
>         Thank you,
>         Andrea
>
>         On Wed, Oct 30, 2013 at 1:05 PM, Christian Schulte
>         <cschulte at kth.se <mailto:cschulte at kth.se>> wrote:
>
>         Hi,
>
>         There is a generic trick for situations like this: you
>         introduce new variables tend', tstart' and tdur' and only
>         enforce that they are equal to tend, tstart,
>          tdur respectively when the Boolean variable is 1. That means
>         if the Boolean variable is 0, the new variables can have
>         whatever value.
>
>         Hope that helps
>         Christian
>
>         --
>         Christian Schulte, Professor of Computer Science, KTH,
>
>         www.ict.kth.se/~cschulte/ <http://www.ict.kth.se/%7Ecschulte/>
>
>
>         From:
>
>         users-bounces at gecode.org <mailto:users-bounces at gecode.org>
>         [mailto:users-bounces at gecode.org
>         <mailto:users-bounces at gecode.org>]
>         On Behalf Of Andrea Peano
>
>         Sent: Tuesday, October 29, 2013 10:21 AM
>
>         To:
>         users at gecode.org <mailto:users at gecode.org>
>
>         Subject: [gecode-users] Unary: Allow for negative durations
>         when task is not mandatory
>
>
>         Hello all,
>
>         I would modify the unary constraint in order to allow negative
>         durations (tend<tstart) when the boolvar m (mandatory) is 0.
>
>         Is there an easy way to do this?
>
>         Thank you,
>
>         Andrea
>
>         --
>
>
>
>
>         Andrea Peano - PhD student
>
>
>         Department of Engineering - University of Ferrara
>         Tel: +39 0532 97 4827 <tel:%2B39%200532%2097%204827>
>
>
>
>
>
>
>
>     -- 
>
>     Andrea Peano - PhD student
>     Department of Engineering - University of Ferrara
>     Tel: +39 0532 97 4827
>
>
>
>
> -- 
>
> Andrea Peano - PhD student
> Department of Engineering - University of Ferrara
> Tel: +39 0532 97 4827

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131121/f5b37c38/attachment-0001.html>

From kisshen at cisco.com  Fri Nov 22 06:24:55 2013
From: kisshen at cisco.com (Kish Shen)
Date: Fri, 22 Nov 2013 05:24:55 +0000
Subject: [gecode-users] Nogoods limit
Message-ID: <528EEAA7.6080708@cisco.com>

Hi,

I have now got restart search implemented, thanks to help from 
Christian. I finally decided to implement restart DFS as a separate 
search method in my interface, and only allow one solution in this case, 
because getting the previous solution posted as a no-goods looked quite 
difficult, and probably not a good idea for most search anyway.

I ran some tests, and it seems that the restart with cutoff is working, 
but the no-goods limit is not:

I tested the search with an N-Queens problem, using INT_VAR_NONE and 
INT_VAL_MIN for variable and value selection, and a constant cutoff.
The idea here is that every single restart (without no-goods) should 
perform exactly the same search, so if the cutoff is set below the 
number of failures before the solution is found, then the search will 
not terminate. This is indeed the case, e.g. for N=8, with the cutoff 
set at 23, then the search does not terminate, but with cutoff=24, a 
solution is returned. Also, using a geometric cutoff, a solution is also 
found, even with a low initial cutoff. So this seems to show that the 
restart with cutoff is working as expected.

However, it seems that I can't get the nogoods_limit to work -- using 
the same 8-Queens example, with a constant cutoff of 23, I expect that 
restarts with no-goods should be able to find the solution. However, 
even when I set the nogoods_limit very high (1000), the search does not 
terminate. So I assume this means my code for nogoods_limit is not 
working...

I setup the restart DFS search engine as follows:

sengine = new GecodeRBS<DFS>(solver, o);

where o is a Search::Options, and has o.nogoods_limit set (I verified 
this by printing o.nogoods_limit just before calling the above).

GecodeRBS is based on the code Chrisitan sent me:

template<template<class> class E>
class GecodeRBS : public GecodeEngineBase {
protected:
    RBS<E,GecodeSpace> e;

public:
    GecodeRBS(GecodeSpace* solver, const Search::Options& o) : 
e(solver,o) {}
.....
}

(there might be typos: I typed the above in by hand, as cutting and 
pasting the actual code (in an VNC window) and my mailer running under 
Windows is a pain)

I have not defined master() in GecodeSpace, as I think the default does 
what I need -- nogoods will be posted, so if nogood_limits is set,  then 
nogoods should be collected and posted in the default master().

So I expected that if o.nogoods_limit is set in my sengine setup code, 
then nogoods will be posted by master, and with the limit set to 1000, 
all nogoods in my 8-Queens examples should be collected and posted, so 
the search should terminate. So I don't know why the search is not 
terminating. Am I doing something wrong in my code, or is my 
understanding of the expected behaviour incorrect?

I am using Gecode 4.2.0.

Cheers,

Kish


From naguissa1989 at gmail.com  Fri Nov 22 13:57:14 2013
From: naguissa1989 at gmail.com (naguissa light)
Date: Fri, 22 Nov 2013 13:57:14 +0100
Subject: [gecode-users] (no subject)
Message-ID: <CA+wh-JtQCjoP5aizu5y0ji_p1QVnVHX9SXKjh0yQtt5J6JbS=Q@mail.gmail.com>

hi everyone!

i have a simple question : how can i put an IntVarArgs into a vector ( or
is it even possible to do that ) , because i need to do some sum like this:

vector<int> *gain*;
IntVarArgs *gain1 *(m);
 i have to do sum betwin those to and because i can't use* linear or rel
constraints* i just thought about geting gain1 into a vector.

i thought like this because in linear constraint i need to do som thing
like this :
linear (*this , gain, gain1, IRT_EQ, y); (here i dont have any thing as y
that's whay i cant use linear constaints) same thing for rel but what i
want is this

geting for every iterative (gain[i]*gain1[i]) and put the result into
an *IntArgs
gain2* , after that i want to do this :

*linear (*this , gain2, IRT_EQ, y);* when y is an IntVar

so intArgs gain2 is the sum of the sum of (gain[i]*gain1[i])

can YOU help me with this

Thank YOU very much for any idea

Naguissa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131122/8907dbb2/attachment.html>

From cschulte at kth.se  Fri Nov 22 14:02:22 2013
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 22 Nov 2013 14:02:22 +0100
Subject: [gecode-users] (no subject)
In-Reply-To: <CA+wh-JtQCjoP5aizu5y0ji_p1QVnVHX9SXKjh0yQtt5J6JbS=Q@mail.gmail.com>
References: <CA+wh-JtQCjoP5aizu5y0ji_p1QVnVHX9SXKjh0yQtt5J6JbS=Q@mail.gmail.com>
Message-ID: <008201cee783$1531f290$3f95d7b0$@se>

Please read MPG again. Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of naguissa light
Sent: Friday, November 22, 2013 1:57 PM
To: users at gecode.org
Subject: [gecode-users] (no subject)

 

hi everyone!

i have a simple question : how can i put an IntVarArgs into a vector ( or is
it even possible to do that ) , because i need to do some sum like this:

vector<int> gain;

IntVarArgs gain1 (m);

 i have to do sum betwin those to and because i can't use linear or rel
constraints i just thought about geting gain1 into a vector. 

i thought like this because in linear constraint i need to do som thing like
this : 

linear (*this , gain, gain1, IRT_EQ, y); (here i dont have any thing as y
that's whay i cant use linear constaints) same thing for rel but what i want
is this 

geting for every iterative (gain[i]*gain1[i]) and put the result into an
IntArgs gain2 , after that i want to do this :

linear (*this , gain2, IRT_EQ, y); when y is an IntVar 

so intArgs gain2 is the sum of the sum of (gain[i]*gain1[i])

can YOU help me with this 

Thank YOU very much for any idea

Naguissa

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131122/7cfe133d/attachment.html>

From askri.manel1 at gmail.com  Fri Nov 22 14:05:38 2013
From: askri.manel1 at gmail.com (manel askri)
Date: Fri, 22 Nov 2013 14:05:38 +0100
Subject: [gecode-users] (no subject)
In-Reply-To: <008201cee783$1531f290$3f95d7b0$@se>
References: <CA+wh-JtQCjoP5aizu5y0ji_p1QVnVHX9SXKjh0yQtt5J6JbS=Q@mail.gmail.com>
	<008201cee783$1531f290$3f95d7b0$@se>
Message-ID: <CAKWqT4DcJwVJ+V-nSifEdFSG-dM-KvTD4b4kmEEjOpq8Sm5dOQ@mail.gmail.com>

Thank You but i really did and i did stuck over there ???

So can you help me


2013/11/22 Christian Schulte <cschulte at kth.se>

> Please read MPG again. Christian
>
>
>
> --
>
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/
>
>
>
> *From:* users-bounces at gecode.org [mailto:users-bounces at gecode.org] *On
> Behalf Of *naguissa light
> *Sent:* Friday, November 22, 2013 1:57 PM
> *To:* users at gecode.org
> *Subject:* [gecode-users] (no subject)
>
>
>
> hi everyone!
>
> i have a simple question : how can i put an IntVarArgs into a vector ( or
> is it even possible to do that ) , because i need to do some sum like this:
>
> vector<int> *gain*;
>
> IntVarArgs *gain1 *(m);
>
>  i have to do sum betwin those to and because i can't use* linear or rel
> constraints* i just thought about geting gain1 into a vector.
>
> i thought like this because in linear constraint i need to do som thing
> like this :
>
> linear (*this , gain, gain1, IRT_EQ, y); (here i dont have any thing as y
> that's whay i cant use linear constaints) same thing for rel but what i
> want is this
>
> geting for every iterative (gain[i]*gain1[i]) and put the result into an *IntArgs
> gain2* , after that i want to do this :
>
> *linear (*this , gain2, IRT_EQ, y);* when y is an IntVar
>
> so intArgs gain2 is the sum of the sum of (gain[i]*gain1[i])
>
> can YOU help me with this
>
> Thank YOU very much for any idea
>
> Naguissa
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131122/a517361c/attachment.html>

From cschulte at kth.se  Fri Nov 22 15:04:54 2013
From: cschulte at kth.se (Christian Schulte)
Date: Fri, 22 Nov 2013 15:04:54 +0100
Subject: [gecode-users] Nogoods limit
In-Reply-To: <528EEAA7.6080708@cisco.com>
References: <528EEAA7.6080708@cisco.com>
Message-ID: <00a201cee78b$d2c0e390$7842aab0$@se>

Hi Kish,

Let me guess: you are not using the pre-defined branchers from Gecode or do
you? If you use your own branchers you have to add support that actually
generates the no-goods.

Cheers
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Kish Shen
Sent: Friday, November 22, 2013 6:25 AM
To: users at gecode.org
Subject: [gecode-users] Nogoods limit

Hi,

I have now got restart search implemented, thanks to help from Christian. I
finally decided to implement restart DFS as a separate search method in my
interface, and only allow one solution in this case, because getting the
previous solution posted as a no-goods looked quite difficult, and probably
not a good idea for most search anyway.

I ran some tests, and it seems that the restart with cutoff is working, but
the no-goods limit is not:

I tested the search with an N-Queens problem, using INT_VAR_NONE and
INT_VAL_MIN for variable and value selection, and a constant cutoff.
The idea here is that every single restart (without no-goods) should perform
exactly the same search, so if the cutoff is set below the number of
failures before the solution is found, then the search will not terminate.
This is indeed the case, e.g. for N=8, with the cutoff set at 23, then the
search does not terminate, but with cutoff=24, a solution is returned. Also,
using a geometric cutoff, a solution is also found, even with a low initial
cutoff. So this seems to show that the restart with cutoff is working as
expected.

However, it seems that I can't get the nogoods_limit to work -- using the
same 8-Queens example, with a constant cutoff of 23, I expect that restarts
with no-goods should be able to find the solution. However, even when I set
the nogoods_limit very high (1000), the search does not terminate. So I
assume this means my code for nogoods_limit is not working...

I setup the restart DFS search engine as follows:

sengine = new GecodeRBS<DFS>(solver, o);

where o is a Search::Options, and has o.nogoods_limit set (I verified this
by printing o.nogoods_limit just before calling the above).

GecodeRBS is based on the code Chrisitan sent me:

template<template<class> class E>
class GecodeRBS : public GecodeEngineBase {
protected:
    RBS<E,GecodeSpace> e;

public:
    GecodeRBS(GecodeSpace* solver, const Search::Options& o) : 
e(solver,o) {}
.....
}

(there might be typos: I typed the above in by hand, as cutting and pasting
the actual code (in an VNC window) and my mailer running under Windows is a
pain)

I have not defined master() in GecodeSpace, as I think the default does what
I need -- nogoods will be posted, so if nogood_limits is set,  then nogoods
should be collected and posted in the default master().

So I expected that if o.nogoods_limit is set in my sengine setup code, then
nogoods will be posted by master, and with the limit set to 1000, all
nogoods in my 8-Queens examples should be collected and posted, so the
search should terminate. So I don't know why the search is not terminating.
Am I doing something wrong in my code, or is my understanding of the
expected behaviour incorrect?

I am using Gecode 4.2.0.

Cheers,

Kish

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



From kisshen at cisco.com  Fri Nov 22 19:28:07 2013
From: kisshen at cisco.com (Kish Shen)
Date: Fri, 22 Nov 2013 18:28:07 +0000
Subject: [gecode-users] Nogoods limit
In-Reply-To: <00a201cee78b$d2c0e390$7842aab0$@se>
References: <528EEAA7.6080708@cisco.com> <00a201cee78b$d2c0e390$7842aab0$@se>
Message-ID: <528FA237.70101@cisco.com>

Hi Christian,

I think I am using the predefined branchers, i.e. I just do:

branch(*solver, vars, varselect, valchoice);

I think this is using the pre-defined branchers?

and then I set up a search engine as I showed previously.

Thanks and cheers,

Kish

On 22/11/2013 14:04, Christian Schulte wrote:
> Hi Kish,
>
> Let me guess: you are not using the pre-defined branchers from Gecode or do
> you? If you use your own branchers you have to add support that actually
> generates the no-goods.
>
> Cheers
> Christian
>
> --
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
> Of Kish Shen
> Sent: Friday, November 22, 2013 6:25 AM
> To: users at gecode.org
> Subject: [gecode-users] Nogoods limit
>
> Hi,
>
> I have now got restart search implemented, thanks to help from Christian. I
> finally decided to implement restart DFS as a separate search method in my
> interface, and only allow one solution in this case, because getting the
> previous solution posted as a no-goods looked quite difficult, and probably
> not a good idea for most search anyway.
>
> I ran some tests, and it seems that the restart with cutoff is working, but
> the no-goods limit is not:
>
> I tested the search with an N-Queens problem, using INT_VAR_NONE and
> INT_VAL_MIN for variable and value selection, and a constant cutoff.
> The idea here is that every single restart (without no-goods) should perform
> exactly the same search, so if the cutoff is set below the number of
> failures before the solution is found, then the search will not terminate.
> This is indeed the case, e.g. for N=8, with the cutoff set at 23, then the
> search does not terminate, but with cutoff=24, a solution is returned. Also,
> using a geometric cutoff, a solution is also found, even with a low initial
> cutoff. So this seems to show that the restart with cutoff is working as
> expected.
>
> However, it seems that I can't get the nogoods_limit to work -- using the
> same 8-Queens example, with a constant cutoff of 23, I expect that restarts
> with no-goods should be able to find the solution. However, even when I set
> the nogoods_limit very high (1000), the search does not terminate. So I
> assume this means my code for nogoods_limit is not working...
>
> I setup the restart DFS search engine as follows:
>
> sengine = new GecodeRBS<DFS>(solver, o);
>
> where o is a Search::Options, and has o.nogoods_limit set (I verified this
> by printing o.nogoods_limit just before calling the above).
>
> GecodeRBS is based on the code Chrisitan sent me:
>
> template<template<class> class E>
> class GecodeRBS : public GecodeEngineBase {
> protected:
>      RBS<E,GecodeSpace> e;
>
> public:
>      GecodeRBS(GecodeSpace* solver, const Search::Options& o) :
> e(solver,o) {}
> .....
> }
>
> (there might be typos: I typed the above in by hand, as cutting and pasting
> the actual code (in an VNC window) and my mailer running under Windows is a
> pain)
>
> I have not defined master() in GecodeSpace, as I think the default does what
> I need -- nogoods will be posted, so if nogood_limits is set,  then nogoods
> should be collected and posted in the default master().
>
> So I expected that if o.nogoods_limit is set in my sengine setup code, then
> nogoods will be posted by master, and with the limit set to 1000, all
> nogoods in my 8-Queens examples should be collected and posted, so the
> search should terminate. So I don't know why the search is not terminating.
> Am I doing something wrong in my code, or is my understanding of the
> expected behaviour incorrect?
>
> I am using Gecode 4.2.0.
>
> Cheers,
>
> Kish
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>



From cschulte at kth.se  Tue Nov 26 16:59:55 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 26 Nov 2013 16:59:55 +0100
Subject: [gecode-users] Nogoods limit
In-Reply-To: <528FA237.70101@cisco.com>
References: <528EEAA7.6080708@cisco.com> <00a201cee78b$d2c0e390$7842aab0$@se>
	<528FA237.70101@cisco.com>
Message-ID: <005801ceeac0$8d864350$a892c9f0$@se>

Hi Kish,

Oh, I see. 

How do you know that the no-goods do not work? MPG tries to explain that
even with using no-goods you might not get the guarantee that a solution is
only found once. So, it might not terminate when restarting (where I am
guessing that you search for _all_ solutions, right?).

Best
Christian

--
Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/


-----Original Message-----
From: Kish Shen [mailto:kisshen at cisco.com] 
Sent: Friday, November 22, 2013 7:28 PM
To: cschulte at kth.se; users at gecode.org
Subject: Re: [gecode-users] Nogoods limit

Hi Christian,

I think I am using the predefined branchers, i.e. I just do:

branch(*solver, vars, varselect, valchoice);

I think this is using the pre-defined branchers?

and then I set up a search engine as I showed previously.

Thanks and cheers,

Kish

On 22/11/2013 14:04, Christian Schulte wrote:
> Hi Kish,
>
> Let me guess: you are not using the pre-defined branchers from Gecode 
> or do you? If you use your own branchers you have to add support that 
> actually generates the no-goods.
>
> Cheers
> Christian
>
> --
> Christian Schulte, Professor of Computer Science, KTH, 
> www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On 
> Behalf Of Kish Shen
> Sent: Friday, November 22, 2013 6:25 AM
> To: users at gecode.org
> Subject: [gecode-users] Nogoods limit
>
> Hi,
>
> I have now got restart search implemented, thanks to help from 
> Christian. I finally decided to implement restart DFS as a separate 
> search method in my interface, and only allow one solution in this 
> case, because getting the previous solution posted as a no-goods 
> looked quite difficult, and probably not a good idea for most search
anyway.
>
> I ran some tests, and it seems that the restart with cutoff is 
> working, but the no-goods limit is not:
>
> I tested the search with an N-Queens problem, using INT_VAR_NONE and 
> INT_VAL_MIN for variable and value selection, and a constant cutoff.
> The idea here is that every single restart (without no-goods) should 
> perform exactly the same search, so if the cutoff is set below the 
> number of failures before the solution is found, then the search will not
terminate.
> This is indeed the case, e.g. for N=8, with the cutoff set at 23, then 
> the search does not terminate, but with cutoff=24, a solution is 
> returned. Also, using a geometric cutoff, a solution is also found, 
> even with a low initial cutoff. So this seems to show that the restart 
> with cutoff is working as expected.
>
> However, it seems that I can't get the nogoods_limit to work -- using 
> the same 8-Queens example, with a constant cutoff of 23, I expect that 
> restarts with no-goods should be able to find the solution. However, 
> even when I set the nogoods_limit very high (1000), the search does 
> not terminate. So I assume this means my code for nogoods_limit is not
working...
>
> I setup the restart DFS search engine as follows:
>
> sengine = new GecodeRBS<DFS>(solver, o);
>
> where o is a Search::Options, and has o.nogoods_limit set (I verified 
> this by printing o.nogoods_limit just before calling the above).
>
> GecodeRBS is based on the code Chrisitan sent me:
>
> template<template<class> class E>
> class GecodeRBS : public GecodeEngineBase {
> protected:
>      RBS<E,GecodeSpace> e;
>
> public:
>      GecodeRBS(GecodeSpace* solver, const Search::Options& o) :
> e(solver,o) {}
> .....
> }
>
> (there might be typos: I typed the above in by hand, as cutting and 
> pasting the actual code (in an VNC window) and my mailer running under 
> Windows is a
> pain)
>
> I have not defined master() in GecodeSpace, as I think the default 
> does what I need -- nogoods will be posted, so if nogood_limits is 
> set,  then nogoods should be collected and posted in the default master().
>
> So I expected that if o.nogoods_limit is set in my sengine setup code, 
> then nogoods will be posted by master, and with the limit set to 1000, 
> all nogoods in my 8-Queens examples should be collected and posted, so 
> the search should terminate. So I don't know why the search is not
terminating.
> Am I doing something wrong in my code, or is my understanding of the 
> expected behaviour incorrect?
>
> I am using Gecode 4.2.0.
>
> Cheers,
>
> Kish
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>




From kisshen at cisco.com  Tue Nov 26 20:16:36 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 26 Nov 2013 19:16:36 +0000
Subject: [gecode-users] Nogoods limit
In-Reply-To: <005801ceeac0$8d864350$a892c9f0$@se>
References: <528EEAA7.6080708@cisco.com> <00a201cee78b$d2c0e390$7842aab0$@se>
	<528FA237.70101@cisco.com> <005801ceeac0$8d864350$a892c9f0$@se>
Message-ID: <5294F394.9070404@cisco.com>

Hi Christian,


On 26/11/2013 15:59, Christian Schulte wrote:
> Hi Kish,
>
> Oh, I see.
>
> How do you know that the no-goods do not work? MPG tries to explain that
> even with using no-goods you might not get the guarantee that a solution is
> only found once. So, it might not terminate when restarting (where I am
> guessing that you search for _all_ solutions, right?).
>

No, I am searching for a single solution. The only difference with using 
restart DFS without nogoods is that a positive nogoods_limit is set (in 
fact for the restart DFS without nogoods, I set the limit to 0, even 
though this is the default, because I use the same call to Gecode in 
both cases).

The tests I was running were designed to show if my code for restart DFS 
is working or not. The reason I am using INT_VAR_NONE and INT_VAL_MIN is 
because I expect to get the same search on restart without nogoods, and 
even with nogoods, I expect the search to be similar, as INT_VAR_NONE 
choice is not affected by posting of constraints.

Without nogoods, the behaviour I see is as I expect -- with the cutoff 
below a certain value (24 in the case of the 8-Queens example I tried), 
the search does not terminate. I assume this is because there were 23 
failures in this search before the solution was found.

To test the restart DFS with nogoods, I set the nogoods_limit in the 
option to 23, reasoning that if any nogoods are posted, the restarted 
search will find a solution, because the cutoff is just below the 
threshold where I do get a solution, and I expect the search on restart 
to be very similar, so even 1 nogoods should be sufficient for getting 
aa solution. In any case, with the limit set to 1000, there should be 
many nogoods that are collected, so the search not terminating was 
unexpected.

Cheers,

Kish



> Best
> Christian
>
> --
> Christian Schulte, Professor of Computer Science, KTH,
> www.ict.kth.se/~cschulte/
>
>
> -----Original Message-----
> From: Kish Shen [mailto:kisshen at cisco.com]
> Sent: Friday, November 22, 2013 7:28 PM
> To: cschulte at kth.se; users at gecode.org
> Subject: Re: [gecode-users] Nogoods limit
>
> Hi Christian,
>
> I think I am using the predefined branchers, i.e. I just do:
>
> branch(*solver, vars, varselect, valchoice);
>
> I think this is using the pre-defined branchers?
>
> and then I set up a search engine as I showed previously.
>
> Thanks and cheers,
>
> Kish
>
> On 22/11/2013 14:04, Christian Schulte wrote:
>> Hi Kish,
>>
>> Let me guess: you are not using the pre-defined branchers from Gecode
>> or do you? If you use your own branchers you have to add support that
>> actually generates the no-goods.
>>
>> Cheers
>> Christian
>>
>> --
>> Christian Schulte, Professor of Computer Science, KTH,
>> www.ict.kth.se/~cschulte/
>>
>>
>> -----Original Message-----
>> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
>> Behalf Of Kish Shen
>> Sent: Friday, November 22, 2013 6:25 AM
>> To: users at gecode.org
>> Subject: [gecode-users] Nogoods limit
>>
>> Hi,
>>
>> I have now got restart search implemented, thanks to help from
>> Christian. I finally decided to implement restart DFS as a separate
>> search method in my interface, and only allow one solution in this
>> case, because getting the previous solution posted as a no-goods
>> looked quite difficult, and probably not a good idea for most search
> anyway.
>>
>> I ran some tests, and it seems that the restart with cutoff is
>> working, but the no-goods limit is not:
>>
>> I tested the search with an N-Queens problem, using INT_VAR_NONE and
>> INT_VAL_MIN for variable and value selection, and a constant cutoff.
>> The idea here is that every single restart (without no-goods) should
>> perform exactly the same search, so if the cutoff is set below the
>> number of failures before the solution is found, then the search will not
> terminate.
>> This is indeed the case, e.g. for N=8, with the cutoff set at 23, then
>> the search does not terminate, but with cutoff=24, a solution is
>> returned. Also, using a geometric cutoff, a solution is also found,
>> even with a low initial cutoff. So this seems to show that the restart
>> with cutoff is working as expected.
>>
>> However, it seems that I can't get the nogoods_limit to work -- using
>> the same 8-Queens example, with a constant cutoff of 23, I expect that
>> restarts with no-goods should be able to find the solution. However,
>> even when I set the nogoods_limit very high (1000), the search does
>> not terminate. So I assume this means my code for nogoods_limit is not
> working...
>>
>> I setup the restart DFS search engine as follows:
>>
>> sengine = new GecodeRBS<DFS>(solver, o);
>>
>> where o is a Search::Options, and has o.nogoods_limit set (I verified
>> this by printing o.nogoods_limit just before calling the above).
>>
>> GecodeRBS is based on the code Chrisitan sent me:
>>
>> template<template<class> class E>
>> class GecodeRBS : public GecodeEngineBase {
>> protected:
>>       RBS<E,GecodeSpace> e;
>>
>> public:
>>       GecodeRBS(GecodeSpace* solver, const Search::Options& o) :
>> e(solver,o) {}
>> .....
>> }
>>
>> (there might be typos: I typed the above in by hand, as cutting and
>> pasting the actual code (in an VNC window) and my mailer running under
>> Windows is a
>> pain)
>>
>> I have not defined master() in GecodeSpace, as I think the default
>> does what I need -- nogoods will be posted, so if nogood_limits is
>> set,  then nogoods should be collected and posted in the default master().
>>
>> So I expected that if o.nogoods_limit is set in my sengine setup code,
>> then nogoods will be posted by master, and with the limit set to 1000,
>> all nogoods in my 8-Queens examples should be collected and posted, so
>> the search should terminate. So I don't know why the search is not
> terminating.
>> Am I doing something wrong in my code, or is my understanding of the
>> expected behaviour incorrect?
>>
>> I am using Gecode 4.2.0.
>>
>> Cheers,
>>
>> Kish
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>>
>
>



From kisshen at cisco.com  Tue Nov 26 20:22:15 2013
From: kisshen at cisco.com (Kish Shen)
Date: Tue, 26 Nov 2013 19:22:15 +0000
Subject: [gecode-users] Nogoods limit
In-Reply-To: <5294F394.9070404@cisco.com>
References: <528EEAA7.6080708@cisco.com>
	<00a201cee78b$d2c0e390$7842aab0$@se>	<528FA237.70101@cisco.com>
	<005801ceeac0$8d864350$a892c9f0$@se> <5294F394.9070404@cisco.com>
Message-ID: <5294F4E7.1050508@cisco.com>

On 26/11/2013 19:16, Kish Shen wrote:

> To test the restart DFS with nogoods, I set the nogoods_limit in the
> option to 23,

Sorry, I mean I set the cutoff to 23, with the nogoods_limit set to 
1000. The cutoff of 23 is just one below the cutoff threshold where the 
search is able to find a solution -- I assume without restart (because 
restarting the search will perform exactly the same search).

Cheers,

Kish




From cschulte at kth.se  Tue Nov 26 21:17:08 2013
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 26 Nov 2013 21:17:08 +0100
Subject: [gecode-users] Nogoods limit
In-Reply-To: <5294F4E7.1050508@cisco.com>
References: <528EEAA7.6080708@cisco.com>	<00a201cee78b$d2c0e390$7842aab0$@se>	<528FA237.70101@cisco.com>	<005801ceeac0$8d864350$a892c9f0$@se>
	<5294F394.9070404@cisco.com> <5294F4E7.1050508@cisco.com>
Message-ID: <006201ceeae4$7be98e30$73bcaa90$@kth.se>

Hi Kish,

Which version do you use: there was a bug before 4.2.1 in the restart search
that could lead to a behavior as you describe it. 4.2.1 fixes this.

Cheers
Christian

--
Christian Schulte, www.ict.kth.se/~cschulte/


> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
> Behalf Of Kish Shen
> Sent: Tuesday, November 26, 2013 8:22 PM
> To: cschulte at kth.se; users at gecode.org
> Subject: Re: [gecode-users] Nogoods limit
> 
> On 26/11/2013 19:16, Kish Shen wrote:
> 
> > To test the restart DFS with nogoods, I set the nogoods_limit in the
> > option to 23,
> 
> Sorry, I mean I set the cutoff to 23, with the nogoods_limit set to 1000.
The
> cutoff of 23 is just one below the cutoff threshold where the search is
able to
> find a solution -- I assume without restart (because restarting the search
will
> perform exactly the same search).
> 
> Cheers,
> 
> Kish
> 
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From kisshen at cisco.com  Wed Nov 27 21:39:43 2013
From: kisshen at cisco.com (Kish Shen)
Date: Wed, 27 Nov 2013 20:39:43 +0000
Subject: [gecode-users] Nogoods limit
In-Reply-To: <006201ceeae4$7be98e30$73bcaa90$@kth.se>
References: <528EEAA7.6080708@cisco.com>	<00a201cee78b$d2c0e390$7842aab0$@se>	<528FA237.70101@cisco.com>	<005801ceeac0$8d864350$a892c9f0$@se>
	<5294F394.9070404@cisco.com> <5294F4E7.1050508@cisco.com>
	<006201ceeae4$7be98e30$73bcaa90$@kth.se>
Message-ID: <5296588F.7060103@cisco.com>

Hi Christian,

Thanks. That does appear to be the problem -- I was using 4.2.0, as I 
mentioned in the first message in this thread. I just installed 4.2.1, 
and the test with the nogoods succeeded.

Cheers,

Kish

On 26/11/2013 20:17, Christian Schulte wrote:
> Hi Kish,
>
> Which version do you use: there was a bug before 4.2.1 in the restart search
> that could lead to a behavior as you describe it. 4.2.1 fixes this.
>
> Cheers
> Christian
>
> --
> Christian Schulte, www.ict.kth.se/~cschulte/
>
>
>> -----Original Message-----
>> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On
>> Behalf Of Kish Shen
>> Sent: Tuesday, November 26, 2013 8:22 PM
>> To: cschulte at kth.se; users at gecode.org
>> Subject: Re: [gecode-users] Nogoods limit
>>
>> On 26/11/2013 19:16, Kish Shen wrote:
>>
>>> To test the restart DFS with nogoods, I set the nogoods_limit in the
>>> option to 23,
>>
>> Sorry, I mean I set the cutoff to 23, with the nogoods_limit set to 1000.
> The
>> cutoff of 23 is just one below the cutoff threshold where the search is
> able to
>> find a solution -- I assume without restart (because restarting the search
> will
>> perform exactly the same search).
>>
>> Cheers,
>>
>> Kish
>>
>>
>>
>> _______________________________________________
>> Gecode users mailing list
>> users at gecode.org
>> https://www.gecode.org/mailman/listinfo/gecode-users
>



From andrea.peano at unife.it  Thu Nov 28 12:31:52 2013
From: andrea.peano at unife.it (Andrea Peano)
Date: Thu, 28 Nov 2013 12:31:52 +0100
Subject: [gecode-users] Limiting the number of solutions of a search's
	subtree
In-Reply-To: <003401cee625$e88853f0$b998fbd0$@kth.se>
References: <CAGTgUnPuvBmMaFqS42f4DEA0TwbrCbkH9g-cR_7y6EL4L_YWjg@mail.gmail.com>
	<003401cee625$e88853f0$b998fbd0$@kth.se>
Message-ID: <CAGTgUnPza0zN=DrvY0ip9wzMJmDC7YNufjT2Toy88zuUv2-M4w@mail.gmail.com>

Hello,
thank you for your suggestion.

Taking a cue from this discussion:
http://www.gecode.org/pipermail/users/2013-January/003765.html

I've implemented this system:
once installed branchers for variables x and y, I install a brancher that
takes in input a function (nested_search()). This function installs the
brancher for variable z, instantiates a new search engine, calls the next()
method, then kills the brancher on z.
Here the code:
*void MyModel::nested_search()*
*{*
* IntVarArgs z;*

* z << get_z();*
* BrancherHandle b = branch(*this, z, INT_VAR_SIZE_MIN(), INT_VAL_MIN(),
NULL, &printZ);*

* DFS<MyModel> dfs_first_sol(this);*
* if( MyModel *sol = dfs_first_sol.next() ) {*
* sol->print(cout);*
* delete sol;*
* }*

* b.kill(*this);*
* done();*

*}*

This works pretty well, unless the fact that Gist "can't see" the nested
search tree, and I can't use inspectors for the nested solution. Moreover
the current solution space is the calling one, so it's a bit hard to use
for example a B&B search over the entire search tree. In fact, I've a
search engine for each leaf of the upper search tree, and they can't share
information, as it is.
Am I right?

Should I design a new search engine in order to achieve a more flexible
behaviour?

Best regards,
Andrea


On Wed, Nov 20, 2013 at 8:22 PM, Christian Schulte <cschulte at kth.se> wrote:

> There has been a similar discussion along these lines (for only two
> branchers) on this mailing list (using more than one search engine to get
> the desired behavior). Please try to find it in the mailing list archives.
>
>
>
> Christian
>
>
>
> --
>
> Christian Schulte, www.ict.kth.se/~cschulte/
>
>
>
> *From:* users-bounces at gecode.org [mailto:users-bounces at gecode.org] *On
> Behalf Of *Andrea Peano
> *Sent:* Wednesday, November 20, 2013 8:08 PM
> *To:* users at gecode.org
> *Subject:* [gecode-users] Limiting the number of solutions of a search's
> subtree
>
>
>
> Hello all,
>
> I've installed 4 branchers in order to solve my model.
>
> Although I need to compute the entire search tree of the first three
> branchers, It would be very effective to limit the number of solutions of
> the remaining subtrees.
>
>
>
> In other words, given a leaf of the search three produced by the first
> three branchers, I would compute only the first solution of the last one.
>
>
>
> I read section 8.1 of the guide, named "Executing code between branchers",
> and this behaviour seems to be achievable by posting some contraints,
> somehow...
>
> Is it the right way?
>
>
>
> Do you have any suggestion?
>
>
>
> Thank you,
>
> Andrea
>



-- 

Andrea Peano - PhD student
Department of Engineering - University of Ferrara
Tel: +39 0532 97 4827
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131128/4764e268/attachment.html>

From cschulte at kth.se  Thu Nov 28 13:44:59 2013
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 28 Nov 2013 13:44:59 +0100
Subject: [gecode-users] Limiting the number of solutions of a search's
	subtree
In-Reply-To: <CAGTgUnPza0zN=DrvY0ip9wzMJmDC7YNufjT2Toy88zuUv2-M4w@mail.gmail.com>
References: <CAGTgUnPuvBmMaFqS42f4DEA0TwbrCbkH9g-cR_7y6EL4L_YWjg@mail.gmail.com>	<003401cee625$e88853f0$b998fbd0$@kth.se>
	<CAGTgUnPza0zN=DrvY0ip9wzMJmDC7YNufjT2Toy88zuUv2-M4w@mail.gmail.com>
Message-ID: <000601ceec37$a68eb5d0$f3ac2170$@se>

Yes, you can share information: if you find a solution sol in your loop, you
can by

                this->constrain(*sol);

constrain the current space (which will be used for the outer search engine)
to yield a better solution than sol.

 

Cheers

Christian

 

--

Christian Schulte, Professor of Computer Science, KTH,
www.ict.kth.se/~cschulte/

 

From: Andrea Peano [mailto:andrea.peano at unife.it] 
Sent: Thursday, November 28, 2013 12:32 PM
To: Christian Schulte
Cc: users at gecode.org
Subject: Re: [gecode-users] Limiting the number of solutions of a search's
subtree

 

Hello,

thank you for your suggestion.

 

Taking a cue from this discussion:

http://www.gecode.org/pipermail/users/2013-January/003765.html

 

I've implemented this system:

once installed branchers for variables x and y, I install a brancher that
takes in input a function (nested_search()). This function installs the
brancher for variable z, instantiates a new search engine, calls the next()
method, then kills the brancher on z.

Here the code:

void MyModel::nested_search()

{

     IntVarArgs z;

 

     z << get_z();

     BrancherHandle b = branch(*this, z, INT_VAR_SIZE_MIN(), INT_VAL_MIN(),
NULL, &printZ);

 

     DFS<MyModel> dfs_first_sol(this);

     if( MyModel *sol = dfs_first_sol.next() ) {

          sol->print(cout);

          delete sol;

     }

 

     b.kill(*this);

     done();

 

}

 

This works pretty well, unless the fact that Gist "can't see" the nested
search tree, and I can't use inspectors for the nested solution. Moreover
the current solution space is the calling one, so it's a bit hard to use for
example a B&B search over the entire search tree. In fact, I've a search
engine for each leaf of the upper search tree, and they can't share
information, as it is.

Am I right?

 

Should I design a new search engine in order to achieve a more flexible
behaviour?

 

Best regards,

Andrea

 

On Wed, Nov 20, 2013 at 8:22 PM, Christian Schulte <cschulte at kth.se> wrote:

There has been a similar discussion along these lines (for only two
branchers) on this mailing list (using more than one search engine to get
the desired behavior). Please try to find it in the mailing list archives.

 

Christian

 

--

Christian Schulte, www.ict.kth.se/~cschulte/

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Andrea Peano
Sent: Wednesday, November 20, 2013 8:08 PM
To: users at gecode.org
Subject: [gecode-users] Limiting the number of solutions of a search's
subtree

 

Hello all,

I've installed 4 branchers in order to solve my model.

Although I need to compute the entire search tree of the first three
branchers, It would be very effective to limit the number of solutions of
the remaining subtrees.

 

In other words, given a leaf of the search three produced by the first three
branchers, I would compute only the first solution of the last one.

 

I read section 8.1 of the guide, named "Executing code between branchers",
and this behaviour seems to be achievable by posting some contraints,
somehow...

Is it the right way?

 

Do you have any suggestion?

 

Thank you,

Andrea





 

-- 

 

Andrea Peano - PhD student

Department of Engineering - University of Ferrara

Tel: +39 0532 97 4827

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20131128/6f831d5b/attachment-0001.html>

