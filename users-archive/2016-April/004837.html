<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [gecode-users] Freeze with MSVC 2015 optimized build
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Freeze%20with%20MSVC%202015%20optimized%20build&In-Reply-To=%3Cndrtf9%24nmi%241%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004836.html">
   <LINK REL="Next"  HREF="004839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gecode-users] Freeze with MSVC 2015 optimized build</H1>
    <B>Filip Konvi&#269;ka</B> 
    <A HREF="mailto:users%40gecode.org?Subject=Re%3A%20%5Bgecode-users%5D%20Freeze%20with%20MSVC%202015%20optimized%20build&In-Reply-To=%3Cndrtf9%24nmi%241%40ger.gmane.org%3E"
       TITLE="[gecode-users] Freeze with MSVC 2015 optimized build">filip.konvicka at logis.cz
       </A><BR>
    <I>Sun Apr  3 22:12:25 CEST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004836.html">[gecode-users] Freeze with MSVC 2015 optimized build
</A></li>
        <LI>Next message: <A HREF="004839.html">[gecode-users] Freeze with MSVC 2015 optimized build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4837">[ date ]</a>
              <a href="thread.html#4837">[ thread ]</a>
              <a href="subject.html#4837">[ subject ]</a>
              <a href="author.html#4837">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have updated to MSVC 2015 update 2, compiled the current Gecode trunk 
for x64, and my testcase from the beginning of this thread still freezes 
(the one from Sep 3rd 2015 - I have attached it to this mail for 
convenience).

I also tried running Float::Arithmetic::Div::Sol::A and that test still 
fails.  For some reason 'make check' only runs a small subset of tests, 
so I ran this manually like this:

$ test/test -test Float::Arithmetic::Div::Sol::A
Float::Arithmetic::Div::Sol::A -
Options: -seed 1 -test Float::Arithmetic::Div::Sol::A

Another try failed with a different seed number:
$ test/test -test Float::Arithmetic::Div
Float::Arithmetic::Div::A +++++
Float::Arithmetic::Div::B +++++
Float::Arithmetic::Div::C +++++
Float::Arithmetic::Div::Sol::A -
Options: -seed 1975575111 -test Float::Arithmetic::Div::Sol::A

Thanks,
Filip

&gt;<i> Christian,
</I>&gt;<i>
</I>&gt;<i> Thanks.  I was referring to this September &amp; October thread - there were
</I>&gt;<i> issues with Gecode freezing on some FloatVar problems (my testcase and
</I>&gt;<i> your &quot;Float::Arithmetic::Div::C&quot;) with MSVC 2015, and you said then that
</I>&gt;<i> it might be resolved by not using SSE2 (but that Guido would investigate
</I>&gt;<i> more).  We also identified a number of float tests that were failing on
</I>&gt;<i> GCC 5 (not with GCC 4.9).
</I>&gt;<i>
</I>&gt;<i> I can try re-running our tests here with the current trunk to see if
</I>&gt;<i> something changed - I just thought that I would ask directly whether you
</I>&gt;<i> did something specific to address these issues.  The failures seemed a
</I>&gt;<i> bit non-deterministic...
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Filip
</I>&gt;<i>
</I>&gt;&gt;<i> MSVC2015 works for Gecode.4.4.0 since its initial release, I in fact
</I>&gt;&gt;<i> uploaded packages to the Gecode website last week. Since last week
</I>&gt;&gt;<i> (Mar 30)
</I>&gt;&gt;<i> the update 2 to MSVC 2015 finally also compiles the trunk and the
</I>&gt;&gt;<i> upcoming
</I>&gt;&gt;<i> Gecode 5.0.0.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Don't know about GCC, though.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers
</I>&gt;&gt;<i> Christian
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Christian Schulte, www.gecode.org/~schulte
</I>&gt;&gt;<i> Professor of Computer Science, KTH, <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A>
</I>&gt;&gt;<i> Expert Researcher, SICS, <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at sics.se</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>
</I>&gt;&gt;<i> [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>] On Behalf
</I>&gt;&gt;<i> Of Filip Konvicka
</I>&gt;&gt;<i> Sent: Friday, April 1, 2016 14:41
</I>&gt;&gt;<i> To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;&gt;<i> Subject: Re: [gecode-users] Freeze with MSVC 2015 optimized build
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Christian,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Have you had any chance to look into supporting gcc 5 and MSVC 2015?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> Filip
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi Filip,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks for the information. This really looks like a gcc problem.
</I>&gt;&gt;&gt;<i> Guido, can you reproduce this behavior?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Cheers
</I>&gt;&gt;&gt;<i> Christian
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Christian Schulte, www.gecode.org/~schulte Professor of Computer
</I>&gt;&gt;&gt;<i> Science, KTH, <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at kth.se</A> Expert
</I>&gt;&gt;&gt;<i> Researcher, SICS,
</I>&gt;&gt;&gt;<i> <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">cschulte at sics.se</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;&gt;<i> From: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>
</I>&gt;&gt;&gt;<i> [mailto:<A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users-bounces at gecode.org</A>] On
</I>&gt;&gt;&gt;<i> Behalf Of Filip Konvicka
</I>&gt;&gt;&gt;<i> Sent: Friday, October 2, 2015 09:58 AM
</I>&gt;&gt;&gt;<i> To: <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;&gt;&gt;<i> Subject: Re: [gecode-users] Freeze with MSVC 2015 optimized build
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We were looking a bit more into 4.4.0 on Linux where we've also hit
</I>&gt;&gt;&gt;<i> some issues.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> All tests worked fine with gcc 4.9.3.  However, with gcc 5.2.0 many
</I>&gt;&gt;&gt;<i> tests failed - see the attachements for details:
</I>&gt;&gt;&gt;<i>      gecode-4.4.0-gcc-5.2.0-failed_tests.list
</I>&gt;&gt;&gt;<i>      ... list of failed tests (except two memory fails below)
</I>&gt;&gt;&gt;<i>      gecode-4.4.0-gcc-5.2.0-failed_tests.log
</I>&gt;&gt;&gt;<i>      ... log from 'test' for failed tests
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Two tests ran out of memory (allocated several GBs of memory before
</I>&gt;&gt;&gt;<i> getting killed by system):
</I>&gt;&gt;&gt;<i>      Set::Branch::Sparse::3
</I>&gt;&gt;&gt;<i>      Set::Channel::Sorted
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> gcc details:
</I>&gt;&gt;&gt;<i> target=x86_64-linux-gnu
</I>&gt;&gt;&gt;<i> GCC_VER=5.2.0
</I>&gt;&gt;&gt;<i> GMP_VER=6.0.0
</I>&gt;&gt;&gt;<i> MPFR_VER=3.1.3
</I>&gt;&gt;&gt;<i> MPC_VER=1.0.3
</I>&gt;&gt;&gt;<i> BINUTILS_VER=2.25
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It could also be a gcc bug of course, hard to tell.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> Filip
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Gecode users mailing list
</I>&gt;&gt;<i> <A HREF="http://www.gecode.org/cgi-bin/mailman/listinfo/users">users at gecode.org</A>
</I>&gt;&gt;<i> <A HREF="https://www.gecode.org/mailman/listinfo/gecode-users">https://www.gecode.org/mailman/listinfo/gecode-users</A>
</I>&gt;&gt;<i>
</I>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004836.html">[gecode-users] Freeze with MSVC 2015 optimized build
</A></li>
	<LI>Next message: <A HREF="004839.html">[gecode-users] Freeze with MSVC 2015 optimized build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4837">[ date ]</a>
              <a href="thread.html#4837">[ thread ]</a>
              <a href="subject.html#4837">[ subject ]</a>
              <a href="author.html#4837">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.gecode.org/cgi-bin/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
