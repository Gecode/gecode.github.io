From delmotte at mad-environnement.com  Tue Oct  4 11:00:46 2016
From: delmotte at mad-environnement.com (Sebastien Delmotte)
Date: Tue, 4 Oct 2016 11:00:46 +0200
Subject: [gecode-users] Cost optimization problem
In-Reply-To: <B05DCB71-70BF-401E-BEBE-A5922A46B15C@monash.edu>
References: <003501d20dbd$fd2b9e80$f782db80$@mad-environnement.com>
	<018c01d20f62$43deeb20$cb9cc160$@kth.se>
	<004601d2100a$a2b676b0$e8236410$@mad-environnement.com>
	<000401d2100b$f45c73b0$dd155b10$@kth.se>
	<004d01d2131a$1f5de3d0$5e19ab70$@mad-environnement.com>
	<007201d214b7$f3a8c3a0$dafa4ae0$@mad-environnement.com>
	<B05DCB71-70BF-401E-BEBE-A5922A46B15C@monash.edu>
Message-ID: <002801d21e1d$d8c1f380$8a45da80$@mad-environnement.com>

Hello,

 

Thank you very much for your advice.

 

Sadly, it still does not work. The exception has disappeared but no solution is provided (the program seems to turn on empty).

 

Cheers,

 

S.D.

 

 

 

 

De : Guido Tack [mailto:guido.tack at monash.edu] 
Envoy? : vendredi 23 septembre 2016 00:59
? : Sebastien Delmotte
Cc : Christian Schulte; users at gecode.org
Objet : Re: [gecode-users] Cost optimization problem

 

I think the problem here is that you?re not branching over the cost variable.  With float variables, it?s not guaranteed that just because all x[i] are assigned (i.e., restricted to the smallest possible interval!), the result of c[i]*x[i] will also be assigned.  So you need to branch on the result, in this case on t_cost.

 

Cheers,

Guido

 

-- 
GUIDO TACK                  
Senior Lecturer

Information Technology
Monash University
Level 6, Room 6.40, Building H, Caulfield Campus
900 Dandenong Road
Caulfield East VIC 3145
Australia

T: +61 3 9903 1214                      
E: guido.tack at monash.edu
http://www.csse.monash.edu/~guidot/

 

On 22 Sep. 2016, at 7:59 pm, Sebastien Delmotte <delmotte at mad-environnement.com> wrote:

 

Dear All,

I'm back with my issue of cost optimization with float variables.

I can't solve my problem with integers because : (i) the transformation of
my model from float to integer makes me using coefficients with high value
which cause the overtaking of int size; (ii) even with smaller values, the
time of optimization is around 11h20 for optimizing only 6 coefficients (and
I have more to optimize).

So, I've tested another example: (i)  I've taken the Hakank diet code
(http://www.hakank.org/gecode/) written with integer variables; (ii) I've
transformed the code to solve the model with float variables instead of
integer variables.

The result is similar than with my model: an exception occurs about
"unassigned variable" which is probably the cost variable. (I put the code
at the end of this message).

So it seems that the issue is not a modelling one. Do you have an idea about
the origin of this exception which occurs with the two models I've tested?

Do you known some other float optimization examples which are solved with
gecode?

Thank you in advance.

Best regards,

S. D.

Adapted Hakank Code:

#include <gecode/driver.hh>
#include <gecode/float.hh>
#include <gecode/minimodel.hh>

using namespace Gecode;


class Tests : public FloatMinimizeScript  {
protected:
   FloatVarArray x;          // amount of each product
   FloatVar t_cost;          // total cost to minimize
   static const int n = 4; // number of products

public:

   Tests(const Options& o) :FloatMinimizeScript(o),
       x(*this, n, 0, 1000),
       t_cost(*this, 0, 1000)
   {

       float _price[]  = { 50.f, 20.f, 30.f, 80.f}; // in cents
       float limits[]  = {500.f,  6.f, 10.f,  8.f}; // requirements for
each nutrition type

       // nutritions for each product
       float _calories[]  = {400.f, 200.f, 150.f, 500.f};
       float _chocolate[] = {  3.f,   2.f,   0.f,   0.f};
       float _sugar[]     = {  2.f,   2.f,   4.f,   4.f};
       float _fat[]       = {  2.f,   4.f,   1.f,   5.f};

       FloatVarArgs v_calories;
       FloatVarArgs v_chocolate;
       FloatVarArgs v_fat;
       FloatVarArgs v_sugar;
       FloatVarArgs v_costs;
       for(int i = 0;i<4;++i)
       {
           v_calories << expr(*this,x[i]*_calories[i]);
           v_chocolate << expr(*this,x[i]*_chocolate[i]);
           v_fat << expr(*this,x[i]*_fat[i]);
           v_sugar << expr(*this,x[i]*_sugar[i]);
           v_costs << expr(*this,x[i]*_price[i]);
       }
       rel(*this,expr(*this,sum(v_calories)),FRT_GQ,limits[0]);
       rel(*this,expr(*this,sum(v_chocolate)),FRT_GQ,limits[1]);
       rel(*this,expr(*this,sum(v_sugar)),FRT_GQ,limits[2]);
       rel(*this,expr(*this,sum(v_fat)),FRT_GQ,limits[3]);
       t_cost = expr(*this,sum(v_costs));

       branch(*this, x, FLOAT_VAR_NONE(), FLOAT_VAL_SPLIT_MIN());

   }

   // Prfloat solution
   virtual void
   prfloat(std::ostream& os) const {
       os << "\t" << x << " t_cost: " << t_cost << std::endl;
   }

   virtual FloatVar cost(void) const{
       return t_cost;
   }

   Tests(bool share, Tests& s) : FloatMinimizeScript(share,s) {
       x.update(*this, share, s.x);
       t_cost.update(*this, share, s.t_cost);
   }

   virtual Space*
   copy(bool share) {
       return new Tests(share,*this);
   }
};


float main(float argc, char* argv[]) {

   Options opt("Test");
   opt.solutions(1e9);
   //opt.threads(8);
   FloatMinimizeScript::run<Tests,BAB,Options>(opt);
   return 0;
}


-----Message d'origine-----
De : users-bounces at gecode.org [mailto:users-bounces at gecode.org] De la part
de Sebastien Delmotte
Envoy? : mardi 20 septembre 2016 10:37
? : cschulte at kth.se
Cc : users at gecode.org
Objet : Re: [gecode-users] Cost optimization problem

Dear Christian,

I've tried to play with the step value but it doesn't change anything. An
exception related to an unassigned variable (cost) still occurs and it
prevents the search to be processed. I really don't understand why it works
with exactly the same code with floats converted to integers, but I surely
don't use correctly the gecode options. 

I think I will continue with integers for the moment.

Thank you very much.

S. D.

-----Message d'origine-----
De : Christian Schulte [mailto:cschulte at kth.se] Envoy? : vendredi 16
septembre 2016 13:18 ? : 'Sebastien Delmotte'; users at gecode.org Objet : RE:
[gecode-users] Cost optimization problem

Hi,

That's strange... Did you try to play with the step value as explained in
MPG 7.3?

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte Professor of Computer Science,
KTH, cschulte at kth.se Expert Researcher, SICS, cschulte at sics.se

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Sebastien Delmotte
Sent: Friday, September 16, 2016 13:08
To: cschulte at kth.se; users at gecode.org
Subject: Re: [gecode-users] Cost optimization problem

Dear Christian,

Thank you for your answer.

When I transform all the code from float variables to integer variables (in
changing the constraints from 1 to 100 for example), that works perfectly.
So maybe my implementation for float variables is not good. I will try to
find why.

Best regards,

SD

-----Message d'origine-----
De : Christian Schulte [mailto:cschulte at kth.se] Envoy? : jeudi 15 septembre
2016 17:03 ? : 'Sebastien Delmotte'; users at gecode.org Objet : RE:
[gecode-users] Cost optimization problem

Hi,

Sorry but I think this is really a modelling issue and not a Gecode issue,
as you have already figured out 3).

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte Professor of Computer Science,
KTH, cschulte at kth.se Expert Researcher, SICS, cschulte at sics.se


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Sebastien Delmotte
Sent: Tuesday, September 13, 2016 14:55
To: users at gecode.org
Subject: [gecode-users] Cost optimization problem

Dear All,

I have a problem with using Gecode to solve an optimization problem.

Problem description:
- I have a recipe with two sub-components. Each component has a coefficient
corresponding to its amount in the recipe. So the sum of the sub-components
coefficients must be equal to 1;
- Each of the two sub-components is composed of several raw materials. Each
raw material has a coefficient corresponding to its amount in its
sub-component. So, for each sub-component, the sum of the raw materials
coefficients is equal to 1;
- At the recipe level, I have some constraints on the raw materials amount
(e.g. raw material 1 must be in a given interval). The amount of each raw
material in the recipe is equal to the product of the coefficient of this
raw material by the coefficient of its sub-component
- I have to minimize the cost of the recipe accounting for the cost of each
raw materials. This cost is equal to the sum of the product of each raw
material coefficient by its unit cost.

Code

#include <gecode/driver.hh>
#include <gecode/int.hh>
#include <gecode/minimodel.hh>
using namespace Gecode;
class Tests : public FloatMinimizeScript  {
protected:
    FloatVarArray _rms_in_sub_c_1; // raw mat in sub-comp1
    FloatVarArray _rms_in_sub_c_2; // raw mat in sub-comp2
    FloatVarArray _sub_c; // 2 sub-comp
    FloatVar _cost; // cost
public:
    Tests(const Options& o)
:FloatMinimizeScript(o),_rms_in_sub_c_1(*this,4,0,1),_rms_in_sub_c_2(*this,3
,0,1),_sub_c(*this,2,0,1),_cost(*this,0,1000)
    {
//sum of raw mat in sub-comp =1
FloatVar all_rms_sub1 = expr(*this,sum(_rms_in_sub_c_1));
rel(*this,all_rms_sub1 ,FRT_EQ,1);
FloatVar all_rms_sub2 = expr(*this,sum(_rms_in_sub_c_2));
rel(*this,all_rms_sub2 ,FRT_EQ,1);
// sum of sub-comp =1
FloatVar sm = expr(*this,sum(_sub_c));
rel(*this,sm ,FRT_EQ,1);
// Global constraints on raw mat in recipe FloatVar rm_0_sub_coef1=
expr(*this,_rms_in_sub_c_1[0]*_sub_c[0]);
rel(*this,rm_0_sub_coef1,FRT_GQ,0);
FloatVar rm_1_sub_coef1= expr(*this,_rms_in_sub_c_1[1]*_sub_c[0]);
rel(*this,rm_1_sub_coef1,FRT_GQ,0);
FloatVar rm_2_sub_coef1= expr(*this,_rms_in_sub_c_1[2]*_sub_c[0]);
rel(*this,rm_2_sub_coef1,FRT_GQ,0);
FloatVar rm_3_sub_coef1= expr(*this,_rms_in_sub_c_1[3]*_sub_c[0]);
rel(*this,rm_3_sub_coef1,FRT_GQ,0);
FloatVar rm_0_sub_coef2= expr(*this,_rms_in_sub_c_2[0]*_sub_c[1]);
rel(*this,rm_0_sub_coef2,FRT_GQ,0);
FloatVar rm_1_sub_coef2= expr(*this,_rms_in_sub_c_2[1]*_sub_c[1]);
rel(*this,rm_1_sub_coef2,FRT_GQ,0);
FloatVar rm_2_sub_coef2= expr(*this,_rms_in_sub_c_2[2]*_sub_c[1]);
rel(*this,rm_2_sub_coef2,FRT_GQ,0);

// Cost
_cost = expr(*this,_sub_c[0]*(_rms_in_sub_c_1[0]*12 +_rms_in_sub_c_1[1]*14 +
_rms_in_sub_c_1[2] * 22 +_rms_in_sub_c_1[3] * 17 )
+_sub_c[1]*(_rms_in_sub_c_2[0]*9 +_rms_in_sub_c_2[1]*2 + 
+_rms_in_sub_c_2[2]
* 18 ));
FloatVarArgs all;
for(int i = 0; i <4; i++) all << _rms_in_sub_c_1[i]; for(int i = 0; i <3;
i++) all << _rms_in_sub_c_2[i]; for(int i = 0; i <2; i++) all << 
i++_sub_c[i];

branch(*this, all, FLOAT_VAR_NONE(), FLOAT_VAL_SPLIT_MIN());
    }

virtual void
print(std::ostream& os) const {
os << "sub-component : " << _sub_c << "\nrms 1 : "<< _rms_in_sub_c_1<<
"\nrms2 : "<< _rms_in_sub_c_2 <<"\ncost : "<< _cost << std::endl;
    }

virtual FloatVar cost(void) const{
return _cost;
    }
Tests(bool share, Tests& s) : FloatMinimizeScript(share,s) { _sub_c.update
(*this, share, s._sub_c); _rms_in_sub_c_1.update(*this, share,
s._rms_in_sub_c_1); _rms_in_sub_c_2.update(*this, share, s._rms_in_sub_c_2);
_cost.update(*this, share, s._cost);
    }

virtual Space*
copy(bool share) {
return new Tests(share,*this);
    }
};
int main(int argc, char* argv[]) {
Options opt("Test");
opt.solutions(0);
FloatMinimizeScript::run<Tests,BAB,Options>(opt);
return 0;
}

When executing this code, the result is :
sub-component : {0, 1}
rms in sub-component 1 : {0, 0, 0, 1}
rms in sub-component 2 : {0, 0, 1}
cost : [18..18]

Exception: FloatVar::val: Attempt to access value of unassigned variable.

Problems:
1- The resulting solution is trivial but absolutely not optimal for the
cost: only the second sub-component has a positive coefficient (=1) with
only one raw material which is not the cheapest one;
2- In this example, all the constraints for the raw materials are: greater
than 0. But if I change the value of the constraints (e.g. greater than
0.1), I don't get any solution;
3- There is an exception error: FloatVar::val: Attempt to access value of
unassigned variable. This error disappears when I add the variable cost in
the branching, but the solution is still non optimal.

I think I have a problem with handling gecode because the problem is simple,
but I have no idea about the origin of the problem. 
With many thanks in advance.
Best regards,
S.D.



_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161004/79568393/attachment-0001.html>

From delmotte at mad-environnement.com  Tue Oct  4 17:37:30 2016
From: delmotte at mad-environnement.com (Sebastien Delmotte)
Date: Tue, 4 Oct 2016 17:37:30 +0200
Subject: [gecode-users] Cost optimization problem
In-Reply-To: <B05DCB71-70BF-401E-BEBE-A5922A46B15C@monash.edu>
References: <003501d20dbd$fd2b9e80$f782db80$@mad-environnement.com>
	<018c01d20f62$43deeb20$cb9cc160$@kth.se>
	<004601d2100a$a2b676b0$e8236410$@mad-environnement.com>
	<000401d2100b$f45c73b0$dd155b10$@kth.se>
	<004d01d2131a$1f5de3d0$5e19ab70$@mad-environnement.com>
	<007201d214b7$f3a8c3a0$dafa4ae0$@mad-environnement.com>
	<B05DCB71-70BF-401E-BEBE-A5922A46B15C@monash.edu>
Message-ID: <001901d21e55$3865e120$a931a360$@mad-environnement.com>

Dear All,

 

I?ve concluded too quickly in my previous message, because it works now, both with the Diet example and with my own model. That was a problem of branch ordering.

 

Thank you very much for your support.

 

Cheers,

 

S.D.

 

De : Guido Tack [mailto:guido.tack at monash.edu] 
Envoy? : vendredi 23 septembre 2016 00:59
? : Sebastien Delmotte
Cc : Christian Schulte; users at gecode.org
Objet : Re: [gecode-users] Cost optimization problem

 

I think the problem here is that you?re not branching over the cost variable.  With float variables, it?s not guaranteed that just because all x[i] are assigned (i.e., restricted to the smallest possible interval!), the result of c[i]*x[i] will also be assigned.  So you need to branch on the result, in this case on t_cost.

 

Cheers,

Guido

 

-- 
GUIDO TACK                  
Senior Lecturer

Information Technology
Monash University
Level 6, Room 6.40, Building H, Caulfield Campus
900 Dandenong Road
Caulfield East VIC 3145
Australia

T: +61 3 9903 1214                      
E: guido.tack at monash.edu
http://www.csse.monash.edu/~guidot/

 

On 22 Sep. 2016, at 7:59 pm, Sebastien Delmotte <delmotte at mad-environnement.com> wrote:

 

Dear All,

I'm back with my issue of cost optimization with float variables.

I can't solve my problem with integers because : (i) the transformation of
my model from float to integer makes me using coefficients with high value
which cause the overtaking of int size; (ii) even with smaller values, the
time of optimization is around 11h20 for optimizing only 6 coefficients (and
I have more to optimize).

So, I've tested another example: (i)  I've taken the Hakank diet code
(http://www.hakank.org/gecode/) written with integer variables; (ii) I've
transformed the code to solve the model with float variables instead of
integer variables.

The result is similar than with my model: an exception occurs about
"unassigned variable" which is probably the cost variable. (I put the code
at the end of this message).

So it seems that the issue is not a modelling one. Do you have an idea about
the origin of this exception which occurs with the two models I've tested?

Do you known some other float optimization examples which are solved with
gecode?

Thank you in advance.

Best regards,

S. D.

Adapted Hakank Code:

#include <gecode/driver.hh>
#include <gecode/float.hh>
#include <gecode/minimodel.hh>

using namespace Gecode;


class Tests : public FloatMinimizeScript  {
protected:
   FloatVarArray x;          // amount of each product
   FloatVar t_cost;          // total cost to minimize
   static const int n = 4; // number of products

public:

   Tests(const Options& o) :FloatMinimizeScript(o),
       x(*this, n, 0, 1000),
       t_cost(*this, 0, 1000)
   {

       float _price[]  = { 50.f, 20.f, 30.f, 80.f}; // in cents
       float limits[]  = {500.f,  6.f, 10.f,  8.f}; // requirements for
each nutrition type

       // nutritions for each product
       float _calories[]  = {400.f, 200.f, 150.f, 500.f};
       float _chocolate[] = {  3.f,   2.f,   0.f,   0.f};
       float _sugar[]     = {  2.f,   2.f,   4.f,   4.f};
       float _fat[]       = {  2.f,   4.f,   1.f,   5.f};

       FloatVarArgs v_calories;
       FloatVarArgs v_chocolate;
       FloatVarArgs v_fat;
       FloatVarArgs v_sugar;
       FloatVarArgs v_costs;
       for(int i = 0;i<4;++i)
       {
           v_calories << expr(*this,x[i]*_calories[i]);
           v_chocolate << expr(*this,x[i]*_chocolate[i]);
           v_fat << expr(*this,x[i]*_fat[i]);
           v_sugar << expr(*this,x[i]*_sugar[i]);
           v_costs << expr(*this,x[i]*_price[i]);
       }
       rel(*this,expr(*this,sum(v_calories)),FRT_GQ,limits[0]);
       rel(*this,expr(*this,sum(v_chocolate)),FRT_GQ,limits[1]);
       rel(*this,expr(*this,sum(v_sugar)),FRT_GQ,limits[2]);
       rel(*this,expr(*this,sum(v_fat)),FRT_GQ,limits[3]);
       t_cost = expr(*this,sum(v_costs));

       branch(*this, x, FLOAT_VAR_NONE(), FLOAT_VAL_SPLIT_MIN());

   }

   // Prfloat solution
   virtual void
   prfloat(std::ostream& os) const {
       os << "\t" << x << " t_cost: " << t_cost << std::endl;
   }

   virtual FloatVar cost(void) const{
       return t_cost;
   }

   Tests(bool share, Tests& s) : FloatMinimizeScript(share,s) {
       x.update(*this, share, s.x);
       t_cost.update(*this, share, s.t_cost);
   }

   virtual Space*
   copy(bool share) {
       return new Tests(share,*this);
   }
};


float main(float argc, char* argv[]) {

   Options opt("Test");
   opt.solutions(1e9);
   //opt.threads(8);
   FloatMinimizeScript::run<Tests,BAB,Options>(opt);
   return 0;
}


-----Message d'origine-----
De : users-bounces at gecode.org [mailto:users-bounces at gecode.org] De la part
de Sebastien Delmotte
Envoy? : mardi 20 septembre 2016 10:37
? : cschulte at kth.se
Cc : users at gecode.org
Objet : Re: [gecode-users] Cost optimization problem

Dear Christian,

I've tried to play with the step value but it doesn't change anything. An
exception related to an unassigned variable (cost) still occurs and it
prevents the search to be processed. I really don't understand why it works
with exactly the same code with floats converted to integers, but I surely
don't use correctly the gecode options. 

I think I will continue with integers for the moment.

Thank you very much.

S. D.

-----Message d'origine-----
De : Christian Schulte [mailto:cschulte at kth.se] Envoy? : vendredi 16
septembre 2016 13:18 ? : 'Sebastien Delmotte'; users at gecode.org Objet : RE:
[gecode-users] Cost optimization problem

Hi,

That's strange... Did you try to play with the step value as explained in
MPG 7.3?

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte Professor of Computer Science,
KTH, cschulte at kth.se Expert Researcher, SICS, cschulte at sics.se

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Sebastien Delmotte
Sent: Friday, September 16, 2016 13:08
To: cschulte at kth.se; users at gecode.org
Subject: Re: [gecode-users] Cost optimization problem

Dear Christian,

Thank you for your answer.

When I transform all the code from float variables to integer variables (in
changing the constraints from 1 to 100 for example), that works perfectly.
So maybe my implementation for float variables is not good. I will try to
find why.

Best regards,

SD

-----Message d'origine-----
De : Christian Schulte [mailto:cschulte at kth.se] Envoy? : jeudi 15 septembre
2016 17:03 ? : 'Sebastien Delmotte'; users at gecode.org Objet : RE:
[gecode-users] Cost optimization problem

Hi,

Sorry but I think this is really a modelling issue and not a Gecode issue,
as you have already figured out 3).

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte Professor of Computer Science,
KTH, cschulte at kth.se Expert Researcher, SICS, cschulte at sics.se


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Sebastien Delmotte
Sent: Tuesday, September 13, 2016 14:55
To: users at gecode.org
Subject: [gecode-users] Cost optimization problem

Dear All,

I have a problem with using Gecode to solve an optimization problem.

Problem description:
- I have a recipe with two sub-components. Each component has a coefficient
corresponding to its amount in the recipe. So the sum of the sub-components
coefficients must be equal to 1;
- Each of the two sub-components is composed of several raw materials. Each
raw material has a coefficient corresponding to its amount in its
sub-component. So, for each sub-component, the sum of the raw materials
coefficients is equal to 1;
- At the recipe level, I have some constraints on the raw materials amount
(e.g. raw material 1 must be in a given interval). The amount of each raw
material in the recipe is equal to the product of the coefficient of this
raw material by the coefficient of its sub-component
- I have to minimize the cost of the recipe accounting for the cost of each
raw materials. This cost is equal to the sum of the product of each raw
material coefficient by its unit cost.

Code

#include <gecode/driver.hh>
#include <gecode/int.hh>
#include <gecode/minimodel.hh>
using namespace Gecode;
class Tests : public FloatMinimizeScript  {
protected:
    FloatVarArray _rms_in_sub_c_1; // raw mat in sub-comp1
    FloatVarArray _rms_in_sub_c_2; // raw mat in sub-comp2
    FloatVarArray _sub_c; // 2 sub-comp
    FloatVar _cost; // cost
public:
    Tests(const Options& o)
:FloatMinimizeScript(o),_rms_in_sub_c_1(*this,4,0,1),_rms_in_sub_c_2(*this,3
,0,1),_sub_c(*this,2,0,1),_cost(*this,0,1000)
    {
//sum of raw mat in sub-comp =1
FloatVar all_rms_sub1 = expr(*this,sum(_rms_in_sub_c_1));
rel(*this,all_rms_sub1 ,FRT_EQ,1);
FloatVar all_rms_sub2 = expr(*this,sum(_rms_in_sub_c_2));
rel(*this,all_rms_sub2 ,FRT_EQ,1);
// sum of sub-comp =1
FloatVar sm = expr(*this,sum(_sub_c));
rel(*this,sm ,FRT_EQ,1);
// Global constraints on raw mat in recipe FloatVar rm_0_sub_coef1=
expr(*this,_rms_in_sub_c_1[0]*_sub_c[0]);
rel(*this,rm_0_sub_coef1,FRT_GQ,0);
FloatVar rm_1_sub_coef1= expr(*this,_rms_in_sub_c_1[1]*_sub_c[0]);
rel(*this,rm_1_sub_coef1,FRT_GQ,0);
FloatVar rm_2_sub_coef1= expr(*this,_rms_in_sub_c_1[2]*_sub_c[0]);
rel(*this,rm_2_sub_coef1,FRT_GQ,0);
FloatVar rm_3_sub_coef1= expr(*this,_rms_in_sub_c_1[3]*_sub_c[0]);
rel(*this,rm_3_sub_coef1,FRT_GQ,0);
FloatVar rm_0_sub_coef2= expr(*this,_rms_in_sub_c_2[0]*_sub_c[1]);
rel(*this,rm_0_sub_coef2,FRT_GQ,0);
FloatVar rm_1_sub_coef2= expr(*this,_rms_in_sub_c_2[1]*_sub_c[1]);
rel(*this,rm_1_sub_coef2,FRT_GQ,0);
FloatVar rm_2_sub_coef2= expr(*this,_rms_in_sub_c_2[2]*_sub_c[1]);
rel(*this,rm_2_sub_coef2,FRT_GQ,0);

// Cost
_cost = expr(*this,_sub_c[0]*(_rms_in_sub_c_1[0]*12 +_rms_in_sub_c_1[1]*14 +
_rms_in_sub_c_1[2] * 22 +_rms_in_sub_c_1[3] * 17 )
+_sub_c[1]*(_rms_in_sub_c_2[0]*9 +_rms_in_sub_c_2[1]*2 + 
+_rms_in_sub_c_2[2]
* 18 ));
FloatVarArgs all;
for(int i = 0; i <4; i++) all << _rms_in_sub_c_1[i]; for(int i = 0; i <3;
i++) all << _rms_in_sub_c_2[i]; for(int i = 0; i <2; i++) all << 
i++_sub_c[i];

branch(*this, all, FLOAT_VAR_NONE(), FLOAT_VAL_SPLIT_MIN());
    }

virtual void
print(std::ostream& os) const {
os << "sub-component : " << _sub_c << "\nrms 1 : "<< _rms_in_sub_c_1<<
"\nrms2 : "<< _rms_in_sub_c_2 <<"\ncost : "<< _cost << std::endl;
    }

virtual FloatVar cost(void) const{
return _cost;
    }
Tests(bool share, Tests& s) : FloatMinimizeScript(share,s) { _sub_c.update
(*this, share, s._sub_c); _rms_in_sub_c_1.update(*this, share,
s._rms_in_sub_c_1); _rms_in_sub_c_2.update(*this, share, s._rms_in_sub_c_2);
_cost.update(*this, share, s._cost);
    }

virtual Space*
copy(bool share) {
return new Tests(share,*this);
    }
};
int main(int argc, char* argv[]) {
Options opt("Test");
opt.solutions(0);
FloatMinimizeScript::run<Tests,BAB,Options>(opt);
return 0;
}

When executing this code, the result is :
sub-component : {0, 1}
rms in sub-component 1 : {0, 0, 0, 1}
rms in sub-component 2 : {0, 0, 1}
cost : [18..18]

Exception: FloatVar::val: Attempt to access value of unassigned variable.

Problems:
1- The resulting solution is trivial but absolutely not optimal for the
cost: only the second sub-component has a positive coefficient (=1) with
only one raw material which is not the cheapest one;
2- In this example, all the constraints for the raw materials are: greater
than 0. But if I change the value of the constraints (e.g. greater than
0.1), I don't get any solution;
3- There is an exception error: FloatVar::val: Attempt to access value of
unassigned variable. This error disappears when I add the variable cost in
the branching, but the solution is still non optimal.

I think I have a problem with handling gecode because the problem is simple,
but I have no idea about the origin of the problem. 
With many thanks in advance.
Best regards,
S.D.



_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161004/2b06c9f8/attachment-0001.html>

From benziane.assia at hotmail.com  Fri Oct 21 21:03:16 2016
From: benziane.assia at hotmail.com (Assia benziane)
Date: Fri, 21 Oct 2016 19:03:16 +0000
Subject: [gecode-users] MAX-SAT problem
Message-ID: <VI1PR10MB0701DA3513DFB3FBE0E3FFF498D40@VI1PR10MB0701.EURPRD10.PROD.OUTLOOK.COM>

Hello gecode users,


I've a constraint satisfaction problem that i want to optimize. My idea is to implment it on Gecode. I read closely the document "Modeling and Programming with Gecode<http://www.gecode.org/doc-latest/MPG.pdf>", but i did not found anything related to use the MAX-SAT on Gecode straight. My question is if it is possible to implment a  MAX-SAT problem on Gecode.


Cordially,

---

Assia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161021/9dab41f5/attachment.html>

From guido.tack at monash.edu  Sat Oct 22 02:29:01 2016
From: guido.tack at monash.edu (Guido Tack)
Date: Sat, 22 Oct 2016 11:29:01 +1100
Subject: [gecode-users] MAX-SAT problem
In-Reply-To: <VI1PR10MB0701DA3513DFB3FBE0E3FFF498D40@VI1PR10MB0701.EURPRD10.PROD.OUTLOOK.COM>
References: <VI1PR10MB0701DA3513DFB3FBE0E3FFF498D40@VI1PR10MB0701.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <6A86BC34-CBEB-4254-8F13-E63630CC9A5F@monash.edu>

Hi,

you could use Gecode to model a MAX-SAT problem, by using reified clause constraints and then maximising the sum over the control variables for the clauses.  However the performance will be very, very poor compared to a dedicated MAX-SAT solver.

Cheers
Guido

-- 
GUIDO TACK                  
Senior Lecturer

Information Technology
Monash University
Level 6, Room 6.40, Building H, Caulfield Campus
900 Dandenong Road
Caulfield East VIC 3145
Australia

T: +61 3 9903 1214                      
E: guido.tack at monash.edu <mailto:guido.tack at monash.edu>
http://www.csse.monash.edu/~guidot/ <http://www.csse.monash.edu/~guidot/>


> On 22 Oct. 2016, at 6:03 am, Assia benziane <benziane.assia at hotmail.com <mailto:benziane.assia at hotmail.com>> wrote:
> 
> Hello gecode users,
> 
> I've a constraint satisfaction problem that i want to optimize. My idea is to implment it on Gecode. I read closely the document "Modeling and Programming with Gecode <http://www.gecode.org/doc-latest/MPG.pdf>", but i did not found anything related to use the MAX-SAT on Gecode straight. My question is if it is possible to implment a  MAX-SAT problem on Gecode. 
> 
> Cordially,
> ---
> Assia
> _______________________________________________
> Gecode users mailing list
> users at gecode.org <mailto:users at gecode.org>
> https://www.gecode.org/mailman/listinfo/gecode-users <https://www.gecode.org/mailman/listinfo/gecode-users>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161022/8fe92578/attachment.html>

From albert at math.uni-goettingen.de  Sat Oct 22 09:41:25 2016
From: albert at math.uni-goettingen.de (Sebastian Albert)
Date: Sat, 22 Oct 2016 09:41:25 +0200
Subject: [gecode-users] Verbose output to trace propagation
In-Reply-To: <f8a1e6d0-b301-5832-df84-d55e726d115e@math.uni-goettingen.de>
References: <f8a1e6d0-b301-5832-df84-d55e726d115e@math.uni-goettingen.de>
Message-ID: <682caaa4-c69e-cf43-037c-3cc85534a33f@math.uni-goettingen.de>


Hello Gecoders

I am rather new to Gecode, and during my first steps (with Float
variables, actually), I'd like to see what the propagators are doing
(because I don't see the float intervals pruned as much as I would have
expected). While Gist offers great insights into search and branching, I
did not find a neat facility to trace propagation. I'm using the
minimodel, so a way of actually seeing the generated expressions,
auxiliary variables and their propagators might also help.

Is there any option other than spraying "std::cout << foo << bar <<
std::endl" into every other Gecode source code line? Maybe a specialized
Space class to derive from?

By the way, the links to GMANE are broken. Actually, the search function
on dir.gmane.org itself is also a dead link. (So sorry for not having
"searched" the archive...)

Best
Sebastian

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 801 bytes
Desc: OpenPGP digital signature
URL: <http://www.gecode.org/pipermail/users/attachments/20161022/8fc5a758/attachment.sig>

From benziane.assia at hotmail.com  Sat Oct 22 13:01:01 2016
From: benziane.assia at hotmail.com (Assia benziane)
Date: Sat, 22 Oct 2016 11:01:01 +0000
Subject: [gecode-users] MAX-SAT problem
In-Reply-To: <6A86BC34-CBEB-4254-8F13-E63630CC9A5F@monash.edu>
References: <VI1PR10MB0701DA3513DFB3FBE0E3FFF498D40@VI1PR10MB0701.EURPRD10.PROD.OUTLOOK.COM>,
	<6A86BC34-CBEB-4254-8F13-E63630CC9A5F@monash.edu>
Message-ID: <VI1PR10MB07015F190BB2C3B73F9CE0BC98D70@VI1PR10MB0701.EURPRD10.PROD.OUTLOOK.COM>

Thank you very much for your help. I will use a dedicated solver like MINSAT.


Best Regards,


Assia.

________________________________
De : Guido Tack <guido.tack at monash.edu>
Envoy? : samedi 22 octobre 2016 00:29:01
? : Assia benziane
Cc : users at gecode.org
Objet : Re: [gecode-users] MAX-SAT problem

Hi,

you could use Gecode to model a MAX-SAT problem, by using reified clause constraints and then maximising the sum over the control variables for the clauses.  However the performance will be very, very poor compared to a dedicated MAX-SAT solver.

Cheers
Guido

--
GUIDO TACK
Senior Lecturer

Information Technology
Monash University
Level 6, Room 6.40, Building H, Caulfield Campus
900 Dandenong Road
Caulfield East VIC 3145
Australia

T: +61 3 9903 1214
E: guido.tack at monash.edu<mailto:guido.tack at monash.edu>
http://www.csse.monash.edu/~guidot/


On 22 Oct. 2016, at 6:03 am, Assia benziane <benziane.assia at hotmail.com<mailto:benziane.assia at hotmail.com>> wrote:

Hello gecode users,

I've a constraint satisfaction problem that i want to optimize. My idea is to implment it on Gecode. I read closely the document "Modeling and Programming with Gecode<http://www.gecode.org/doc-latest/MPG.pdf>", but i did not found anything related to use the MAX-SAT on Gecode straight. My question is if it is possible to implment a  MAX-SAT problem on Gecode.

Cordially,
---
Assia
_______________________________________________
Gecode users mailing list
users at gecode.org<mailto:users at gecode.org>
https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161022/2635253d/attachment.html>

From cschulte at kth.se  Sun Oct 23 12:48:46 2016
From: cschulte at kth.se (Christian Schulte)
Date: Sun, 23 Oct 2016 12:48:46 +0200
Subject: [gecode-users] MAX-SAT problem
In-Reply-To: <VI1PR10MB0701DA3513DFB3FBE0E3FFF498D40@VI1PR10MB0701.EURPRD10.PROD.OUTLOOK.COM>
References: <VI1PR10MB0701DA3513DFB3FBE0E3FFF498D40@VI1PR10MB0701.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <005b01d22d1b$09e364b0$1daa2e10$@kth.se>

No, Gecode does not support Max SAT directly. Best Christian

 

--

Christian Schulte,  <http://www.gecode.org/~schulte> www.gecode.org/~schulte

Professor of Computer Science, KTH,  <mailto:cschulte at kth.se>
cschulte at kth.se

Expert Researcher, SICS, cschulte at sics.se

 

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf
Of Assia benziane
Sent: Friday, October 21, 2016 21:03
To: users at gecode.org
Subject: [gecode-users] MAX-SAT problem

 

Hello gecode users,

 

I've a constraint satisfaction problem that i want to optimize. My idea is
to implment it on Gecode. I read closely the document "Modeling and
Programming with Gecode <http://www.gecode.org/doc-latest/MPG.pdf> ", but i
did not found anything related to use the MAX-SAT on Gecode straight. My
question is if it is possible to implment a  MAX-SAT problem on Gecode. 

 

Cordially,

---

Assia

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161023/09ca38b2/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4599 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20161023/09ca38b2/attachment.bin>

From cschulte at kth.se  Sun Oct 23 12:50:53 2016
From: cschulte at kth.se (Christian Schulte)
Date: Sun, 23 Oct 2016 12:50:53 +0200
Subject: [gecode-users] Verbose output to trace propagation
In-Reply-To: <682caaa4-c69e-cf43-037c-3cc85534a33f@math.uni-goettingen.de>
References: <f8a1e6d0-b301-5832-df84-d55e726d115e@math.uni-goettingen.de>
	<682caaa4-c69e-cf43-037c-3cc85534a33f@math.uni-goettingen.de>
Message-ID: <007001d22d1b$54d09b50$fe71d1f0$@kth.se>

Hi Sebastian,

Funnily enough, the upcoming Gecode 5 will have quite extensive support for 
tracing. Gecode 5 should be ready for download anytime soon (the features are 
all there, it is just final release testing).

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, SICS, cschulte at sics.se

-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of 
Sebastian Albert
Sent: Saturday, October 22, 2016 09:41
To: users at gecode.org
Subject: [gecode-users] Verbose output to trace propagation


Hello Gecoders

I am rather new to Gecode, and during my first steps (with Float variables, 
actually), I'd like to see what the propagators are doing (because I don't see 
the float intervals pruned as much as I would have expected). While Gist 
offers great insights into search and branching, I did not find a neat 
facility to trace propagation. I'm using the minimodel, so a way of actually 
seeing the generated expressions, auxiliary variables and their propagators 
might also help.

Is there any option other than spraying "std::cout << foo << bar << std::endl" 
into every other Gecode source code line? Maybe a specialized Space class to 
derive from?

By the way, the links to GMANE are broken. Actually, the search function on 
dir.gmane.org itself is also a dead link. (So sorry for not having "searched" 
the archive...)

Best
Sebastian

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4599 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20161023/21ab5931/attachment.bin>

From miquel.ramirez at gmail.com  Sun Oct 23 22:43:39 2016
From: miquel.ramirez at gmail.com (=?UTF-8?Q?Miquel_Ram=C3=ADrez?=)
Date: Sun, 23 Oct 2016 20:43:39 +0000
Subject: [gecode-users] Verbose output to trace propagation
In-Reply-To: <007001d22d1b$54d09b50$fe71d1f0$@kth.se>
References: <f8a1e6d0-b301-5832-df84-d55e726d115e@math.uni-goettingen.de>
	<682caaa4-c69e-cf43-037c-3cc85534a33f@math.uni-goettingen.de>
	<007001d22d1b$54d09b50$fe71d1f0$@kth.se>
Message-ID: <CACNeJcC6ZQig2t4YbmQaNAEa2YWcLAAcw0RHkFwjk88JKq=kTQ@mail.gmail.com>

Hello everyone,

Long time lurking here, this made me emerge from the depths


>
> Funnily enough, the upcoming Gecode 5 will have quite extensive support for
> tracing. Gecode 5 should be ready for download anytime soon (the features
> are
> all there, it is just final release testing).
>
>
That both Gecode 5 is close to release and that it will feature support for
tracing propagation are great news. Thanks to all involved in that.

Any chance of getting a sneak peek of the changelog? I am curious about
what (if any) changes has been made to the existing support for
floating-point variables and constraints.

Cheers,

Miquel.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161023/7ac563d2/attachment-0001.html>

From cschulte at kth.se  Wed Oct 26 12:27:13 2016
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 26 Oct 2016 12:27:13 +0200
Subject: [gecode-users] Gecode 5.0.0 released
Message-ID: <00d201d22f73$8689fba0$939df2e0$@kth.se>

Dear all,

We are happy to announce that Gecode 5.0.0 has been released on October 25,
2016. Here is an excerpt from the changelog:

This release adds a number of new features and fixes many bugs (some rather
serious), so it is recommended to switch as soon as possible to this
release. Some highlights are: re-added limited discrepancy search (LDS);
added sequential and parallel portfolio-based search (PBS); added support
for groups of propagators and branchers; added extensive tracing
functionality based on groups; propagators can be disabled and re-enabled;
support for arbitrary memory allocators; changed the notion of "integer
consistency level" to the more expressive concept "integer propagation
level".

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, SICS, cschulte at sics.se

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4599 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20161026/7d4d702b/attachment.bin>

From cc.carlo.cap at gmail.com  Thu Oct 27 09:00:01 2016
From: cc.carlo.cap at gmail.com (Carlo Capelli)
Date: Thu, 27 Oct 2016 09:00:01 +0200
Subject: [gecode-users] Gecode 5.0.0 released
In-Reply-To: <00d201d22f73$8689fba0$939df2e0$@kth.se>
References: <00d201d22f73$8689fba0$939df2e0$@kth.se>
Message-ID: <CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>

Dear Christian

Thanks so much for this release.

I'm here just to note 2 small glitches about Qt5 integration (at least, the
current 5.7 version):

- when building, the default toolset (configure && make) should probably be
extended to handle C++11.
I just patched Makefile.in, adding CXXUSR=-std=c++11 at line 71, but surely
there will be a proper way instead of hardcoding the option.
Probably CMake already solves this detail, but I have not tested it.

- in MPG Digia should substitute Nokia

Best regards, Carlo


2016-10-26 12:27 GMT+02:00 Christian Schulte <cschulte at kth.se>:

> Dear all,
>
> We are happy to announce that Gecode 5.0.0 has been released on October 25,
> 2016. Here is an excerpt from the changelog:
>
> This release adds a number of new features and fixes many bugs (some rather
> serious), so it is recommended to switch as soon as possible to this
> release. Some highlights are: re-added limited discrepancy search (LDS);
> added sequential and parallel portfolio-based search (PBS); added support
> for groups of propagators and branchers; added extensive tracing
> functionality based on groups; propagators can be disabled and re-enabled;
> support for arbitrary memory allocators; changed the notion of "integer
> consistency level" to the more expressive concept "integer propagation
> level".
>
> Cheers
> Christian
>
> --
> Christian Schulte, www.gecode.org/~schulte
> Professor of Computer Science, KTH, cschulte at kth.se
> Expert Researcher, SICS, cschulte at sics.se
>
>
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161027/3e7ea6dc/attachment.html>

From cschulte at kth.se  Thu Oct 27 10:07:15 2016
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 27 Oct 2016 10:07:15 +0200
Subject: [gecode-users] Gecode 5.0.0 released
In-Reply-To: <CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>
References: <00d201d22f73$8689fba0$939df2e0$@kth.se>
	<CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>
Message-ID: <00da01d23029$214be4e0$63e3aea0$@kth.se>

Hi Carlo,



Thanks. Which platform are we talking?



Cheers

Christian



--

Christian Schulte, www.gecode.org/~schulte

Professor of Computer Science, KTH,  <mailto:cschulte at kth.se> cschulte at kth.se

Expert Researcher, SICS,  <mailto:cschulte at sics.se> cschulte at sics.se



From: Carlo Capelli [mailto:cc.carlo.cap at gmail.com]
Sent: Thursday, October 27, 2016 09:00
To: cschulte at kth.se
Cc: announce at gecode.org; Gecode
Subject: Re: [gecode-users] Gecode 5.0.0 released



Dear Christian


Thanks so much for this release.


I'm here just to note 2 small glitches about Qt5 integration (at least, the 
current 5.7 version):

- when building, the default toolset (configure && make) should probably be 
extended to handle C++11.
I just patched Makefile.in, adding CXXUSR=-std=c++11 at line 71, but surely 
there will be a proper way instead of hardcoding the option.
Probably CMake already solves this detail, but I have not tested it.

- in MPG Digia should substitute Nokia

Best regards, Carlo





2016-10-26 12:27 GMT+02:00 Christian Schulte <cschulte at kth.se>:

Dear all,

We are happy to announce that Gecode 5.0.0 has been released on October 25,
2016. Here is an excerpt from the changelog:

This release adds a number of new features and fixes many bugs (some rather
serious), so it is recommended to switch as soon as possible to this
release. Some highlights are: re-added limited discrepancy search (LDS);
added sequential and parallel portfolio-based search (PBS); added support
for groups of propagators and branchers; added extensive tracing
functionality based on groups; propagators can be disabled and re-enabled;
support for arbitrary memory allocators; changed the notion of "integer
consistency level" to the more expressive concept "integer propagation
level".

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, SICS, cschulte at sics.se


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161027/a5e18be2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4623 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20161027/a5e18be2/attachment-0001.bin>

From cschulte at kth.se  Thu Oct 27 14:55:11 2016
From: cschulte at kth.se (Christian Schulte)
Date: Thu, 27 Oct 2016 14:55:11 +0200
Subject: [gecode-users] Gecode 5.0.0 released
In-Reply-To: <CABty9wwA56BnDtMYxaC36K2x3mgRrpZBSbgt_36jHkyAEZjNqA@mail.gmail.com>
References: <00d201d22f73$8689fba0$939df2e0$@kth.se>
	<CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>
	<00da01d23029$214be4e0$63e3aea0$@kth.se>
	<CABty9wwA56BnDtMYxaC36K2x3mgRrpZBSbgt_36jHkyAEZjNqA@mail.gmail.com>
Message-ID: <02ef01d23051$5b1e91e0$115bb5a0$@kth.se>

Alright, I see. I leave that to Guido as I am using Windows. Cheers Christian



--

Christian Schulte, www.gecode.org/~schulte

Professor of Computer Science, KTH,  <mailto:cschulte at kth.se> cschulte at kth.se

Expert Researcher, SICS,  <mailto:cschulte at sics.se> cschulte at sics.se



From: Carlo Capelli [mailto:cc.carlo.cap at gmail.com]
Sent: Thursday, October 27, 2016 10:56
To: cschulte at kth.se
Subject: Re: [gecode-users] Gecode 5.0.0 released



Hi Christian


sorry, I forgot...

Ubuntu 16.04



2016-10-27 10:07 GMT+02:00 Christian Schulte <cschulte at kth.se>:

Hi Carlo,



Thanks. Which platform are we talking?



Cheers

Christian



--

Christian Schulte, www.gecode.org/~schulte

Professor of Computer Science, KTH, cschulte at kth.se

Expert Researcher, SICS, cschulte at sics.se



From: Carlo Capelli [mailto:cc.carlo.cap at gmail.com]
Sent: Thursday, October 27, 2016 09:00
To: cschulte at kth.se
Cc: announce at gecode.org; Gecode
Subject: Re: [gecode-users] Gecode 5.0.0 released



Dear Christian


Thanks so much for this release.


I'm here just to note 2 small glitches about Qt5 integration (at least, the 
current 5.7 version):

- when building, the default toolset (configure && make) should probably be 
extended to handle C++11.
I just patched Makefile.in, adding CXXUSR=-std=c++11 at line 71, but surely 
there will be a proper way instead of hardcoding the option.
Probably CMake already solves this detail, but I have not tested it.

- in MPG Digia should substitute Nokia

Best regards, Carlo





2016-10-26 12:27 GMT+02:00 Christian Schulte <cschulte at kth.se>:

Dear all,

We are happy to announce that Gecode 5.0.0 has been released on October 25,
2016. Here is an excerpt from the changelog:

This release adds a number of new features and fixes many bugs (some rather
serious), so it is recommended to switch as soon as possible to this
release. Some highlights are: re-added limited discrepancy search (LDS);
added sequential and parallel portfolio-based search (PBS); added support
for groups of propagators and branchers; added extensive tracing
functionality based on groups; propagators can be disabled and re-enabled;
support for arbitrary memory allocators; changed the notion of "integer
consistency level" to the more expressive concept "integer propagation
level".

Cheers
Christian

--
Christian Schulte, www.gecode.org/~schulte
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, SICS, cschulte at sics.se


_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161027/346065b4/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4623 bytes
Desc: not available
URL: <http://www.gecode.org/pipermail/users/attachments/20161027/346065b4/attachment.bin>

From guido.tack at monash.edu  Fri Oct 28 04:22:13 2016
From: guido.tack at monash.edu (Guido Tack)
Date: Fri, 28 Oct 2016 13:22:13 +1100
Subject: [gecode-users] Gecode 5.0.0 released
In-Reply-To: <CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>
References: <00d201d22f73$8689fba0$939df2e0$@kth.se>
	<CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>
Message-ID: <4961496B-CEAD-4687-8F0D-41A9A2461A1C@monash.edu>

Hi Carlo,

Which version of OS and Xcode are you running?  With macOS 10.12 and Xcode 8 it looks like C++11 is the default anyway.  For older versions you may indeed have to specify additional compilation flags, but you don?t need to patch the Makefile, just add CXXUSR=-std=c++11 when you call make.  Note that you can still specify --with-macosx-version-min=10.9 or something similar when running configure to generate code that is backwards compatible.

Cheers,
Guido

-- 
GUIDO TACK                  
Senior Lecturer

Information Technology
Monash University
Level 6, Room 6.40, Building H, Caulfield Campus
900 Dandenong Road
Caulfield East VIC 3145
Australia

T: +61 3 9903 1214                      
E: guido.tack at monash.edu <mailto:guido.tack at monash.edu>
http://www.csse.monash.edu/~guidot/ <http://www.csse.monash.edu/~guidot/>


> On 27 Oct. 2016, at 6:00 pm, Carlo Capelli <cc.carlo.cap at gmail.com> wrote:
> 
> Dear Christian
> 
> Thanks so much for this release.
> 
> I'm here just to note 2 small glitches about Qt5 integration (at least, the current 5.7 version):
> 
> - when building, the default toolset (configure && make) should probably be extended to handle C++11.
> I just patched Makefile.in, adding CXXUSR=-std=c++11 at line 71, but surely there will be a proper way instead of hardcoding the option.
> Probably CMake already solves this detail, but I have not tested it.
> 
> - in MPG Digia should substitute Nokia
> 
> Best regards, Carlo
> 
> 
> 2016-10-26 12:27 GMT+02:00 Christian Schulte <cschulte at kth.se <mailto:cschulte at kth.se>>:
> Dear all,
> 
> We are happy to announce that Gecode 5.0.0 has been released on October 25,
> 2016. Here is an excerpt from the changelog:
> 
> This release adds a number of new features and fixes many bugs (some rather
> serious), so it is recommended to switch as soon as possible to this
> release. Some highlights are: re-added limited discrepancy search (LDS);
> added sequential and parallel portfolio-based search (PBS); added support
> for groups of propagators and branchers; added extensive tracing
> functionality based on groups; propagators can be disabled and re-enabled;
> support for arbitrary memory allocators; changed the notion of "integer
> consistency level" to the more expressive concept "integer propagation
> level".
> 
> Cheers
> Christian
> 
> --
> Christian Schulte, www.gecode.org/~schulte <http://www.gecode.org/~schulte>
> Professor of Computer Science, KTH, cschulte at kth.se <mailto:cschulte at kth.se>
> Expert Researcher, SICS, cschulte at sics.se <mailto:cschulte at sics.se>
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org <mailto:users at gecode.org>
> https://www.gecode.org/mailman/listinfo/gecode-users <https://www.gecode.org/mailman/listinfo/gecode-users>
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161028/f472070f/attachment-0001.html>

From guido.tack at monash.edu  Fri Oct 28 06:27:32 2016
From: guido.tack at monash.edu (Guido Tack)
Date: Fri, 28 Oct 2016 15:27:32 +1100
Subject: [gecode-users] Gecode 5.0.0 released
In-Reply-To: <CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>
References: <00d201d22f73$8689fba0$939df2e0$@kth.se>
	<CABty9wzif+kVhzJ3CqAhLgsU72Uj9RJnrgG2ooLi8w-67woskw@mail.gmail.com>
Message-ID: <E05286E3-1C78-49D6-9917-E27E217ED7A0@monash.edu>

Hi Carlo,

no idea why I assumed you were using Mac OS, sorry about that!  I?ll add the switch to the default options (possibly with a configure switch to turn it off for older compilers).  For the time being you can simply pass CXXUSR=-std=c++11 when you invoke make instead of patching the Makefile.

Cheers,
Guido

-- 
GUIDO TACK                  
Senior Lecturer

Information Technology
Monash University
Level 6, Room 6.40, Building H, Caulfield Campus
900 Dandenong Road
Caulfield East VIC 3145
Australia

T: +61 3 9903 1214                      
E: guido.tack at monash.edu <mailto:guido.tack at monash.edu>
http://www.csse.monash.edu/~guidot/ <http://www.csse.monash.edu/~guidot/>


> On 27 Oct. 2016, at 6:00 pm, Carlo Capelli <cc.carlo.cap at gmail.com> wrote:
> 
> Dear Christian
> 
> Thanks so much for this release.
> 
> I'm here just to note 2 small glitches about Qt5 integration (at least, the current 5.7 version):
> 
> - when building, the default toolset (configure && make) should probably be extended to handle C++11.
> I just patched Makefile.in, adding CXXUSR=-std=c++11 at line 71, but surely there will be a proper way instead of hardcoding the option.
> Probably CMake already solves this detail, but I have not tested it.
> 
> - in MPG Digia should substitute Nokia
> 
> Best regards, Carlo
> 
> 
> 2016-10-26 12:27 GMT+02:00 Christian Schulte <cschulte at kth.se <mailto:cschulte at kth.se>>:
> Dear all,
> 
> We are happy to announce that Gecode 5.0.0 has been released on October 25,
> 2016. Here is an excerpt from the changelog:
> 
> This release adds a number of new features and fixes many bugs (some rather
> serious), so it is recommended to switch as soon as possible to this
> release. Some highlights are: re-added limited discrepancy search (LDS);
> added sequential and parallel portfolio-based search (PBS); added support
> for groups of propagators and branchers; added extensive tracing
> functionality based on groups; propagators can be disabled and re-enabled;
> support for arbitrary memory allocators; changed the notion of "integer
> consistency level" to the more expressive concept "integer propagation
> level".
> 
> Cheers
> Christian
> 
> --
> Christian Schulte, www.gecode.org/~schulte <http://www.gecode.org/~schulte>
> Professor of Computer Science, KTH, cschulte at kth.se <mailto:cschulte at kth.se>
> Expert Researcher, SICS, cschulte at sics.se <mailto:cschulte at sics.se>
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org <mailto:users at gecode.org>
> https://www.gecode.org/mailman/listinfo/gecode-users <https://www.gecode.org/mailman/listinfo/gecode-users>
> 
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20161028/aef740f6/attachment.html>

