From guido.tack at monash.edu  Tue Mar  6 11:19:00 2018
From: guido.tack at monash.edu (Guido Tack)
Date: Tue, 6 Mar 2018 21:19:00 +1100
Subject: [gecode-users] Gecode 6.6.0 released
Message-ID: <CAB6SYshGNVDdmdGpqpGApQX75Pu-=cpjrwkrK7nAMA+RB6Ne0Q@mail.gmail.com>

Dear Gecode users,

We are happy to announce the release of Gecode's next major version 6.0.0!

This major release fixes many bugs, adds quite some new functionality, and
changes how cloning works (most likely the biggest change we ever did to
Gecode): the Boolean share argument is not any longer needed (see how to
change your programs in How to Change to Gecode 6.0.0
<http://www.gecode.org/doc-latest/reference/PageHowToChange__6.html>). The
added functionality includes experimental support for the CPProfiler,
classes for lexicographic optimization (where the cost is defined by an
array of variables), a new much faster implementation of extensional
constraints using tuple sets, and support for tracing search engines.

The full change log is available at http://www.gecode.org/changes.html.

The Gecode source code and binary packages are now hosted on GitHub
<https://github.com/Gecode/gecode>, and we will use GitHub's issue tracker
to keep on top of bug reports and feature requests from now on. And of
course we are looking forward to your pull requests!

Cheers,
Guido
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20180306/5e02dc24/attachment.html>

From NeillClift at live.com  Sat Mar 10 20:36:59 2018
From: NeillClift at live.com (Neill Clift)
Date: Sat, 10 Mar 2018 19:36:59 +0000
Subject: [gecode-users] Extra level of variables needed for count?
Message-ID: <DM5PR15MB12425A4A1C7664CFBD99B9C5B5DD0@DM5PR15MB1242.namprd15.prod.outlook.com>

Hi,
I want to restrict the values of an array to members of a multiset. This is a bit like distinct but can have repeated values.
So for example I want the values of b[0..7] to come from the multiset {5,5,5,4,3,2,1,0}. The b?s are essentially a permutation of the multiset
Count seems to be the way to achieve this but I have to add a whole new set of variables (the v?s below) that contain the counts of the multiplicities.
I cut out a bunch of stuff that?s not relevant to the code below so I hope it still makes  sense.
bp.MaxBit is the number of distinct values in the multiset. And bp.Bits[i] is the multiplicity for the multiset value i.
Is this the expected way to do what I am trying to do here?
Thanks.
Neill.

public:
                IntVarArray b;

public:
                PartialOrderSort(LPTYPER n, BIT_PATTERN &bp, LPTYPER TopIndex) :
                                b(*this, n, 0, TopIndex)
                {
                                IntVarArgs x(n);
                                IntVarArgs c((LPTYPER)bp.MaxBit);
                                for (int i = 0; i < n; i++) {
                                                x[i] = b[i];
                                }
                                IntVarArray v(*this, (LPTYPER)bp.MaxBit, 0, n - 1);
                                for (int i = 0; i < bp.MaxBit; i++) {
                                                c[i] = v[i];
                                                rel(*this, v[i] == (LPTYPER)bp.Bits[i]);
                                }

                                count(*this, x, c, IPL_DOM);


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20180310/ebae7fc6/attachment.html>

From cschulte at kth.se  Mon Mar 12 10:31:26 2018
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 12 Mar 2018 09:31:26 +0000
Subject: [gecode-users] Extra level of variables needed for count?
In-Reply-To: <DM5PR15MB12425A4A1C7664CFBD99B9C5B5DD0@DM5PR15MB1242.namprd15.prod.outlook.com>
References: <DM5PR15MB12425A4A1C7664CFBD99B9C5B5DD0@DM5PR15MB1242.namprd15.prod.outlook.com>
Message-ID: <657a53451f93492887e4312dd50505e3@exdb01.ug.kth.se>

Hi,

I think you stopped reading a little too early. MPG says that you can also use integer sets instead of variables.

Then, in your example you do not need x and c, just pass b and v directly! IntVarArray is automatically casted to IntVarArgs.

Cheers
Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Neill Clift
Sent: Saturday, March 10, 2018 20:37
To: users at gecode.org
Subject: [gecode-users] Extra level of variables needed for count?

Hi,
I want to restrict the values of an array to members of a multiset. This is a bit like distinct but can have repeated values.
So for example I want the values of b[0..7] to come from the multiset {5,5,5,4,3,2,1,0}. The b's are essentially a permutation of the multiset
Count seems to be the way to achieve this but I have to add a whole new set of variables (the v's below) that contain the counts of the multiplicities.
I cut out a bunch of stuff that's not relevant to the code below so I hope it still makes  sense.
bp.MaxBit is the number of distinct values in the multiset. And bp.Bits[i] is the multiplicity for the multiset value i.
Is this the expected way to do what I am trying to do here?
Thanks.
Neill.

public:
                IntVarArray b;

public:
                PartialOrderSort(LPTYPER n, BIT_PATTERN &bp, LPTYPER TopIndex) :
                                b(*this, n, 0, TopIndex)
                {
                                IntVarArgs x(n);
                                IntVarArgs c((LPTYPER)bp.MaxBit);
                                for (int i = 0; i < n; i++) {
                                                x[i] = b[i];
                                }
                                IntVarArray v(*this, (LPTYPER)bp.MaxBit, 0, n - 1);
                                for (int i = 0; i < bp.MaxBit; i++) {
                                                c[i] = v[i];
                                                rel(*this, v[i] == (LPTYPER)bp.Bits[i]);
                                }

                                count(*this, x, c, IPL_DOM);


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20180312/d835c114/attachment.html>

From NeillClift at live.com  Mon Mar 12 17:29:30 2018
From: NeillClift at live.com (Neill Clift)
Date: Mon, 12 Mar 2018 16:29:30 +0000
Subject: [gecode-users] Extra level of variables needed for count?
In-Reply-To: <657a53451f93492887e4312dd50505e3@exdb01.ug.kth.se>
References: <DM5PR15MB12425A4A1C7664CFBD99B9C5B5DD0@DM5PR15MB1242.namprd15.prod.outlook.com>,
	<657a53451f93492887e4312dd50505e3@exdb01.ug.kth.se>
Message-ID: <CY4PR15MB1239C4B9BC1635249543DBD7B5D30@CY4PR15MB1239.namprd15.prod.outlook.com>

OK thanks for that. This makes the code simpler but I do still have to make a set of variables to contain the multiplicities (the v?s).
Of course they immediately become assigned to a single value. Would it be right in assuming the cost of that on the model is very small?

Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Christian Schulte <cschulte at kth.se>
Sent: Monday, March 12, 2018 2:31:26 AM
To: Neill Clift; users at gecode.org
Subject: RE: Extra level of variables needed for count?

Hi,

I think you stopped reading a little too early. MPG says that you can also use integer sets instead of variables.

Then, in your example you do not need x and c, just pass b and v directly! IntVarArray is automatically casted to IntVarArgs.

Cheers
Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of Neill Clift
Sent: Saturday, March 10, 2018 20:37
To: users at gecode.org
Subject: [gecode-users] Extra level of variables needed for count?

Hi,
I want to restrict the values of an array to members of a multiset. This is a bit like distinct but can have repeated values.
So for example I want the values of b[0..7] to come from the multiset {5,5,5,4,3,2,1,0}. The b?s are essentially a permutation of the multiset
Count seems to be the way to achieve this but I have to add a whole new set of variables (the v?s below) that contain the counts of the multiplicities.
I cut out a bunch of stuff that?s not relevant to the code below so I hope it still makes  sense.
bp.MaxBit is the number of distinct values in the multiset. And bp.Bits[i] is the multiplicity for the multiset value i.
Is this the expected way to do what I am trying to do here?
Thanks.
Neill.

public:
                IntVarArray b;

public:
                PartialOrderSort(LPTYPER n, BIT_PATTERN &bp, LPTYPER TopIndex) :
                                b(*this, n, 0, TopIndex)
                {
                                IntVarArgs x(n);
                                IntVarArgs c((LPTYPER)bp.MaxBit);
                                for (int i = 0; i < n; i++) {
                                                x[i] = b[i];
                                }
                                IntVarArray v(*this, (LPTYPER)bp.MaxBit, 0, n - 1);
                                for (int i = 0; i < bp.MaxBit; i++) {
                                                c[i] = v[i];
                                                rel(*this, v[i] == (LPTYPER)bp.Bits[i]);
                                }

                                count(*this, x, c, IPL_DOM);


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20180312/89ee66c2/attachment.html>

From cschulte at kth.se  Mon Mar 12 17:31:36 2018
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 12 Mar 2018 16:31:36 +0000
Subject: [gecode-users] Extra level of variables needed for count?
In-Reply-To: <CY4PR15MB1239C4B9BC1635249543DBD7B5D30@CY4PR15MB1239.namprd15.prod.outlook.com>
References: <DM5PR15MB12425A4A1C7664CFBD99B9C5B5DD0@DM5PR15MB1242.namprd15.prod.outlook.com>,
	<657a53451f93492887e4312dd50505e3@exdb01.ug.kth.se>
	<CY4PR15MB1239C4B9BC1635249543DBD7B5D30@CY4PR15MB1239.namprd15.prod.outlook.com>
Message-ID: <db448551deef462c86f4a325075b5f50@exdb01.ug.kth.se>

No, the point is to not use variables, you can use sets with a single element instead. Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: Neill Clift [mailto:NeillClift at live.com]
Sent: Monday, March 12, 2018 17:30
To: Christian Schulte <cschulte at kth.se>; users at gecode.org
Subject: RE: Extra level of variables needed for count?

OK thanks for that. This makes the code simpler but I do still have to make a set of variables to contain the multiplicities (the v's).
Of course they immediately become assigned to a single value. Would it be right in assuming the cost of that on the model is very small?

Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Christian Schulte <cschulte at kth.se<mailto:cschulte at kth.se>>
Sent: Monday, March 12, 2018 2:31:26 AM
To: Neill Clift; users at gecode.org<mailto:users at gecode.org>
Subject: RE: Extra level of variables needed for count?

Hi,

I think you stopped reading a little too early. MPG says that you can also use integer sets instead of variables.

Then, in your example you do not need x and c, just pass b and v directly! IntVarArray is automatically casted to IntVarArgs.

Cheers
Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: users-bounces at gecode.org<mailto:users-bounces at gecode.org> [mailto:users-bounces at gecode.org] On Behalf Of Neill Clift
Sent: Saturday, March 10, 2018 20:37
To: users at gecode.org<mailto:users at gecode.org>
Subject: [gecode-users] Extra level of variables needed for count?

Hi,
I want to restrict the values of an array to members of a multiset. This is a bit like distinct but can have repeated values.
So for example I want the values of b[0..7] to come from the multiset {5,5,5,4,3,2,1,0}. The b's are essentially a permutation of the multiset
Count seems to be the way to achieve this but I have to add a whole new set of variables (the v's below) that contain the counts of the multiplicities.
I cut out a bunch of stuff that's not relevant to the code below so I hope it still makes  sense.
bp.MaxBit is the number of distinct values in the multiset. And bp.Bits[i] is the multiplicity for the multiset value i.
Is this the expected way to do what I am trying to do here?
Thanks.
Neill.

public:
                IntVarArray b;

public:
                PartialOrderSort(LPTYPER n, BIT_PATTERN &bp, LPTYPER TopIndex) :
                                b(*this, n, 0, TopIndex)
                {
                                IntVarArgs x(n);
                                IntVarArgs c((LPTYPER)bp.MaxBit);
                                for (int i = 0; i < n; i++) {
                                                x[i] = b[i];
                                }
                                IntVarArray v(*this, (LPTYPER)bp.MaxBit, 0, n - 1);
                                for (int i = 0; i < bp.MaxBit; i++) {
                                                c[i] = v[i];
                                                rel(*this, v[i] == (LPTYPER)bp.Bits[i]);
                                }

                                count(*this, x, c, IPL_DOM);


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20180312/b35ae6f8/attachment-0001.html>

From NeillClift at live.com  Mon Mar 12 18:27:33 2018
From: NeillClift at live.com (Neill Clift)
Date: Mon, 12 Mar 2018 17:27:33 +0000
Subject: [gecode-users] Extra level of variables needed for count?
In-Reply-To: <db448551deef462c86f4a325075b5f50@exdb01.ug.kth.se>
References: <DM5PR15MB12425A4A1C7664CFBD99B9C5B5DD0@DM5PR15MB1242.namprd15.prod.outlook.com>,
	<657a53451f93492887e4312dd50505e3@exdb01.ug.kth.se>
	<CY4PR15MB1239C4B9BC1635249543DBD7B5D30@CY4PR15MB1239.namprd15.prod.outlook.com>,
	<db448551deef462c86f4a325075b5f50@exdb01.ug.kth.se>
Message-ID: <CY4PR15MB1239FA3EDA46315CEDEC6DCEB5D30@CY4PR15MB1239.namprd15.prod.outlook.com>

Thanks.
I think I might now be seeing what you are saying. Sorry to be so stupid. I found this count stuff to be mind boggling.

                                IntSetArgs s((LPTYPER)bp.MaxBit);
                                for (LPTYPER i = 0; i < (LPTYPER)bp.MaxBit; i++) {
                                                s[i] = IntSet((LPTYPER)bp.Bits[i], (LPTYPER)bp.Bits[i]);
                                }
                                count(*this, b, s, IPL_DOM);

I guess I was feeling I was using an overly more general mechanism with variables for counts when I have constants for counts. With the sets I am still using something which allows much more general situations but since it?s constants it might be optimized away.
So I assume this would be the recommended way to code this?
Neill.

Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Christian Schulte <cschulte at kth.se>
Sent: Monday, March 12, 2018 9:31:36 AM
To: Neill Clift; users at gecode.org
Subject: RE: Extra level of variables needed for count?

No, the point is to not use variables, you can use sets with a single element instead. Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: Neill Clift [mailto:NeillClift at live.com]
Sent: Monday, March 12, 2018 17:30
To: Christian Schulte <cschulte at kth.se>; users at gecode.org
Subject: RE: Extra level of variables needed for count?

OK thanks for that. This makes the code simpler but I do still have to make a set of variables to contain the multiplicities (the v?s).
Of course they immediately become assigned to a single value. Would it be right in assuming the cost of that on the model is very small?

Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Christian Schulte <cschulte at kth.se<mailto:cschulte at kth.se>>
Sent: Monday, March 12, 2018 2:31:26 AM
To: Neill Clift; users at gecode.org<mailto:users at gecode.org>
Subject: RE: Extra level of variables needed for count?

Hi,

I think you stopped reading a little too early. MPG says that you can also use integer sets instead of variables.

Then, in your example you do not need x and c, just pass b and v directly! IntVarArray is automatically casted to IntVarArgs.

Cheers
Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: users-bounces at gecode.org<mailto:users-bounces at gecode.org> [mailto:users-bounces at gecode.org] On Behalf Of Neill Clift
Sent: Saturday, March 10, 2018 20:37
To: users at gecode.org<mailto:users at gecode.org>
Subject: [gecode-users] Extra level of variables needed for count?

Hi,
I want to restrict the values of an array to members of a multiset. This is a bit like distinct but can have repeated values.
So for example I want the values of b[0..7] to come from the multiset {5,5,5,4,3,2,1,0}. The b?s are essentially a permutation of the multiset
Count seems to be the way to achieve this but I have to add a whole new set of variables (the v?s below) that contain the counts of the multiplicities.
I cut out a bunch of stuff that?s not relevant to the code below so I hope it still makes  sense.
bp.MaxBit is the number of distinct values in the multiset. And bp.Bits[i] is the multiplicity for the multiset value i.
Is this the expected way to do what I am trying to do here?
Thanks.
Neill.

public:
                IntVarArray b;

public:
                PartialOrderSort(LPTYPER n, BIT_PATTERN &bp, LPTYPER TopIndex) :
                                b(*this, n, 0, TopIndex)
                {
                                IntVarArgs x(n);
                                IntVarArgs c((LPTYPER)bp.MaxBit);
                                for (int i = 0; i < n; i++) {
                                                x[i] = b[i];
                                }
                                IntVarArray v(*this, (LPTYPER)bp.MaxBit, 0, n - 1);
                                for (int i = 0; i < bp.MaxBit; i++) {
                                                c[i] = v[i];
                                                rel(*this, v[i] == (LPTYPER)bp.Bits[i]);
                                }

                                count(*this, x, c, IPL_DOM);


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20180312/f4efbbb7/attachment.html>

From cschulte at kth.se  Mon Mar 12 20:43:38 2018
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 12 Mar 2018 19:43:38 +0000
Subject: [gecode-users] Extra level of variables needed for count?
In-Reply-To: <CY4PR15MB1239FA3EDA46315CEDEC6DCEB5D30@CY4PR15MB1239.namprd15.prod.outlook.com>
References: <DM5PR15MB12425A4A1C7664CFBD99B9C5B5DD0@DM5PR15MB1242.namprd15.prod.outlook.com>,
	<657a53451f93492887e4312dd50505e3@exdb01.ug.kth.se>
	<CY4PR15MB1239C4B9BC1635249543DBD7B5D30@CY4PR15MB1239.namprd15.prod.outlook.com>,
	<db448551deef462c86f4a325075b5f50@exdb01.ug.kth.se>
	<CY4PR15MB1239FA3EDA46315CEDEC6DCEB5D30@CY4PR15MB1239.namprd15.prod.outlook.com>
Message-ID: <9064918d5e134150a847f164a87bb3a6@exdb01.ug.kth.se>

Yep, that looks good. Gecode will choose the most efficient representation anyway at runtime. Cheers Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: Neill Clift <NeillClift at live.com>
Sent: 12 March 2018 18:28
To: Christian Schulte <cschulte at kth.se>; users at gecode.org
Subject: RE: Extra level of variables needed for count?

Thanks.
I think I might now be seeing what you are saying. Sorry to be so stupid. I found this count stuff to be mind boggling.

                                IntSetArgs s((LPTYPER)bp.MaxBit);
                                for (LPTYPER i = 0; i < (LPTYPER)bp.MaxBit; i++) {
                                                s[i] = IntSet((LPTYPER)bp.Bits[i], (LPTYPER)bp.Bits[i]);
                                }
                                count(*this, b, s, IPL_DOM);

I guess I was feeling I was using an overly more general mechanism with variables for counts when I have constants for counts. With the sets I am still using something which allows much more general situations but since it?s constants it might be optimized away.
So I assume this would be the recommended way to code this?
Neill.

Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Christian Schulte <cschulte at kth.se<mailto:cschulte at kth.se>>
Sent: Monday, March 12, 2018 9:31:36 AM
To: Neill Clift; users at gecode.org<mailto:users at gecode.org>
Subject: RE: Extra level of variables needed for count?

No, the point is to not use variables, you can use sets with a single element instead. Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: Neill Clift [mailto:NeillClift at live.com]
Sent: Monday, March 12, 2018 17:30
To: Christian Schulte <cschulte at kth.se<mailto:cschulte at kth.se>>; users at gecode.org<mailto:users at gecode.org>
Subject: RE: Extra level of variables needed for count?

OK thanks for that. This makes the code simpler but I do still have to make a set of variables to contain the multiplicities (the v?s).
Of course they immediately become assigned to a single value. Would it be right in assuming the cost of that on the model is very small?

Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

________________________________
From: Christian Schulte <cschulte at kth.se<mailto:cschulte at kth.se>>
Sent: Monday, March 12, 2018 2:31:26 AM
To: Neill Clift; users at gecode.org<mailto:users at gecode.org>
Subject: RE: Extra level of variables needed for count?

Hi,

I think you stopped reading a little too early. MPG says that you can also use integer sets instead of variables.

Then, in your example you do not need x and c, just pass b and v directly! IntVarArray is automatically casted to IntVarArgs.

Cheers
Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se<mailto:cschulte at kth.se>
Expert Researcher, RISE SICS, christian.schulte at ri.se<mailto:christian.schulte at ri.se>

From: users-bounces at gecode.org<mailto:users-bounces at gecode.org> [mailto:users-bounces at gecode.org] On Behalf Of Neill Clift
Sent: Saturday, March 10, 2018 20:37
To: users at gecode.org<mailto:users at gecode.org>
Subject: [gecode-users] Extra level of variables needed for count?

Hi,
I want to restrict the values of an array to members of a multiset. This is a bit like distinct but can have repeated values.
So for example I want the values of b[0..7] to come from the multiset {5,5,5,4,3,2,1,0}. The b?s are essentially a permutation of the multiset
Count seems to be the way to achieve this but I have to add a whole new set of variables (the v?s below) that contain the counts of the multiplicities.
I cut out a bunch of stuff that?s not relevant to the code below so I hope it still makes  sense.
bp.MaxBit is the number of distinct values in the multiset. And bp.Bits[i] is the multiplicity for the multiset value i.
Is this the expected way to do what I am trying to do here?
Thanks.
Neill.

public:
                IntVarArray b;

public:
                PartialOrderSort(LPTYPER n, BIT_PATTERN &bp, LPTYPER TopIndex) :
                                b(*this, n, 0, TopIndex)
                {
                                IntVarArgs x(n);
                                IntVarArgs c((LPTYPER)bp.MaxBit);
                                for (int i = 0; i < n; i++) {
                                                x[i] = b[i];
                                }
                                IntVarArray v(*this, (LPTYPER)bp.MaxBit, 0, n - 1);
                                for (int i = 0; i < bp.MaxBit; i++) {
                                                c[i] = v[i];
                                                rel(*this, v[i] == (LPTYPER)bp.Bits[i]);
                                }

                                count(*this, x, c, IPL_DOM);


Sent from Mail<https://go.microsoft.com/fwlink/?LinkId=550986> for Windows 10

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.gecode.org/pipermail/users/attachments/20180312/99aec6b4/attachment-0001.html>

From aqwzsxaqwzsx at orange.fr  Tue Mar 13 15:01:42 2018
From: aqwzsxaqwzsx at orange.fr (aqwzsxaqwzsx at orange.fr)
Date: Tue, 13 Mar 2018 15:01:42 +0100 (CET)
Subject: [gecode-users] BAB implementation
Message-ID: <700320558.7746.1520949702825.JavaMail.www@wwinf1t35>

Hi all,
 
This is maybe a general question about the B&B and the A* algorithm,
But I was wondering what was the advantage, force, weakness of the
Gecode BAB engine over a A*. 

Thanks


From cschulte at kth.se  Tue Mar 13 15:16:50 2018
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 13 Mar 2018 14:16:50 +0000
Subject: [gecode-users] BAB implementation
In-Reply-To: <700320558.7746.1520949702825.JavaMail.www@wwinf1t35>
References: <700320558.7746.1520949702825.JavaMail.www@wwinf1t35>
Message-ID: <4d361ce72530437aa23ae24cea99b0e2@exdb01.ug.kth.se>

Hi, I think you will have to do some reading. Smells like homework to me. Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, RISE SICS, christian.schulte at ri.se


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of aqwzsxaqwzsx at orange.fr
Sent: Tuesday, March 13, 2018 15:02
To: users at gecode.org
Subject: [gecode-users] BAB implementation

Hi all,
 
This is maybe a general question about the B&B and the A* algorithm, But I was wondering what was the advantage, force, weakness of the Gecode BAB engine over a A*. 

Thanks

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


From aqwzsxaqwzsx at orange.fr  Tue Mar 13 16:06:19 2018
From: aqwzsxaqwzsx at orange.fr (aqwzsxaqwzsx at orange.fr)
Date: Tue, 13 Mar 2018 16:06:19 +0100 (CET)
Subject: [gecode-users] BAB implementation
In-Reply-To: <4d361ce72530437aa23ae24cea99b0e2@exdb01.ug.kth.se>
References: <700320558.7746.1520949702825.JavaMail.www@wwinf1t35>
	<4d361ce72530437aa23ae24cea99b0e2@exdb01.ug.kth.se>
Message-ID: <1298078881.9134.1520953579031.JavaMail.www@wwinf2618>

 
Hi,
 
Definitively not a homework. I have to make a technical choice to
solve a planification problem with task/resources/scheduling.
A * will be homogeneous with the rest of the software
but CSP with a BAB engine seems clearly more appropriate to me.
It has been proved in 1984 by Nau/Kumar/Kanal that A* is a special
case of a general BAB formulation and I don't see any reason why
it would not be the case with Gecode, but i was asking some
advice to decide !
Moreover, i will maybe have some questions about coding rules in gecode relative to embedded system. 

Philippe 


----------------
Le 13/03/2018, ? 15:16, "Christian Schulte" <cschulte at kth.se> a ?crit :

Hi, I think you will have to do some reading. Smells like homework to me. Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, RISE SICS, christian.schulte at ri.se


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of aqwzsxaqwzsx at orange.fr
Sent: Tuesday, March 13, 2018 15:02
To: users at gecode.org
Subject: [gecode-users] BAB implementation

Hi all,
 
This is maybe a general question about the B&B and the A* algorithm, But I was wondering what was the advantage, force, weakness of the Gecode BAB engine over a A*. 

Thanks

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


From cschulte at kth.se  Tue Mar 13 16:10:50 2018
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 13 Mar 2018 15:10:50 +0000
Subject: [gecode-users] BAB implementation
In-Reply-To: <1298078881.9134.1520953579031.JavaMail.www@wwinf2618>
References: <700320558.7746.1520949702825.JavaMail.www@wwinf1t35>
	<4d361ce72530437aa23ae24cea99b0e2@exdb01.ug.kth.se>
	<1298078881.9134.1520953579031.JavaMail.www@wwinf2618>
Message-ID: <a40f9f72af4c471b8139aab3f500c87c@exdb01.ug.kth.se>

A* and how BAB works in Gecode is very different. A* is typically based on representing the problem by states and then coming up with the right operators and functions, etc.

Gecode uses constraint programming which has a very different way of modeling problems. That's why I would suggest to really try a little bit of how models with constraint programming look like. If you want to get an idea on a more high-level you could try a modeling language such as MiniZinc:
	http://www.minizinc.org/

Cheers
Christian	

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, RISE SICS, christian.schulte at ri.se


-----Original Message-----
From: aqwzsxaqwzsx at orange.fr [mailto:aqwzsxaqwzsx at orange.fr] 
Sent: Tuesday, March 13, 2018 16:06
To: users at gecode.org; Christian Schulte <cschulte at kth.se>
Subject: RE: RE: [gecode-users] BAB implementation

 
Hi,
 
Definitively not a homework. I have to make a technical choice to solve a planification problem with task/resources/scheduling.
A * will be homogeneous with the rest of the software but CSP with a BAB engine seems clearly more appropriate to me.
It has been proved in 1984 by Nau/Kumar/Kanal that A* is a special case of a general BAB formulation and I don't see any reason why it would not be the case with Gecode, but i was asking some advice to decide !
Moreover, i will maybe have some questions about coding rules in gecode relative to embedded system. 

Philippe 


----------------
Le 13/03/2018, ? 15:16, "Christian Schulte" <cschulte at kth.se> a ?crit :

Hi, I think you will have to do some reading. Smells like homework to me. Christian

--
Christian Schulte, https://chschulte.github.io/ Professor of Computer Science, KTH, cschulte at kth.se Expert Researcher, RISE SICS, christian.schulte at ri.se


-----Original Message-----
From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of aqwzsxaqwzsx at orange.fr
Sent: Tuesday, March 13, 2018 15:02
To: users at gecode.org
Subject: [gecode-users] BAB implementation

Hi all,
 
This is maybe a general question about the B&B and the A* algorithm, But I was wondering what was the advantage, force, weakness of the Gecode BAB engine over a A*. 

Thanks

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

From aqwzsxaqwzsx at orange.fr  Tue Mar 13 19:14:53 2018
From: aqwzsxaqwzsx at orange.fr (aqwzsxaqwzsx)
Date: Tue, 13 Mar 2018 19:14:53 +0100
Subject: [gecode-users] BAB implementation
In-Reply-To: <a40f9f72af4c471b8139aab3f500c87c@exdb01.ug.kth.se>
References: <700320558.7746.1520949702825.JavaMail.www@wwinf1t35>
	<4d361ce72530437aa23ae24cea99b0e2@exdb01.ug.kth.se>
	<1298078881.9134.1520953579031.JavaMail.www@wwinf2618>
	<a40f9f72af4c471b8139aab3f500c87c@exdb01.ug.kth.se>
Message-ID: <88F6A465-BBA7-4AC4-8226-F3818CE9F68C@orange.fr>


I know that A * and CSP are different paradigms. I made several projects with both. Both are also used in the planning / scheduling problem. 
A * is easy to implement, simpler, and the variants are interesting when integrated in real-time systems. 
The CSP (with BAB engine) seems more suitable, but may require more time to be formalized, mapped to an existing solver. 
So, maybe both solutions should be tested and evaluated (development, complexity, maintainability, evolutivity,...)

Thanks,
Philippe 


> Le 13 mars 2018 ? 16:10, Christian Schulte <cschulte at kth.se> a ?crit :
> 
> A* and how BAB works in Gecode is very different. A* is typically based on representing the problem by states and then coming up with the right operators and functions, etc.
> 
> Gecode uses constraint programming which has a very different way of modeling problems. That's why I would suggest to really try a little bit of how models with constraint programming look like. If you want to get an idea on a more high-level you could try a modeling language such as MiniZinc:
>    http://www.minizinc.org/
> 
> Cheers
> Christian    
> 
> --
> Christian Schulte, https://chschulte.github.io/
> Professor of Computer Science, KTH, cschulte at kth.se
> Expert Researcher, RISE SICS, christian.schulte at ri.se
> 
> 
> -----Original Message-----
> From: aqwzsxaqwzsx at orange.fr [mailto:aqwzsxaqwzsx at orange.fr] 
> Sent: Tuesday, March 13, 2018 16:06
> To: users at gecode.org; Christian Schulte <cschulte at kth.se>
> Subject: RE: RE: [gecode-users] BAB implementation
> 
> 
> Hi,
> 
> Definitively not a homework. I have to make a technical choice to solve a planification problem with task/resources/scheduling.
> A * will be homogeneous with the rest of the software but CSP with a BAB engine seems clearly more appropriate to me.
> It has been proved in 1984 by Nau/Kumar/Kanal that A* is a special case of a general BAB formulation and I don't see any reason why it would not be the case with Gecode, but i was asking some advice to decide !
> Moreover, i will maybe have some questions about coding rules in gecode relative to embedded system. 
> 
> Philippe 
> 
> 
> ----------------
> Le 13/03/2018, ? 15:16, "Christian Schulte" <cschulte at kth.se> a ?crit :
> 
> Hi, I think you will have to do some reading. Smells like homework to me. Christian
> 
> --
> Christian Schulte, https://chschulte.github.io/ Professor of Computer Science, KTH, cschulte at kth.se Expert Researcher, RISE SICS, christian.schulte at ri.se
> 
> 
> -----Original Message-----
> From: users-bounces at gecode.org [mailto:users-bounces at gecode.org] On Behalf Of aqwzsxaqwzsx at orange.fr
> Sent: Tuesday, March 13, 2018 15:02
> To: users at gecode.org
> Subject: [gecode-users] BAB implementation
> 
> Hi all,
> 
> This is maybe a general question about the B&B and the A* algorithm, But I was wondering what was the advantage, force, weakness of the Gecode BAB engine over a A*. 
> 
> Thanks
> 
> _______________________________________________
> Gecode users mailing list
> users at gecode.org
> https://www.gecode.org/mailman/listinfo/gecode-users



From aqwzsxaqwzsx at orange.fr  Tue Mar 20 17:19:51 2018
From: aqwzsxaqwzsx at orange.fr (aqwzsxaqwzsx at orange.fr)
Date: Tue, 20 Mar 2018 17:19:51 +0100 (CET)
Subject: [gecode-users] BAB and pruning
Message-ID: <2105503910.11394.1521562791310.JavaMail.www@wwinf2630>

Hi,
 
I have a general question on BAB engine in Gecode.
Suppose I have to affect 4 jobs to 4 persons and i want to minimize
the cost of this affectation (using a MinimizeScript) :
 
cost_matrix :
    J1  J2  J3  J4
--|----------------  
A | 9,  2,  7,  8
B | 6,  4,  3,  7
C | 5,  8,  1,  8
D | 7,  6,  9,  4
 
 
Suppose also that I post these constraints :
(e.g., exactly one person to exactly one job)
 
x(*this, cols*rows, 0, 1)  // array of assignments (as rows x cols)
 
for(int r = 0; r < rows; r++)         
  { linear(*this, x_m.row(r), IRT_EQ, 1); }
 
for(int c = 0; c < cols; c++)           
  { linear(*this, x_m.col(c), IRT_EQ, 1); }
 
linear(*this, cost, x, IRT_EQ, total_cost);
branch(*this, x, INT_VAR_NONE(), INT_VAL_MAX());
               
with x an array of assignments (and x_m its matrix representation)
 
Now, let's make some reasoning :
 
- if I affect J1 to person A, the minimum cost that we can expect is 17
  (9 + 3 + 1 + 4) = 9 + (J3/B) + (J3/C) + (J4/D)
- if I affect J2 to person A, the minimum cost that we can expect is 10
  (2 + 3 + 1 + 4) = 2 + (J3/B) + (J3/C) + (J4/D)
- if I affect J3 to person A, the minimum cost that we can expect is 20
  (7 + 4 + 5 + 4) = 7 + (J2/B) + (J1/C) + (J4/D)
- if I affect J4 to person A, the minimum cost that we can expect is 18
  (8 + 3 + 1 + 6) = 8 + (J3/B) + (J3/C) + (J2/D)
 
However, i see under Gist that for instance, the total cost when exploring
the J1/A alternative is [9..59](lower bound could be 17)
Is it normal that B&B cannot estimate more precisely the lower bound ?
Can we expect that the pruning will be more efficient ?
 
Thank you.  


From cschulte at kth.se  Tue Mar 20 21:26:47 2018
From: cschulte at kth.se (Christian Schulte)
Date: Tue, 20 Mar 2018 20:26:47 +0000
Subject: [gecode-users] BAB and pruning
In-Reply-To: <2105503910.11394.1521562791310.JavaMail.www@wwinf2630>
References: <2105503910.11394.1521562791310.JavaMail.www@wwinf2630>
Message-ID: <e50f8233d8c4436f87244c606224e6be@exdb01.ug.kth.se>

BAB only uses what propagation provides it with. If you want to have better bounds you have to make sure that you have stronger propagation.additional (a

Try to turn your reasoning into additional (known as redundant) constraints, for example.

But ultimately, this mailing list is for questions specific to Gecode not constraint programming in general. So you might want to find a different forum.

Best
Christian



--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, RISE SICS, christian.schulte at ri.se

-----Original Message-----
From: users-bounces at gecode.org <users-bounces at gecode.org> On Behalf Of aqwzsxaqwzsx at orange.fr
Sent: 20 March 2018 17:20
To: users at gecode.org
Subject: [gecode-users] BAB and pruning

Hi,
 
I have a general question on BAB engine in Gecode.
Suppose I have to affect 4 jobs to 4 persons and i want to minimize the cost of this affectation (using a MinimizeScript) :
 
cost_matrix :
    J1  J2  J3  J4
--|----------------
A | 9,  2,  7,  8
B | 6,  4,  3,  7
C | 5,  8,  1,  8
D | 7,  6,  9,  4
 
 
Suppose also that I post these constraints :
(e.g., exactly one person to exactly one job)
 
x(*this, cols*rows, 0, 1)  // array of assignments (as rows x cols)
 
for(int r = 0; r < rows; r++)         
  { linear(*this, x_m.row(r), IRT_EQ, 1); }
 
for(int c = 0; c < cols; c++)           
  { linear(*this, x_m.col(c), IRT_EQ, 1); }
 
linear(*this, cost, x, IRT_EQ, total_cost); branch(*this, x, INT_VAR_NONE(), INT_VAL_MAX());
               
with x an array of assignments (and x_m its matrix representation)
 
Now, let's make some reasoning :
 
- if I affect J1 to person A, the minimum cost that we can expect is 17
  (9 + 3 + 1 + 4) = 9 + (J3/B) + (J3/C) + (J4/D)
- if I affect J2 to person A, the minimum cost that we can expect is 10
  (2 + 3 + 1 + 4) = 2 + (J3/B) + (J3/C) + (J4/D)
- if I affect J3 to person A, the minimum cost that we can expect is 20
  (7 + 4 + 5 + 4) = 7 + (J2/B) + (J1/C) + (J4/D)
- if I affect J4 to person A, the minimum cost that we can expect is 18
  (8 + 3 + 1 + 6) = 8 + (J3/B) + (J3/C) + (J2/D)
 
However, i see under Gist that for instance, the total cost when exploring the J1/A alternative is [9..59](lower bound could be 17) Is it normal that B&B cannot estimate more precisely the lower bound ?
Can we expect that the pruning will be more efficient ?
 
Thank you.  

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

From albert at math.uni-goettingen.de  Wed Mar 21 17:39:31 2018
From: albert at math.uni-goettingen.de (Sebastian Albert)
Date: Wed, 21 Mar 2018 17:39:31 +0100
Subject: [gecode-users] Variable implementations are copied automatically
 during search, right?
Message-ID: <0913c932-ecb1-81dc-a80f-872a051d1140@math.uni-goettingen.de>

Dear Gecode users and maintainers

I was wondering whether I can use auxilliary variables to formulate and
post constraints (i.e., propagators) in my model in the initial
constructor without copying them in the copy constructor (as long as I
don't want to use their values later on and thus do not need them as
member variables in my Space subclass). It seems that this is true and
everything still works correctly. (However, I may need to post
branchings for them, too, depending on how they are used.) Am I right?
So, I conclude that variable implementations are taken care of either by
the Space or indirectly when the propagators/branchers are copying their
views.

Are there any caveats?

Here's a small working example (which is not useful, but a test to
experiment whether I am right):

using namespace Gecode;

class Test : public Space {
protected:
    IntVar a, b;
public:
    Test(void) {
        a = IntVar(*this, 1, 5);
        b = IntVar(*this, 1, 5);
        IntVar a_temp = IntVar(*this, 1, 5);
        IntVar b_temp = IntVar(*this, 1, 5);
        rel(*this, a == a_temp);
        rel(*this, b == b_temp);
        rel(*this, 2 * a_temp == b_temp);
        branch(*this, a, INT_VAL_MED());
        branch(*this, b, INT_VAL_MED());
    }

    void print(void) const {
        std::cout << a << " " << b << std::endl;
    }

    Test(Test& s) : Space(s) {
        a.update(*this, s.a);
        b.update(*this, s.b);
    }

    virtual Space* copy() {
        return new Test(*this);
    }

};

Thanks
Sebastian


From cschulte at kth.se  Wed Mar 21 17:47:15 2018
From: cschulte at kth.se (Christian Schulte)
Date: Wed, 21 Mar 2018 16:47:15 +0000
Subject: [gecode-users] Variable implementations are copied
 automatically during search, right?
In-Reply-To: <0913c932-ecb1-81dc-a80f-872a051d1140@math.uni-goettingen.de>
References: <0913c932-ecb1-81dc-a80f-872a051d1140@math.uni-goettingen.de>
Message-ID: <cc3e7bdd3e9645909257e1068a73c221@exdb01.ug.kth.se>

Yes, that's right. No caveats. It is as you say: you only have to update yourself if you want to use them for your own purposes, the rest the propagator, brancher, etc in question take care of.

Best
Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, RISE SICS, christian.schulte at ri.se


-----Original Message-----
From: users-bounces at gecode.org <users-bounces at gecode.org> On Behalf Of Sebastian Albert
Sent: Wednesday, March 21, 2018 17:40
To: users at gecode.org
Subject: [gecode-users] Variable implementations are copied automatically during search, right?

Dear Gecode users and maintainers

I was wondering whether I can use auxilliary variables to formulate and post constraints (i.e., propagators) in my model in the initial constructor without copying them in the copy constructor (as long as I don't want to use their values later on and thus do not need them as member variables in my Space subclass). It seems that this is true and everything still works correctly. (However, I may need to post branchings for them, too, depending on how they are used.) Am I right?
So, I conclude that variable implementations are taken care of either by the Space or indirectly when the propagators/branchers are copying their views.

Are there any caveats?

Here's a small working example (which is not useful, but a test to experiment whether I am right):

using namespace Gecode;

class Test : public Space {
protected:
    IntVar a, b;
public:
    Test(void) {
        a = IntVar(*this, 1, 5);
        b = IntVar(*this, 1, 5);
        IntVar a_temp = IntVar(*this, 1, 5);
        IntVar b_temp = IntVar(*this, 1, 5);
        rel(*this, a == a_temp);
        rel(*this, b == b_temp);
        rel(*this, 2 * a_temp == b_temp);
        branch(*this, a, INT_VAL_MED());
        branch(*this, b, INT_VAL_MED());
    }

    void print(void) const {
        std::cout << a << " " << b << std::endl;
    }

    Test(Test& s) : Space(s) {
        a.update(*this, s.a);
        b.update(*this, s.b);
    }

    virtual Space* copy() {
        return new Test(*this);
    }

};

Thanks
Sebastian

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


From aqwzsxaqwzsx at orange.fr  Thu Mar 22 18:49:24 2018
From: aqwzsxaqwzsx at orange.fr (aqwzsxaqwzsx at orange.fr)
Date: Thu, 22 Mar 2018 18:49:24 +0100 (CET)
Subject: [gecode-users] BAB and pruning
In-Reply-To: <e50f8233d8c4436f87244c606224e6be@exdb01.ug.kth.se>
References: <2105503910.11394.1521562791310.JavaMail.www@wwinf2630>
	<e50f8233d8c4436f87244c606224e6be@exdb01.ug.kth.se>
Message-ID: <1038042484.11880.1521740964663.JavaMail.www@wwinf1t20>

 Hi,
 
Thank you for your reply.
I thought my question was directly related to Gecode
(and how the propagation were handled) and not to
constraint programming in general.
Do I understand that such a propagation can not
to be generically integrated into the Gecode engine ?
Anayway, thanks for your advices
 
Philippe

----------------
Le 20/03/2018, ? 21:26, "Christian Schulte" <cschulte at kth.se> a ?crit :

BAB only uses what propagation provides it with. If you want to have better bounds you have to make sure that you have stronger propagation.additional (a

Try to turn your reasoning into additional (known as redundant) constraints, for example.

But ultimately, this mailing list is for questions specific to Gecode not constraint programming in general. So you might want to find a different forum.

Best
Christian



--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, RISE SICS, christian.schulte at ri.se

-----Original Message-----
From: users-bounces at gecode.org <users-bounces at gecode.org> On Behalf Of aqwzsxaqwzsx at orange.fr
Sent: 20 March 2018 17:20
To: users at gecode.org
Subject: [gecode-users] BAB and pruning

Hi,
 
I have a general question on BAB engine in Gecode.
Suppose I have to affect 4 jobs to 4 persons and i want to minimize the cost of this affectation (using a MinimizeScript) :
 
cost_matrix :
    J1  J2  J3  J4
--|----------------
A | 9,  2,  7,  8
B | 6,  4,  3,  7
C | 5,  8,  1,  8
D | 7,  6,  9,  4
 
 
Suppose also that I post these constraints :
(e.g., exactly one person to exactly one job)
 
x(*this, cols*rows, 0, 1)  // array of assignments (as rows x cols)
 
for(int r = 0; r < rows; r++)         
  { linear(*this, x_m.row(r), IRT_EQ, 1); }
 
for(int c = 0; c < cols; c++)           
  { linear(*this, x_m.col(c), IRT_EQ, 1); }
 
linear(*this, cost, x, IRT_EQ, total_cost); branch(*this, x, INT_VAR_NONE(), INT_VAL_MAX());
               
with x an array of assignments (and x_m its matrix representation)
 
Now, let's make some reasoning :
 
- if I affect J1 to person A, the minimum cost that we can expect is 17
  (9 + 3 + 1 + 4) = 9 + (J3/B) + (J3/C) + (J4/D)
- if I affect J2 to person A, the minimum cost that we can expect is 10
  (2 + 3 + 1 + 4) = 2 + (J3/B) + (J3/C) + (J4/D)
- if I affect J3 to person A, the minimum cost that we can expect is 20
  (7 + 4 + 5 + 4) = 7 + (J2/B) + (J1/C) + (J4/D)
- if I affect J4 to person A, the minimum cost that we can expect is 18
  (8 + 3 + 1 + 6) = 8 + (J3/B) + (J3/C) + (J2/D)
 
However, i see under Gist that for instance, the total cost when exploring the J1/A alternative is [9..59](lower bound could be 17) Is it normal that B&B cannot estimate more precisely the lower bound ?
Can we expect that the pruning will be more efficient ?
 
Thank you.  

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users


From albert at math.uni-goettingen.de  Sat Mar 24 19:54:12 2018
From: albert at math.uni-goettingen.de (Sebastian Albert)
Date: Sat, 24 Mar 2018 19:54:12 +0100
Subject: [gecode-users] Distinguishing advisors by pointer or reference?
Message-ID: <70cd40eb-1327-e7d5-2e58-f1d75309d09a@math.uni-goettingen.de>

Dear list

I'm currently trying to get started with Advisors, and I'm wondering
what would be the correct way to go.

I have a propagator with four different IntViews that play different
roles, and I want to use advisors to tell which one has changed. Can I
keep references to them in my propagator object and compare these to the
advisor passed into the advise function? How should I go about this?

The two examples in MPG are sort of special and do not seem to do that,
since the first one only has advisors for variables playing the same
role, and the second one has only one, inferring the different roles
from the variable types (boolean vs. integer).

Thanks
Sebastian


From cschulte at kth.se  Mon Mar 26 10:53:14 2018
From: cschulte at kth.se (Christian Schulte)
Date: Mon, 26 Mar 2018 08:53:14 +0000
Subject: [gecode-users] Distinguishing advisors by pointer or reference?
In-Reply-To: <70cd40eb-1327-e7d5-2e58-f1d75309d09a@math.uni-goettingen.de>
References: <70cd40eb-1327-e7d5-2e58-f1d75309d09a@math.uni-goettingen.de>
Message-ID: <83e56067e38c4c089ad1a2a5d90ceabc@exdb01.ug.kth.se>

I would not keep a reference or pointer as they are messy to update during cloning. I would store the required information inside the advisor, for example an integer index or the view itself. The latter idea is used quite extensively in Gecode, sometimes one does not even need an array of views any longer as the views are stored inside the advisors.

Hope that helps.

Cheers
Christian

--
Christian Schulte, https://chschulte.github.io/
Professor of Computer Science, KTH, cschulte at kth.se
Expert Researcher, RISE SICS, christian.schulte at ri.se

-----Original Message-----
From: users-bounces at gecode.org <users-bounces at gecode.org> On Behalf Of Sebastian Albert
Sent: 24 March 2018 19:54
To: users at gecode.org
Subject: [gecode-users] Distinguishing advisors by pointer or reference?

Dear list

I'm currently trying to get started with Advisors, and I'm wondering what would be the correct way to go.

I have a propagator with four different IntViews that play different roles, and I want to use advisors to tell which one has changed. Can I keep references to them in my propagator object and compare these to the advisor passed into the advise function? How should I go about this?

The two examples in MPG are sort of special and do not seem to do that, since the first one only has advisors for variables playing the same role, and the second one has only one, inferring the different roles from the variable types (boolean vs. integer).

Thanks
Sebastian

_______________________________________________
Gecode users mailing list
users at gecode.org
https://www.gecode.org/mailman/listinfo/gecode-users

