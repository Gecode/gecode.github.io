<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Nov&nbsp;26,&nbsp;2007,&nbsp;at&nbsp;4:02&nbsp;AM,&nbsp;Guido&nbsp;Tack&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Gustavo&nbsp;Gutierrez&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;Nov&nbsp;23,&nbsp;2007&nbsp;5:04&nbsp;PM,&nbsp;Guido&nbsp;Tack&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tack@ps.uni-sb.de&quot;&gt;tack@ps.uni-sb.de&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;After&nbsp;iterating&nbsp;all&nbsp;the&nbsp;actors,&nbsp;vmp&nbsp;will&nbsp;contain&nbsp;all&nbsp;variables&nbsp;in&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;source,&nbsp;and&nbsp;you&nbsp;can&nbsp;iterate&nbsp;them&nbsp;using&nbsp;a&nbsp;VarMapIter.&nbsp;&amp;nbsp;For&nbsp;each&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;variable,&nbsp;you&nbsp;get&nbsp;a&nbsp;VarSpec&nbsp;that&nbsp;tells&nbsp;you&nbsp;what&nbsp;type&nbsp;the&nbsp;variable&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;has.&nbsp;&amp;nbsp;Furthermore,&nbsp;you&nbsp;can&nbsp;use&nbsp;the&nbsp;spec&nbsp;you&nbsp;get&nbsp;to&nbsp;recreate&nbsp;the&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;variable&nbsp;in&nbsp;target:&lt;br&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Does&nbsp;this&nbsp;mean&nbsp;that&nbsp;creating&nbsp;a&nbsp;VarMap&nbsp;is&nbsp;not&nbsp;only&nbsp;achieved&nbsp;by&nbsp;putting&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;the&nbsp;VarArray&nbsp;but&nbsp;also&nbsp;by&nbsp;iterating&nbsp;all&nbsp;the&nbsp;actors?.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Yes,&nbsp;with&nbsp;the&nbsp;difference&nbsp;that&nbsp;you&nbsp;don't&nbsp;know&nbsp;the&nbsp;identity&nbsp;of&nbsp;variables&nbsp;that&nbsp;were&nbsp;put&nbsp;in&nbsp;by&nbsp;iterating&nbsp;the&nbsp;actors.&lt;/blockquote&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;I&nbsp;am&nbsp;having&nbsp;some&nbsp;problems&nbsp;with&nbsp;VarMaps.&nbsp;As&nbsp;you&nbsp;said&nbsp;there&nbsp;are&nbsp;two&nbsp;ways&nbsp;to&nbsp;fill&nbsp;a&nbsp;VarMap:&nbsp;by&nbsp;using&nbsp;put&nbsp;and&nbsp;putArray&nbsp;methods&nbsp;and&nbsp;by&nbsp;iterating&nbsp;on&nbsp;actor&nbsp;specifications.&nbsp;I&nbsp;tried&nbsp;the&nbsp;second&nbsp;but&nbsp;because&nbsp;of&nbsp;a&nbsp;design&nbsp;decision&nbsp;in&nbsp;the&nbsp;past&nbsp;we&nbsp;cannot&nbsp;use&nbsp;it.&nbsp;&amp;nbsp;In&nbsp;our&nbsp;design&nbsp;we&nbsp;have&nbsp;a&nbsp;class&nbsp;GenericSpace&nbsp;which&nbsp;inherits&nbsp;from&nbsp;Gecode::Space.&nbsp;This&nbsp;class&nbsp;has&nbsp;an&nbsp;attribute&nbsp;that&nbsp;contains&nbsp;a&nbsp;DynamicArray&nbsp;with&nbsp;all&nbsp;variables&nbsp;declared&nbsp;in&nbsp;a&nbsp;computation&nbsp;space.&nbsp;This&nbsp;array&nbsp;contains&nbsp;VarBase&nbsp;pointers&nbsp;(VarImpBase&nbsp;in&nbsp;the&nbsp;trunk&nbsp;version).&nbsp;To&nbsp;fill&nbsp;the&nbsp;VarMap&nbsp;i&nbsp;am&amp;nbsp;using&amp;nbsp;the&nbsp;following&nbsp;code:&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#aa0d91&quot;&gt;void&lt;/span&gt;&nbsp;GenericSpace::merge(GenericSpace&nbsp;*src)&nbsp;{&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;Reflection::VarMap&nbsp;vm;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#aa0d91&quot;&gt;for&lt;/span&gt;&nbsp;(&lt;span&nbsp;style=&quot;color:&nbsp;#aa0d91&quot;&gt;int&lt;/span&gt;&nbsp;i&nbsp;=&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#1c00cf&quot;&gt;0&lt;/span&gt;;&nbsp;i&nbsp;&amp;lt;&nbsp;src-&amp;gt;vars.getSize();&nbsp;i++)&nbsp;{&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;std::stringstream&nbsp;s;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;s&nbsp;&amp;lt;&amp;lt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#c41a16&quot;&gt;&quot;src-&quot;&lt;/span&gt;&nbsp;&amp;lt;&amp;lt;&nbsp;i;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;vm.put(src,src-&amp;gt;vars.getVar(i),s.str().c_str());&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;}&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;printf(&lt;span&nbsp;style=&quot;color:&nbsp;#c41a16&quot;&gt;&quot;End&nbsp;merge&nbsp;operation\n&quot;&lt;/span&gt;);fflush(stdout);&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;10px/normal&nbsp;Monaco;&nbsp;&quot;&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;getVar(i)&nbsp;returns&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;VarImpBase&nbsp;stored&nbsp;at&nbsp;position&nbsp;i&nbsp;in&nbsp;the&nbsp;array.&nbsp;&amp;nbsp;When&nbsp;building&nbsp;the&nbsp;following&nbsp;error&nbsp;appears:&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;/Users/ggutierrez/Work/gec/include/gecode/kernel/var-map.icc:&nbsp;In&nbsp;member&nbsp;function&nbsp;‘void&nbsp;Gecode::Reflection::VarMap::put(Gecode::Space*,&nbsp;const&nbsp;Var&amp;amp;,&nbsp;const&nbsp;Gecode::Support::Symbol&amp;amp;)&nbsp;[with&nbsp;Var&nbsp;=&nbsp;Gecode::VarImpBase]’:&lt;/div&gt;&lt;div&gt;/Users/ggutierrez/Work/mozart-gecode/mozart/platform/emulator/GeSpace.cc:180:&nbsp;&amp;nbsp;&nbsp;instantiated&nbsp;from&nbsp;here&lt;/div&gt;&lt;div&gt;/Users/ggutierrez/Work/gec/include/gecode/kernel/var-map.icc:177:&nbsp;error:&nbsp;no&nbsp;type&nbsp;named&nbsp;‘View’&nbsp;in&nbsp;‘class&nbsp;Gecode::VarViewTraits&amp;lt;Gecode::VarImpBase&amp;gt;’&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note&nbsp;that&nbsp;vars&nbsp;does&nbsp;not&nbsp;contain&nbsp;integer&nbsp;constraint&nbsp;variables&nbsp;only&nbsp;it&nbsp;also&nbsp;contains&nbsp;set&nbsp;vars,&nbsp;bool&nbsp;vars,&nbsp;etc.&nbsp;This&nbsp;is&nbsp;why&nbsp;we&nbsp;chose&nbsp;to&nbsp;use&nbsp;an&nbsp;array&nbsp;of&nbsp;VarImpBase.&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;help&nbsp;on&nbsp;this&nbsp;is&nbsp;very&nbsp;welcome,&nbsp;thanks&nbsp;in&nbsp;advance.&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;webkit-block-placeholder&quot;&gt;&lt;/div&gt;&lt;div&gt;Cheers,&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
