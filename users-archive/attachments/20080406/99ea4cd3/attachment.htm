<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Guido&nbsp;Tack&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;mid:C63B4654-BDED-4873-8AC3-7A94E88E2DB4@ps.uni-sb.de&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;Debdeep&nbsp;Banerjee&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Hi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
I&nbsp;am&nbsp;using&nbsp;my&nbsp;own&nbsp;propagator&nbsp;and&nbsp;branching.&nbsp;But&nbsp;when&nbsp;I&nbsp;am&nbsp;using&nbsp;my<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
branching&nbsp;(&nbsp;via&nbsp;post()&amp;nbsp;&nbsp;method)&nbsp;the&nbsp;propagator&nbsp;is&nbsp;not&nbsp;working.&nbsp;But&nbsp;if&nbsp;I<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
use&nbsp;the&nbsp;gecode&nbsp;branching&nbsp;method&nbsp;(&nbsp;branch()&nbsp;)&nbsp;then&nbsp;the&nbsp;propagator&nbsp;works.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
I&nbsp;have&nbsp;checked&nbsp;the&nbsp;custom&nbsp;branching.....the&nbsp;methods&nbsp;(&nbsp;status,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
description&nbsp;,&nbsp;commit&nbsp;)&nbsp;are&nbsp;called&nbsp;from&nbsp;the&nbsp;DFS&nbsp;Search&nbsp;engine,&nbsp;but&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
propagator&nbsp;did&nbsp;not&nbsp;propagate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
What&nbsp;would&nbsp;be&nbsp;the&nbsp;reason&nbsp;?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
Perhaps&nbsp;your&nbsp;propagator&nbsp;does&nbsp;not&nbsp;respond&nbsp;to&nbsp;the&nbsp;modification&nbsp;events<br>
generated&nbsp;by&nbsp;your&nbsp;custom&nbsp;branching,&nbsp;but&nbsp;to&nbsp;those&nbsp;from&nbsp;the&nbsp;standard<br>
branchings.&amp;nbsp;&nbsp;E.g.,&nbsp;the&nbsp;standard&nbsp;INT_VAL_MIN&nbsp;branching&nbsp;always&nbsp;assigns&nbsp;a<br>
variable&nbsp;on&nbsp;the&nbsp;left&nbsp;branch,&nbsp;and&nbsp;that&nbsp;triggers&nbsp;propagators&nbsp;registered<br>
for&nbsp;the&nbsp;PC_INT_VAL&nbsp;propagation&nbsp;condition.&amp;nbsp;&nbsp;If&nbsp;you&nbsp;registered&nbsp;for<br>
PC_INT_VAL,&nbsp;but&nbsp;your&nbsp;branching&nbsp;does&nbsp;not&nbsp;assign&nbsp;variables&nbsp;(it&nbsp;might&nbsp;only<br>
partition&nbsp;the&nbsp;domain,&nbsp;for&nbsp;instance),&nbsp;then&nbsp;your&nbsp;propagator&nbsp;won't&nbsp;be.&amp;nbsp;<br>
That's&nbsp;just&nbsp;a&nbsp;guess,&nbsp;of&nbsp;course.<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
Guido<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
Hi,&lt;br&gt;<br>
&amp;nbsp;&nbsp;I&nbsp;still&nbsp;couldn't&nbsp;able&nbsp;to&nbsp;find&nbsp;out&nbsp;the&nbsp;problem.&nbsp;So&nbsp;I&nbsp;will&nbsp;give&nbsp;some<br>
details&nbsp;of&nbsp;my&nbsp;code.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;propagator&nbsp;looks&nbsp;like&nbsp;the&nbsp;following&lt;br&gt;<br>
&lt;br&gt;<br>
CSPPropagator::CSPPropagator(Gecode::Space*&nbsp;home,&nbsp;ViewIntArray&amp;amp;&nbsp;arr)&lt;br&gt;<br>
&amp;nbsp;&nbsp;:&nbsp;Gecode::NaryPropagator&amp;lt;&nbsp;Gecode::Int::IntView,<br>
Gecode::Int::PC_INT_VAL&amp;gt;(home,&nbsp;arr)&lt;br&gt;<br>
&lt;br&gt;<br>
Where&amp;nbsp;&nbsp;==&amp;gt;&nbsp;typedef&nbsp;Gecode::ViewArray&amp;lt;Gecode::Int::IntView&amp;gt;&nbsp;&lt;b&gt;ViewIntArray&lt;/b&gt;;&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;Branching&nbsp;looks&nbsp;like&lt;br&gt;<br>
&lt;br&gt;<br>
CSPBranch::CSPBranch(Gecode::Space*&nbsp;home,&nbsp;ViewIntArray&amp;amp;&nbsp;xv)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;:&nbsp;Gecode::Branching(home)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;,&nbsp;x(xv)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;,&nbsp;pos(-1)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;,&nbsp;val(-1)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;commit&nbsp;method&nbsp;looks&nbsp;like&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;Gecode::ExecStatus&nbsp;CSPBranch::commit(Gecode::Space*&nbsp;home,&nbsp;const<br>
Gecode::BranchingDesc*&nbsp;b,&nbsp;unsigned&nbsp;int&nbsp;a)&lt;br&gt;<br>
&amp;nbsp;&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;const&nbsp;Gecode::PosValDesc&amp;lt;int,2&amp;gt;*&nbsp;desc&nbsp;=&nbsp;static_cast&nbsp;&amp;lt;const<br>
Gecode::PosValDesc&amp;lt;int,2&amp;gt;*&nbsp;&amp;gt;&nbsp;(b);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(a)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;Gecode::me_failed(x[desc-&amp;gt;pos()].nq(home,<br>
desc-&amp;gt;val()))&nbsp;?&nbsp;Gecode::ES_FAILED&nbsp;:&nbsp;Gecode::ES_OK;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;else&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;return&nbsp;Gecode::me_failed(x[desc-&amp;gt;pos()].eq(home,<br>
desc-&amp;gt;val()))&nbsp;?&nbsp;Gecode::ES_FAILED&nbsp;:&nbsp;Gecode::ES_OK;&lt;br&gt;<br>
&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;a&nbsp;class&nbsp;called&nbsp;&quot;&nbsp;CSPInstance&quot;&nbsp;which&nbsp;extends&nbsp;the&nbsp;Gecode::Space<br>
class.&nbsp;The&nbsp;code&nbsp;inside&nbsp;the&nbsp;constructor&nbsp;has&nbsp;the&nbsp;following&nbsp;line&nbsp;in&nbsp;the<br>
respective&nbsp;order&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;Gecode::IntVarArgs&nbsp;arg_array(transitions);&nbsp;[&nbsp;transitions&nbsp;==&nbsp;&amp;gt;<br>
Gecode::IntVarArray&nbsp;]&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;Gecode::ViewArray&amp;lt;Gecode::Int::IntView&amp;gt;&nbsp;trans_array(this,<br>
arg_array);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;CSPPropagator::post(this,&nbsp;trans_array);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;CSPBranch::post(this,&nbsp;trans_array);&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
After&nbsp;commit,&nbsp;the&nbsp;propagators&nbsp;are&nbsp;not&nbsp;propagating.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;attached&nbsp;the&nbsp;three&nbsp;main&nbsp;files&nbsp;with&nbsp;this&nbsp;email.&nbsp;Any&nbsp;help&nbsp;will&nbsp;be<br>
greatly&nbsp;appreciated.&lt;br&gt;<br>
&lt;pre&nbsp;class=&quot;moz-signature&quot;&nbsp;cols=&quot;72&quot;&gt;--&nbsp;<br>
Debdeep&nbsp;Banerjee<br>
PhD&nbsp;Candidate<br>
CSL/RSISE/NICTA<br>
Australian&nbsp;National&nbsp;University<br>
Email:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:debdeep.banerjee@rsise.anu.edu.au&quot;&gt;debdeep.banerjee@rsise.anu.edu.au&lt;/a&gt;<br>
Web:&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://rsise.anu.edu.au/~banerjed&quot;&gt;http://rsise.anu.edu.au/~banerjed&lt;/a&gt;<br>
<br>
&lt;/pre&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
