<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;float&nbsp;variables&nbsp;are&nbsp;not&nbsp;yet&nbsp;truly&nbsp;integrated&nbsp;into&nbsp;Gecode,&nbsp;so&nbsp;I&nbsp;would&nbsp;not&nbsp;advise&nbsp;to&nbsp;use&nbsp;them&nbsp;currently.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;for&nbsp;how&nbsp;to&nbsp;express&nbsp;the&nbsp;multiplication&nbsp;with&nbsp;a&nbsp;constant,&nbsp;I&nbsp;would&nbsp;suggest&nbsp;you&nbsp;use&nbsp;the&nbsp;minimodel&nbsp;interface:&lt;/div&gt;<br>
<br>
&lt;div&gt;  &nbsp; post(*this,&nbsp;d*mutualSize&nbsp;==&nbsp;n*resultSize);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Mikael&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/12/17&nbsp;Holger&nbsp;Winnemoeller&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:holger.winnemoeller@gmail.com&quot;&gt;holger.winnemoeller@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;I&nbsp;wonder&nbsp;if&nbsp;I&nbsp;have&nbsp;found&nbsp;the&nbsp;best&nbsp;solution&nbsp;to&nbsp;the&nbsp;following&nbsp;problem&nbsp;(I&nbsp;doubt&nbsp;it):&lt;br&gt;&lt;br&gt;inventory&nbsp;=&nbsp;{0,1,2,3,4,&nbsp;...&nbsp;,&nbsp;N}&lt;br&gt;<br>
<br>
subsetA&nbsp;=&nbsp;some&nbsp;subset&nbsp;of&nbsp;inventory&lt;br&gt;&lt;br&gt;Goal:&nbsp;Give&nbsp;me&nbsp;a&nbsp;resultSet&nbsp;with&nbsp;elements&nbsp;from&nbsp;inventory&nbsp;given&nbsp;the&nbsp;following&nbsp;constraints&lt;br&gt;<br>
&lt;br&gt;* &nbsp;fraction&nbsp;X&nbsp;of&nbsp;items&nbsp;in&nbsp;resultSet&nbsp;are&nbsp;from&nbsp;subSetA&lt;br&gt;* &nbsp;some&nbsp;other&nbsp;constraints&nbsp;(lets&nbsp;not&nbsp;worry&nbsp;about&nbsp;that&nbsp;here)&lt;br&gt;&lt;br&gt;pseudocode&nbsp;notation&nbsp;of&nbsp;a&nbsp;solution&nbsp;might&nbsp;be:&lt;br&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;IntVar&nbsp;resultSize&nbsp;=&nbsp;cardinality(resultSet);&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
<br>
<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;SetVar&nbsp;mutualSet&nbsp;=&nbsp;intersection(resultSet,&nbsp;subsetA);&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;IntVar&nbsp;mutualSize&nbsp;=&nbsp;cardinality(mutualSet);&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
<br>
<br>
&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;FloatVar&nbsp;f&nbsp;=&nbsp;div(mutualSize,&nbsp;resultSize);&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;rel(div,&nbsp;EQ,&nbsp;X);&lt;/span&gt;&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;br&gt;Now,&nbsp;while&nbsp;I&nbsp;did&nbsp;find&nbsp;a&nbsp;FloatVar&nbsp;class,&nbsp;it&amp;#39;s&nbsp;in&nbsp;the&nbsp;namespace&nbsp;Gecode::FlatZinc::AST,&nbsp;not&nbsp;Gecode,&nbsp;and&nbsp;I&nbsp;have&nbsp;a&nbsp;feeling&nbsp;its&nbsp;use&nbsp;is&nbsp;not&nbsp;analogous&nbsp;to&nbsp;IntVar.&lt;br&gt;&lt;br&gt;So,&nbsp;fair&nbsp;enough,&nbsp;I&nbsp;can&nbsp;just&nbsp;repose&nbsp;the&nbsp;constraint:&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;             &lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;  &nbsp;|mutualSet|&nbsp;/&nbsp;|resultSet|&nbsp;=&nbsp;X,&nbsp;where&nbsp;X&nbsp;can&nbsp;be&nbsp;approximated&nbsp;by&nbsp;n/d&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&amp;lt;==&amp;gt;&nbsp;d&nbsp;*&nbsp;|mutualSet|&nbsp;=&nbsp;n&nbsp;*&nbsp;|resultSet|,&nbsp;all&nbsp;of&nbsp;which&nbsp;can&nbsp;be&nbsp;expressed&nbsp;in&nbsp;Int&amp;#39;s&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;So,&nbsp;my&nbsp;solution&nbsp;ends&nbsp;up&nbsp;being:&lt;br&gt;<br>
<br>
<br>
&lt;div&nbsp;style=&quot;margin-left:40px&quot;&gt;&lt;br&gt;&lt;/div&gt;   &nbsp;   &nbsp;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;IntVar&nbsp;lhs&nbsp;(*this,&nbsp;0,&nbsp;d&nbsp;*&nbsp;setB.size());   &nbsp;   &nbsp;//&nbsp;worst-case&nbsp;domain&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;IntVar&nbsp;rhs&nbsp;(*this,&nbsp;0,&nbsp;n&nbsp;*&nbsp;inventory.size());  &nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;//&nbsp;worst-case&nbsp;domain&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&nbsp;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
<br>
<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;   &nbsp;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;//&nbsp;Q1:&nbsp;I&nbsp;would&nbsp;love&nbsp;to&nbsp;write&nbsp;the&nbsp;following&nbsp;lines,&nbsp;but&nbsp;I&nbsp;may&nbsp;not&nbsp;use&nbsp;integer&nbsp;literals&nbsp;in&nbsp;the&nbsp;mult&nbsp;call.&nbsp;Is&nbsp;there&nbsp;a&nbsp;better&nbsp;way?&lt;br&gt;<br>
<br>
<br>
   &nbsp;//mult(*this,&nbsp;mutualSize,&nbsp;d,&nbsp;lhs);   &nbsp;   &nbsp;   &nbsp;   &nbsp;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;//mult(*this,&nbsp;resultSize,&nbsp;n,&nbsp;rhs);   &nbsp;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;br&gt;   &nbsp;//&nbsp;Q2:&nbsp;Is&nbsp;this&nbsp;the&nbsp;way&nbsp;to&nbsp;specify&nbsp;the&nbsp;constant&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;use?&nbsp;It&nbsp;seems&nbsp;very&nbsp;roundabout...&lt;br&gt;   &nbsp;IntVar&nbsp;numerator(*this,&nbsp;n,n);&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
<br>
<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;IntVar&nbsp;denominator(*this,&nbsp;d,d);&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;mult(*this,&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;mutualSize&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;,&nbsp;denominator,&nbsp;lhs);   &nbsp;   &nbsp;   &nbsp;   &nbsp;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
<br>
<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;mult(*this,&nbsp;resultSize,&nbsp;numerator,  &nbsp;rhs);   &nbsp;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;   &nbsp;rel(*this,&nbsp;lhs,&nbsp;IRT_EQ,&nbsp;rhs);&lt;/span&gt;&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;The&nbsp;thing&nbsp;is,&nbsp;I&nbsp;do&nbsp;get&nbsp;the&nbsp;correct&nbsp;solution&nbsp;using&nbsp;this&nbsp;approach,&nbsp;but&nbsp;I&nbsp;feel&nbsp;like&nbsp;I&nbsp;am&nbsp;misusing&nbsp;Gecode,&nbsp;and&nbsp;that&nbsp;there&nbsp;is&nbsp;a&nbsp;cleaner&nbsp;way&nbsp;to&nbsp;express&nbsp;what&nbsp;I&nbsp;want.&nbsp;So&nbsp;to&nbsp;summarize&nbsp;my&nbsp;questions:&lt;br&gt;&lt;ul&gt;&lt;li&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;just&nbsp;use&nbsp;a&nbsp;Float&nbsp;constraint?&lt;/li&gt;<br>
<br>
<br>
&lt;li&gt;If&nbsp;not&nbsp;(have&nbsp;to&nbsp;use&nbsp;Quotient&nbsp;approach),&nbsp;is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;express&nbsp;the&nbsp;multiplication&nbsp;using&nbsp;integer&nbsp;literals?&lt;/li&gt;&lt;li&gt;If&nbsp;not,&nbsp;is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;specify&nbsp;an&nbsp;integer&nbsp;constant&nbsp;without&nbsp;defining&nbsp;a&nbsp;one-element&nbsp;domain&nbsp;for&nbsp;it?&lt;/li&gt;<br>
<br>
<br>
&lt;li&gt;Or&nbsp;am&nbsp;I&nbsp;crazy,&nbsp;and&nbsp;the&nbsp;solution&nbsp;I&nbsp;give&nbsp;is&nbsp;adequate?&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;your&nbsp;help,&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;Holger.&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
Gecode&nbsp;users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://www.gecode.org/mailman/listinfo/gecode-users&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.gecode.org/mailman/listinfo/gecode-users&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Mikael&nbsp;Zayenz&nbsp;Lagerkvist,&nbsp;&lt;a&nbsp;href=&quot;http://www.ict.kth.se/~zayenz/&quot;&gt;http://www.ict.kth.se/~zayenz/&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
