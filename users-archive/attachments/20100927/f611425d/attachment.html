<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;happens&nbsp;because&nbsp;matrix&nbsp;stores&nbsp;a&nbsp;copy&nbsp;of&nbsp;it&amp;#39;s&nbsp;array.&nbsp;For&nbsp;variable-arrays&nbsp;it&nbsp;works&nbsp;as&nbsp;expected,&nbsp;since&nbsp;copy&nbsp;construction&nbsp;shares&nbsp;the&nbsp;elements.&nbsp;For&nbsp;argument&nbsp;arrays,&nbsp;it&nbsp;doesn&amp;#39;t.&nbsp;Maybe&nbsp;we&nbsp;should&nbsp;consider&nbsp;using&nbsp;references&nbsp;instead&nbsp;of&nbsp;copies&nbsp;for&nbsp;matrices...&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;your&nbsp;current&nbsp;problem,&nbsp;you&nbsp;could&nbsp;use&nbsp;the&nbsp;Matrix&nbsp;initialization&nbsp;and&nbsp;then&nbsp;use&nbsp;the&nbsp;get_array&nbsp;member&nbsp;function&nbsp;to&nbsp;get&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;contents. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;/Mikael&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
<br>
On&nbsp;Mon,&nbsp;Sep&nbsp;27,&nbsp;2010&nbsp;at&nbsp;3:08&nbsp;PM,&nbsp;Christian&nbsp;Schulte&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:cschulte@kth.se&quot;&gt;cschulte@kth.se&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
Denys,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;also&nbsp;believed&nbsp;that&nbsp;this&nbsp;was&nbsp;the&nbsp;case:&nbsp;it&nbsp;is&nbsp;for&nbsp;variable&nbsp;arrays&nbsp;but&nbsp;not&lt;br&gt;<br>
for&nbsp;argument&nbsp;arrays&nbsp;(is&nbsp;that&nbsp;correct?).&lt;br&gt;<br>
&lt;br&gt;<br>
Mikael:&nbsp;can&nbsp;you&nbsp;shed&nbsp;some&nbsp;light&nbsp;on&nbsp;this,&nbsp;please?&lt;br&gt;<br>
&lt;br&gt;<br>
Christian&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>
Christian&nbsp;Schulte,&nbsp;&lt;a&nbsp;href=&quot;http://www.ict.kth.se/~cschulte/&quot;&nbsp;target=&quot;_blank&quot;&gt;www.ict.kth.se/~cschulte/&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;users-bounces@gecode.org&lt;/a&gt;&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;users-bounces@gecode.org&lt;/a&gt;]&nbsp;On&nbsp;Behalf&lt;br&gt;<br>
Of&nbsp;Denys&nbsp;Duchier&lt;br&gt;<br>
Sent:&nbsp;Monday,&nbsp;September&nbsp;27,&nbsp;2010&nbsp;1:21&nbsp;PM&lt;br&gt;<br>
To:&nbsp;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[gecode-users]&nbsp;very&nbsp;odd&nbsp;bug&nbsp;in&nbsp;small&nbsp;program&lt;br&gt;<br>
&lt;br&gt;<br>
Chris&nbsp;Mears&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:chris.mears@monash.edu&quot;&gt;chris.mears@monash.edu&lt;/a&gt;&amp;gt;&nbsp;writes:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;think&nbsp;the&nbsp;problem&nbsp;is&nbsp;that&nbsp;the&nbsp;Matrix&nbsp;constructor&nbsp;copies&nbsp;the&nbsp;IntArgs&lt;br&gt;<br>
&amp;gt;&nbsp;array,&nbsp;so&nbsp;that&nbsp;when&nbsp;you&nbsp;modify&nbsp;MC&nbsp;you&nbsp;aren&amp;#39;t&nbsp;changing&nbsp;C&nbsp;itself.&lt;br&gt;<br>
&lt;br&gt;<br>
meh!&nbsp;I&nbsp;expected&nbsp;a&nbsp;matrix&nbsp;to&nbsp;be&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;same&nbsp;underlying&nbsp;model,&nbsp;not&lt;br&gt;<br>
a&nbsp;copy.&nbsp;me&nbsp;not&nbsp;likey!&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;(Whether&nbsp;it&nbsp;ought&nbsp;to&nbsp;do&nbsp;this&nbsp;or&nbsp;not&nbsp;is&nbsp;another&nbsp;question.)&nbsp; One&lt;br&gt;<br>
&amp;gt;&nbsp;solution&nbsp;is&nbsp;to&nbsp;instead&nbsp;write:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;IntArgs&nbsp;C(4*4,&nbsp;7,&nbsp;1,&nbsp;3,&nbsp;4,&nbsp;8,&nbsp;2,&nbsp;5,&nbsp;1,&nbsp;4,&nbsp;3,&nbsp;7,&nbsp;2,&nbsp;3,&nbsp;1,&nbsp;6,&nbsp;8);&lt;br&gt;<br>
&lt;br&gt;<br>
ok,&nbsp;thank&nbsp;you,&nbsp;but...&nbsp;(sigh)&lt;br&gt;<br>
&lt;br&gt;<br>
--Denys&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Gecode&nbsp;users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://www.gecode.org/mailman/listinfo/gecode-users&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.gecode.org/mailman/listinfo/gecode-users&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
Gecode&nbsp;users&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://www.gecode.org/mailman/listinfo/gecode-users&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.gecode.org/mailman/listinfo/gecode-users&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Mikael&nbsp;Zayenz&nbsp;Lagerkvist,&nbsp;&lt;a&nbsp;href=&quot;http://www.ict.kth.se/~zayenz/&quot;&gt;http://www.ict.kth.se/~zayenz/&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
