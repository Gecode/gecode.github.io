<tt>
&lt;html&nbsp;xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;meta&nbsp;name=Generator&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;14&nbsp;(filtered&nbsp;medium)&quot;&gt;&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:&quot;Cambria&nbsp;Math&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;4&nbsp;5&nbsp;3&nbsp;5&nbsp;4&nbsp;6&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Calibri;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{font-family:Tahoma;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;panose-1:2&nbsp;11&nbsp;6&nbsp;4&nbsp;3&nbsp;5&nbsp;4&nbsp;4&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{margin:0cm;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:12.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Times&nbsp;New&nbsp;Roman&quot;,&quot;serif&quot;;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:blue;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:purple;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:underline;}<br>
p.MsoAcetate,&nbsp;li.MsoAcetate,&nbsp;div.MsoAcetate<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-link:&quot;Texte&nbsp;de&nbsp;bulles&nbsp;Car&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:0cm;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:.0001pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:8.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;;}<br>
span.apple-converted-space<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-name:apple-converted-space;}<br>
span.EmailStyle18<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:personal-reply;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:#1F497D;}<br>
span.TextedebullesCar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-name:&quot;Texte&nbsp;de&nbsp;bulles&nbsp;Car&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-priority:99;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mso-style-link:&quot;Texte&nbsp;de&nbsp;bulles&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;;}<br>
.MsoChpDefault<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{mso-style-type:export-only;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;font-size:10.0pt;}<br>
@page&nbsp;WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{size:612.0pt&nbsp;792.0pt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;margin:70.85pt&nbsp;70.85pt&nbsp;70.85pt&nbsp;70.85pt;}<br>
div.WordSection1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{page:WordSection1;}<br>
--&gt;&lt;/style&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;/head&gt;&lt;body&nbsp;lang=FR&nbsp;link=blue&nbsp;vlink=purple&gt;&lt;div&nbsp;class=WordSection1&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;Hello,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;advice.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;Sadly,&nbsp;it&nbsp;still&nbsp;does&nbsp;not&nbsp;work.&nbsp;The&nbsp;exception&nbsp;has&nbsp;disappeared&nbsp;but&nbsp;no&nbsp;solution&nbsp;is&nbsp;provided&nbsp;(the&nbsp;program&nbsp;seems&nbsp;to&nbsp;turn&nbsp;on&nbsp;empty).&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;Cheers,&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;S.D.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;span&nbsp;lang=EN-US&nbsp;style='font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;color:#1F497D'&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;div&nbsp;style='border:none;border-top:solid&nbsp;#B5C4DF&nbsp;1.0pt;padding:3.0pt&nbsp;0cm&nbsp;0cm&nbsp;0cm'&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;b&gt;&lt;span&nbsp;style='font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;'&gt;De&nbsp;:&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style='font-size:10.0pt;font-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;'&gt;&nbsp;Guido&nbsp;Tack&nbsp;[mailto:guido.tack@monash.edu]&nbsp;&lt;br&gt;&lt;b&gt;Envoyé&nbsp;:&lt;/b&gt;&nbsp;vendredi&nbsp;23&nbsp;septembre&nbsp;2016&nbsp;00:59&lt;br&gt;&lt;b&gt;À&nbsp;:&lt;/b&gt;&nbsp;Sebastien&nbsp;Delmotte&lt;br&gt;&lt;b&gt;Cc&nbsp;:&lt;/b&gt;&nbsp;Christian&nbsp;Schulte;&nbsp;users@gecode.org&lt;br&gt;&lt;b&gt;Objet&nbsp;:&lt;/b&gt;&nbsp;Re:&nbsp;[gecode-users]&nbsp;Cost&nbsp;optimization&nbsp;problem&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;class=MsoNormal&gt;I&nbsp;think&nbsp;the&nbsp;problem&nbsp;here&nbsp;is&nbsp;that&nbsp;you’re&nbsp;not&nbsp;branching&nbsp;over&nbsp;the&nbsp;cost&nbsp;variable.&nbsp;&nbsp;With&nbsp;float&nbsp;variables,&nbsp;it’s&nbsp;not&nbsp;guaranteed&nbsp;that&nbsp;just&nbsp;because&nbsp;all&nbsp;x[i]&nbsp;are&nbsp;assigned&nbsp;(i.e.,&nbsp;restricted&nbsp;to&nbsp;the&nbsp;smallest&nbsp;possible&nbsp;interval!),&nbsp;the&nbsp;result&nbsp;of&nbsp;c[i]*x[i]&nbsp;will&nbsp;also&nbsp;be&nbsp;assigned.&nbsp;&nbsp;So&nbsp;you&nbsp;need&nbsp;to&nbsp;branch&nbsp;on&nbsp;the&nbsp;result,&nbsp;in&nbsp;this&nbsp;case&nbsp;on&nbsp;t_cost.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;Cheers,&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;Guido&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&nbsp;style='margin-bottom:12.0pt'&gt;&lt;span&nbsp;style='color:black'&gt;--&nbsp;&lt;br&gt;&lt;b&gt;GUIDO&nbsp;TACK&lt;/b&gt;&lt;span&nbsp;class=apple-converted-space&gt;&nbsp;&lt;/span&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;Senior&nbsp;Lecturer&lt;br&gt;&lt;br&gt;&lt;b&gt;Information&nbsp;Technology&lt;/b&gt;&lt;br&gt;Monash&nbsp;University&lt;br&gt;Level&nbsp;6,&nbsp;Room&nbsp;6.40,&nbsp;Building&nbsp;H,&nbsp;Caulfield&nbsp;Campus&lt;br&gt;900&nbsp;Dandenong&nbsp;Road&lt;br&gt;Caulfield&nbsp;East&nbsp;VIC&nbsp;3145&lt;br&gt;Australia&lt;br&gt;&lt;br&gt;T:&nbsp;+61&nbsp;3&nbsp;9903&nbsp;1214&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;E:&nbsp;&lt;a&nbsp;href=&quot;mailto:guido.tack@monash.edu&quot;&gt;guido.tack@monash.edu&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.csse.monash.edu/~guidot/&quot;&gt;http://www.csse.monash.edu/~guidot/&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;blockquote&nbsp;style='margin-top:5.0pt;margin-bottom:5.0pt'&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;On&nbsp;22&nbsp;Sep.&nbsp;2016,&nbsp;at&nbsp;7:59&nbsp;pm,&nbsp;Sebastien&nbsp;Delmotte&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:delmotte@mad-environnement.com&quot;&gt;delmotte@mad-environnement.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;div&gt;&lt;div&gt;&lt;p&nbsp;class=MsoNormal&gt;Dear&nbsp;All,&lt;br&gt;&lt;br&gt;I'm&nbsp;back&nbsp;with&nbsp;my&nbsp;issue&nbsp;of&nbsp;cost&nbsp;optimization&nbsp;with&nbsp;float&nbsp;variables.&lt;br&gt;&lt;br&gt;I&nbsp;can't&nbsp;solve&nbsp;my&nbsp;problem&nbsp;with&nbsp;integers&nbsp;because&nbsp;:&nbsp;(i)&nbsp;the&nbsp;transformation&nbsp;of&lt;br&gt;my&nbsp;model&nbsp;from&nbsp;float&nbsp;to&nbsp;integer&nbsp;makes&nbsp;me&nbsp;using&nbsp;coefficients&nbsp;with&nbsp;high&nbsp;value&lt;br&gt;which&nbsp;cause&nbsp;the&nbsp;overtaking&nbsp;of&nbsp;int&nbsp;size;&nbsp;(ii)&nbsp;even&nbsp;with&nbsp;smaller&nbsp;values,&nbsp;the&lt;br&gt;time&nbsp;of&nbsp;optimization&nbsp;is&nbsp;around&nbsp;11h20&nbsp;for&nbsp;optimizing&nbsp;only&nbsp;6&nbsp;coefficients&nbsp;(and&lt;br&gt;I&nbsp;have&nbsp;more&nbsp;to&nbsp;optimize).&lt;br&gt;&lt;br&gt;So,&nbsp;I've&nbsp;tested&nbsp;another&nbsp;example:&nbsp;(i)&nbsp;&nbsp;I've&nbsp;taken&nbsp;the&nbsp;Hakank&nbsp;diet&nbsp;code&lt;br&gt;(&lt;a&nbsp;href=&quot;http://www.hakank.org/gecode/&quot;&gt;http://www.hakank.org/gecode/&lt;/a&gt;)&nbsp;written&nbsp;with&nbsp;integer&nbsp;variables;&nbsp;(ii)&nbsp;I've&lt;br&gt;transformed&nbsp;the&nbsp;code&nbsp;to&nbsp;solve&nbsp;the&nbsp;model&nbsp;with&nbsp;float&nbsp;variables&nbsp;instead&nbsp;of&lt;br&gt;integer&nbsp;variables.&lt;br&gt;&lt;br&gt;The&nbsp;result&nbsp;is&nbsp;similar&nbsp;than&nbsp;with&nbsp;my&nbsp;model:&nbsp;an&nbsp;exception&nbsp;occurs&nbsp;about&lt;br&gt;&quot;unassigned&nbsp;variable&quot;&nbsp;which&nbsp;is&nbsp;probably&nbsp;the&nbsp;cost&nbsp;variable.&nbsp;(I&nbsp;put&nbsp;the&nbsp;code&lt;br&gt;at&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;message).&lt;br&gt;&lt;br&gt;So&nbsp;it&nbsp;seems&nbsp;that&nbsp;the&nbsp;issue&nbsp;is&nbsp;not&nbsp;a&nbsp;modelling&nbsp;one.&nbsp;Do&nbsp;you&nbsp;have&nbsp;an&nbsp;idea&nbsp;about&lt;br&gt;the&nbsp;origin&nbsp;of&nbsp;this&nbsp;exception&nbsp;which&nbsp;occurs&nbsp;with&nbsp;the&nbsp;two&nbsp;models&nbsp;I've&nbsp;tested?&lt;br&gt;&lt;br&gt;Do&nbsp;you&nbsp;known&nbsp;some&nbsp;other&nbsp;float&nbsp;optimization&nbsp;examples&nbsp;which&nbsp;are&nbsp;solved&nbsp;with&lt;br&gt;gecode?&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;in&nbsp;advance.&lt;br&gt;&lt;br&gt;Best&nbsp;regards,&lt;br&gt;&lt;br&gt;S.&nbsp;D.&lt;br&gt;&lt;br&gt;Adapted&nbsp;Hakank&nbsp;Code:&lt;br&gt;&lt;br&gt;#include&nbsp;&lt;gecode/driver.hh&gt;&lt;br&gt;#include&nbsp;&lt;gecode/float.hh&gt;&lt;br&gt;#include&nbsp;&lt;gecode/minimodel.hh&gt;&lt;br&gt;&lt;br&gt;using&nbsp;namespace&nbsp;Gecode;&lt;br&gt;&lt;br&gt;&lt;br&gt;class&nbsp;Tests&nbsp;:&nbsp;public&nbsp;FloatMinimizeScript&nbsp;&nbsp;{&lt;br&gt;protected:&lt;br&gt;&nbsp;&nbsp;&nbsp;FloatVarArray&nbsp;x;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;amount&nbsp;of&nbsp;each&nbsp;product&lt;br&gt;&nbsp;&nbsp;&nbsp;FloatVar&nbsp;t_cost;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;total&nbsp;cost&nbsp;to&nbsp;minimize&lt;br&gt;&nbsp;&nbsp;&nbsp;static&nbsp;const&nbsp;int&nbsp;n&nbsp;=&nbsp;4;&nbsp;//&nbsp;number&nbsp;of&nbsp;products&lt;br&gt;&lt;br&gt;public:&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;Tests(const&nbsp;Options&amp;&nbsp;o)&nbsp;:FloatMinimizeScript(o),&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x(*this,&nbsp;n,&nbsp;0,&nbsp;1000),&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_cost(*this,&nbsp;0,&nbsp;1000)&lt;br&gt;&nbsp;&nbsp;&nbsp;{&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;_price[]&nbsp;&nbsp;=&nbsp;{&nbsp;50.f,&nbsp;20.f,&nbsp;30.f,&nbsp;80.f};&nbsp;//&nbsp;in&nbsp;cents&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;limits[]&nbsp;&nbsp;=&nbsp;{500.f,&nbsp;&nbsp;6.f,&nbsp;10.f,&nbsp;&nbsp;8.f};&nbsp;//&nbsp;requirements&nbsp;for&lt;br&gt;each&nbsp;nutrition&nbsp;type&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;nutritions&nbsp;for&nbsp;each&nbsp;product&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;_calories[]&nbsp;&nbsp;=&nbsp;{400.f,&nbsp;200.f,&nbsp;150.f,&nbsp;500.f};&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;_chocolate[]&nbsp;=&nbsp;{&nbsp;&nbsp;3.f,&nbsp;&nbsp;&nbsp;2.f,&nbsp;&nbsp;&nbsp;0.f,&nbsp;&nbsp;&nbsp;0.f};&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;_sugar[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;{&nbsp;&nbsp;2.f,&nbsp;&nbsp;&nbsp;2.f,&nbsp;&nbsp;&nbsp;4.f,&nbsp;&nbsp;&nbsp;4.f};&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;_fat[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;{&nbsp;&nbsp;2.f,&nbsp;&nbsp;&nbsp;4.f,&nbsp;&nbsp;&nbsp;1.f,&nbsp;&nbsp;&nbsp;5.f};&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArgs&nbsp;v_calories;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArgs&nbsp;v_chocolate;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArgs&nbsp;v_fat;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArgs&nbsp;v_sugar;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArgs&nbsp;v_costs;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i&nbsp;=&nbsp;0;i&lt;4;++i)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_calories&nbsp;&lt;&lt;&nbsp;expr(*this,x[i]*_calories[i]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_chocolate&nbsp;&lt;&lt;&nbsp;expr(*this,x[i]*_chocolate[i]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_fat&nbsp;&lt;&lt;&nbsp;expr(*this,x[i]*_fat[i]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_sugar&nbsp;&lt;&lt;&nbsp;expr(*this,x[i]*_sugar[i]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v_costs&nbsp;&lt;&lt;&nbsp;expr(*this,x[i]*_price[i]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel(*this,expr(*this,sum(v_calories)),FRT_GQ,limits[0]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel(*this,expr(*this,sum(v_chocolate)),FRT_GQ,limits[1]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel(*this,expr(*this,sum(v_sugar)),FRT_GQ,limits[2]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rel(*this,expr(*this,sum(v_fat)),FRT_GQ,limits[3]);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_cost&nbsp;=&nbsp;expr(*this,sum(v_costs));&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;branch(*this,&nbsp;x,&nbsp;FLOAT_VAR_NONE(),&nbsp;FLOAT_VAL_SPLIT_MIN());&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;//&nbsp;Prfloat&nbsp;solution&lt;br&gt;&nbsp;&nbsp;&nbsp;virtual&nbsp;void&lt;br&gt;&nbsp;&nbsp;&nbsp;prfloat(std::ostream&amp;&nbsp;os)&nbsp;const&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;&lt;&lt;&nbsp;&quot;\t&quot;&nbsp;&lt;&lt;&nbsp;x&nbsp;&lt;&lt;&nbsp;&quot;&nbsp;t_cost:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;t_cost&nbsp;&lt;&lt;&nbsp;std::endl;&lt;br&gt;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;virtual&nbsp;FloatVar&nbsp;cost(void)&nbsp;const{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;t_cost;&lt;br&gt;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;Tests(bool&nbsp;share,&nbsp;Tests&amp;&nbsp;s)&nbsp;:&nbsp;FloatMinimizeScript(share,s)&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x.update(*this,&nbsp;share,&nbsp;s.x);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_cost.update(*this,&nbsp;share,&nbsp;s.t_cost);&lt;br&gt;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;virtual&nbsp;Space*&lt;br&gt;&nbsp;&nbsp;&nbsp;copy(bool&nbsp;share)&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;Tests(share,*this);&lt;br&gt;&nbsp;&nbsp;&nbsp;}&lt;br&gt;};&lt;br&gt;&lt;br&gt;&lt;br&gt;float&nbsp;main(float&nbsp;argc,&nbsp;char*&nbsp;argv[])&nbsp;{&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;Options&nbsp;opt(&quot;Test&quot;);&lt;br&gt;&nbsp;&nbsp;&nbsp;opt.solutions(1e9);&lt;br&gt;&nbsp;&nbsp;&nbsp;//opt.threads(8);&lt;br&gt;&nbsp;&nbsp;&nbsp;FloatMinimizeScript::run&lt;Tests,BAB,Options&gt;(opt);&lt;br&gt;&nbsp;&nbsp;&nbsp;return&nbsp;0;&lt;br&gt;}&lt;br&gt;&lt;br&gt;&lt;br&gt;-----Message&nbsp;d'origine-----&lt;br&gt;De&nbsp;:&nbsp;&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;users-bounces@gecode.org&lt;/a&gt;&nbsp;[&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;mailto:users-bounces@gecode.org&lt;/a&gt;]&nbsp;De&nbsp;la&nbsp;part&lt;br&gt;de&nbsp;Sebastien&nbsp;Delmotte&lt;br&gt;Envoyé&nbsp;:&nbsp;mardi&nbsp;20&nbsp;septembre&nbsp;2016&nbsp;10:37&lt;br&gt;À&nbsp;:&nbsp;&lt;a&nbsp;href=&quot;mailto:cschulte@kth.se&quot;&gt;cschulte@kth.se&lt;/a&gt;&lt;br&gt;Cc&nbsp;:&nbsp;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;Objet&nbsp;:&nbsp;Re:&nbsp;[gecode-users]&nbsp;Cost&nbsp;optimization&nbsp;problem&lt;br&gt;&lt;br&gt;Dear&nbsp;Christian,&lt;br&gt;&lt;br&gt;I've&nbsp;tried&nbsp;to&nbsp;play&nbsp;with&nbsp;the&nbsp;step&nbsp;value&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;change&nbsp;anything.&nbsp;An&lt;br&gt;exception&nbsp;related&nbsp;to&nbsp;an&nbsp;unassigned&nbsp;variable&nbsp;(cost)&nbsp;still&nbsp;occurs&nbsp;and&nbsp;it&lt;br&gt;prevents&nbsp;the&nbsp;search&nbsp;to&nbsp;be&nbsp;processed.&nbsp;I&nbsp;really&nbsp;don't&nbsp;understand&nbsp;why&nbsp;it&nbsp;works&lt;br&gt;with&nbsp;exactly&nbsp;the&nbsp;same&nbsp;code&nbsp;with&nbsp;floats&nbsp;converted&nbsp;to&nbsp;integers,&nbsp;but&nbsp;I&nbsp;surely&lt;br&gt;don't&nbsp;use&nbsp;correctly&nbsp;the&nbsp;gecode&nbsp;options.&nbsp;&lt;br&gt;&lt;br&gt;I&nbsp;think&nbsp;I&nbsp;will&nbsp;continue&nbsp;with&nbsp;integers&nbsp;for&nbsp;the&nbsp;moment.&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;very&nbsp;much.&lt;br&gt;&lt;br&gt;S.&nbsp;D.&lt;br&gt;&lt;br&gt;-----Message&nbsp;d'origine-----&lt;br&gt;De&nbsp;:&nbsp;Christian&nbsp;Schulte&nbsp;[&lt;a&nbsp;href=&quot;mailto:cschulte@kth.se&quot;&gt;mailto:cschulte@kth.se&lt;/a&gt;]&nbsp;Envoyé&nbsp;:&nbsp;vendredi&nbsp;16&lt;br&gt;septembre&nbsp;2016&nbsp;13:18&nbsp;À&nbsp;:&nbsp;'Sebastien&nbsp;Delmotte';&nbsp;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&nbsp;Objet&nbsp;:&nbsp;RE:&lt;br&gt;[gecode-users]&nbsp;Cost&nbsp;optimization&nbsp;problem&lt;br&gt;&lt;br&gt;Hi,&lt;br&gt;&lt;br&gt;That's&nbsp;strange...&nbsp;Did&nbsp;you&nbsp;try&nbsp;to&nbsp;play&nbsp;with&nbsp;the&nbsp;step&nbsp;value&nbsp;as&nbsp;explained&nbsp;in&lt;br&gt;MPG&nbsp;7.3?&lt;br&gt;&lt;br&gt;Cheers&lt;br&gt;Christian&lt;br&gt;&lt;br&gt;--&lt;br&gt;Christian&nbsp;Schulte,&nbsp;&lt;a&nbsp;href=&quot;http://www.gecode.org/~schulte&quot;&gt;www.gecode.org/~schulte&lt;/a&gt;&nbsp;Professor&nbsp;of&nbsp;Computer&nbsp;Science,&lt;br&gt;KTH,&nbsp;&lt;a&nbsp;href=&quot;mailto:cschulte@kth.se&quot;&gt;cschulte@kth.se&lt;/a&gt;&nbsp;Expert&nbsp;Researcher,&nbsp;SICS,&nbsp;&lt;a&nbsp;href=&quot;mailto:cschulte@sics.se&quot;&gt;cschulte@sics.se&lt;/a&gt;&lt;br&gt;&lt;br&gt;-----Original&nbsp;Message-----&lt;br&gt;From:&nbsp;&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;users-bounces@gecode.org&lt;/a&gt;&nbsp;[&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;mailto:users-bounces@gecode.org&lt;/a&gt;]&nbsp;On&nbsp;Behalf&lt;br&gt;Of&nbsp;Sebastien&nbsp;Delmotte&lt;br&gt;Sent:&nbsp;Friday,&nbsp;September&nbsp;16,&nbsp;2016&nbsp;13:08&lt;br&gt;To:&nbsp;&lt;a&nbsp;href=&quot;mailto:cschulte@kth.se&quot;&gt;cschulte@kth.se&lt;/a&gt;;&nbsp;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;Subject:&nbsp;Re:&nbsp;[gecode-users]&nbsp;Cost&nbsp;optimization&nbsp;problem&lt;br&gt;&lt;br&gt;Dear&nbsp;Christian,&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;answer.&lt;br&gt;&lt;br&gt;When&nbsp;I&nbsp;transform&nbsp;all&nbsp;the&nbsp;code&nbsp;from&nbsp;float&nbsp;variables&nbsp;to&nbsp;integer&nbsp;variables&nbsp;(in&lt;br&gt;changing&nbsp;the&nbsp;constraints&nbsp;from&nbsp;1&nbsp;to&nbsp;100&nbsp;for&nbsp;example),&nbsp;that&nbsp;works&nbsp;perfectly.&lt;br&gt;So&nbsp;maybe&nbsp;my&nbsp;implementation&nbsp;for&nbsp;float&nbsp;variables&nbsp;is&nbsp;not&nbsp;good.&nbsp;I&nbsp;will&nbsp;try&nbsp;to&lt;br&gt;find&nbsp;why.&lt;br&gt;&lt;br&gt;Best&nbsp;regards,&lt;br&gt;&lt;br&gt;SD&lt;br&gt;&lt;br&gt;-----Message&nbsp;d'origine-----&lt;br&gt;De&nbsp;:&nbsp;Christian&nbsp;Schulte&nbsp;[&lt;a&nbsp;href=&quot;mailto:cschulte@kth.se&quot;&gt;mailto:cschulte@kth.se&lt;/a&gt;]&nbsp;Envoyé&nbsp;:&nbsp;jeudi&nbsp;15&nbsp;septembre&lt;br&gt;2016&nbsp;17:03&nbsp;À&nbsp;:&nbsp;'Sebastien&nbsp;Delmotte';&nbsp;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&nbsp;Objet&nbsp;:&nbsp;RE:&lt;br&gt;[gecode-users]&nbsp;Cost&nbsp;optimization&nbsp;problem&lt;br&gt;&lt;br&gt;Hi,&lt;br&gt;&lt;br&gt;Sorry&nbsp;but&nbsp;I&nbsp;think&nbsp;this&nbsp;is&nbsp;really&nbsp;a&nbsp;modelling&nbsp;issue&nbsp;and&nbsp;not&nbsp;a&nbsp;Gecode&nbsp;issue,&lt;br&gt;as&nbsp;you&nbsp;have&nbsp;already&nbsp;figured&nbsp;out&nbsp;3).&lt;br&gt;&lt;br&gt;Cheers&lt;br&gt;Christian&lt;br&gt;&lt;br&gt;--&lt;br&gt;Christian&nbsp;Schulte,&nbsp;&lt;a&nbsp;href=&quot;http://www.gecode.org/~schulte&quot;&gt;www.gecode.org/~schulte&lt;/a&gt;&nbsp;Professor&nbsp;of&nbsp;Computer&nbsp;Science,&lt;br&gt;KTH,&nbsp;&lt;a&nbsp;href=&quot;mailto:cschulte@kth.se&quot;&gt;cschulte@kth.se&lt;/a&gt;&nbsp;Expert&nbsp;Researcher,&nbsp;SICS,&nbsp;&lt;a&nbsp;href=&quot;mailto:cschulte@sics.se&quot;&gt;cschulte@sics.se&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;-----Original&nbsp;Message-----&lt;br&gt;From:&nbsp;&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;users-bounces@gecode.org&lt;/a&gt;&nbsp;[&lt;a&nbsp;href=&quot;mailto:users-bounces@gecode.org&quot;&gt;mailto:users-bounces@gecode.org&lt;/a&gt;]&nbsp;On&nbsp;Behalf&lt;br&gt;Of&nbsp;Sebastien&nbsp;Delmotte&lt;br&gt;Sent:&nbsp;Tuesday,&nbsp;September&nbsp;13,&nbsp;2016&nbsp;14:55&lt;br&gt;To:&nbsp;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;Subject:&nbsp;[gecode-users]&nbsp;Cost&nbsp;optimization&nbsp;problem&lt;br&gt;&lt;br&gt;Dear&nbsp;All,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;problem&nbsp;with&nbsp;using&nbsp;Gecode&nbsp;to&nbsp;solve&nbsp;an&nbsp;optimization&nbsp;problem.&lt;br&gt;&lt;br&gt;Problem&nbsp;description:&lt;br&gt;-&nbsp;I&nbsp;have&nbsp;a&nbsp;recipe&nbsp;with&nbsp;two&nbsp;sub-components.&nbsp;Each&nbsp;component&nbsp;has&nbsp;a&nbsp;coefficient&lt;br&gt;corresponding&nbsp;to&nbsp;its&nbsp;amount&nbsp;in&nbsp;the&nbsp;recipe.&nbsp;So&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;sub-components&lt;br&gt;coefficients&nbsp;must&nbsp;be&nbsp;equal&nbsp;to&nbsp;1;&lt;br&gt;-&nbsp;Each&nbsp;of&nbsp;the&nbsp;two&nbsp;sub-components&nbsp;is&nbsp;composed&nbsp;of&nbsp;several&nbsp;raw&nbsp;materials.&nbsp;Each&lt;br&gt;raw&nbsp;material&nbsp;has&nbsp;a&nbsp;coefficient&nbsp;corresponding&nbsp;to&nbsp;its&nbsp;amount&nbsp;in&nbsp;its&lt;br&gt;sub-component.&nbsp;So,&nbsp;for&nbsp;each&nbsp;sub-component,&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;raw&nbsp;materials&lt;br&gt;coefficients&nbsp;is&nbsp;equal&nbsp;to&nbsp;1;&lt;br&gt;-&nbsp;At&nbsp;the&nbsp;recipe&nbsp;level,&nbsp;I&nbsp;have&nbsp;some&nbsp;constraints&nbsp;on&nbsp;the&nbsp;raw&nbsp;materials&nbsp;amount&lt;br&gt;(e.g.&nbsp;raw&nbsp;material&nbsp;1&nbsp;must&nbsp;be&nbsp;in&nbsp;a&nbsp;given&nbsp;interval).&nbsp;The&nbsp;amount&nbsp;of&nbsp;each&nbsp;raw&lt;br&gt;material&nbsp;in&nbsp;the&nbsp;recipe&nbsp;is&nbsp;equal&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;the&nbsp;coefficient&nbsp;of&nbsp;this&lt;br&gt;raw&nbsp;material&nbsp;by&nbsp;the&nbsp;coefficient&nbsp;of&nbsp;its&nbsp;sub-component&lt;br&gt;-&nbsp;I&nbsp;have&nbsp;to&nbsp;minimize&nbsp;the&nbsp;cost&nbsp;of&nbsp;the&nbsp;recipe&nbsp;accounting&nbsp;for&nbsp;the&nbsp;cost&nbsp;of&nbsp;each&lt;br&gt;raw&nbsp;materials.&nbsp;This&nbsp;cost&nbsp;is&nbsp;equal&nbsp;to&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;product&nbsp;of&nbsp;each&nbsp;raw&lt;br&gt;material&nbsp;coefficient&nbsp;by&nbsp;its&nbsp;unit&nbsp;cost.&lt;br&gt;&lt;br&gt;Code&lt;br&gt;&lt;br&gt;#include&nbsp;&lt;gecode/driver.hh&gt;&lt;br&gt;#include&nbsp;&lt;gecode/int.hh&gt;&lt;br&gt;#include&nbsp;&lt;gecode/minimodel.hh&gt;&lt;br&gt;using&nbsp;namespace&nbsp;Gecode;&lt;br&gt;class&nbsp;Tests&nbsp;:&nbsp;public&nbsp;FloatMinimizeScript&nbsp;&nbsp;{&lt;br&gt;protected:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArray&nbsp;_rms_in_sub_c_1;&nbsp;//&nbsp;raw&nbsp;mat&nbsp;in&nbsp;sub-comp1&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArray&nbsp;_rms_in_sub_c_2;&nbsp;//&nbsp;raw&nbsp;mat&nbsp;in&nbsp;sub-comp2&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;FloatVarArray&nbsp;_sub_c;&nbsp;//&nbsp;2&nbsp;sub-comp&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;FloatVar&nbsp;_cost;&nbsp;//&nbsp;cost&lt;br&gt;public:&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;Tests(const&nbsp;Options&amp;&nbsp;o)&lt;br&gt;:FloatMinimizeScript(o),_rms_in_sub_c_1(*this,4,0,1),_rms_in_sub_c_2(*this,3&lt;br&gt;,0,1),_sub_c(*this,2,0,1),_cost(*this,0,1000)&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;br&gt;//sum&nbsp;of&nbsp;raw&nbsp;mat&nbsp;in&nbsp;sub-comp&nbsp;=1&lt;br&gt;FloatVar&nbsp;all_rms_sub1&nbsp;=&nbsp;expr(*this,sum(_rms_in_sub_c_1));&lt;br&gt;rel(*this,all_rms_sub1&nbsp;,FRT_EQ,1);&lt;br&gt;FloatVar&nbsp;all_rms_sub2&nbsp;=&nbsp;expr(*this,sum(_rms_in_sub_c_2));&lt;br&gt;rel(*this,all_rms_sub2&nbsp;,FRT_EQ,1);&lt;br&gt;//&nbsp;sum&nbsp;of&nbsp;sub-comp&nbsp;=1&lt;br&gt;FloatVar&nbsp;sm&nbsp;=&nbsp;expr(*this,sum(_sub_c));&lt;br&gt;rel(*this,sm&nbsp;,FRT_EQ,1);&lt;br&gt;//&nbsp;Global&nbsp;constraints&nbsp;on&nbsp;raw&nbsp;mat&nbsp;in&nbsp;recipe&nbsp;FloatVar&nbsp;rm_0_sub_coef1=&lt;br&gt;expr(*this,_rms_in_sub_c_1[0]*_sub_c[0]);&lt;br&gt;rel(*this,rm_0_sub_coef1,FRT_GQ,0);&lt;br&gt;FloatVar&nbsp;rm_1_sub_coef1=&nbsp;expr(*this,_rms_in_sub_c_1[1]*_sub_c[0]);&lt;br&gt;rel(*this,rm_1_sub_coef1,FRT_GQ,0);&lt;br&gt;FloatVar&nbsp;rm_2_sub_coef1=&nbsp;expr(*this,_rms_in_sub_c_1[2]*_sub_c[0]);&lt;br&gt;rel(*this,rm_2_sub_coef1,FRT_GQ,0);&lt;br&gt;FloatVar&nbsp;rm_3_sub_coef1=&nbsp;expr(*this,_rms_in_sub_c_1[3]*_sub_c[0]);&lt;br&gt;rel(*this,rm_3_sub_coef1,FRT_GQ,0);&lt;br&gt;FloatVar&nbsp;rm_0_sub_coef2=&nbsp;expr(*this,_rms_in_sub_c_2[0]*_sub_c[1]);&lt;br&gt;rel(*this,rm_0_sub_coef2,FRT_GQ,0);&lt;br&gt;FloatVar&nbsp;rm_1_sub_coef2=&nbsp;expr(*this,_rms_in_sub_c_2[1]*_sub_c[1]);&lt;br&gt;rel(*this,rm_1_sub_coef2,FRT_GQ,0);&lt;br&gt;FloatVar&nbsp;rm_2_sub_coef2=&nbsp;expr(*this,_rms_in_sub_c_2[2]*_sub_c[1]);&lt;br&gt;rel(*this,rm_2_sub_coef2,FRT_GQ,0);&lt;br&gt;&lt;br&gt;//&nbsp;Cost&lt;br&gt;_cost&nbsp;=&nbsp;expr(*this,_sub_c[0]*(_rms_in_sub_c_1[0]*12&nbsp;+_rms_in_sub_c_1[1]*14&nbsp;+&lt;br&gt;_rms_in_sub_c_1[2]&nbsp;*&nbsp;22&nbsp;+_rms_in_sub_c_1[3]&nbsp;*&nbsp;17&nbsp;)&lt;br&gt;+_sub_c[1]*(_rms_in_sub_c_2[0]*9&nbsp;+_rms_in_sub_c_2[1]*2&nbsp;+&nbsp;&lt;br&gt;+_rms_in_sub_c_2[2]&lt;br&gt;*&nbsp;18&nbsp;));&lt;br&gt;FloatVarArgs&nbsp;all;&lt;br&gt;for(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;4;&nbsp;i++)&nbsp;all&nbsp;&lt;&lt;&nbsp;_rms_in_sub_c_1[i];&nbsp;for(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;3;&lt;br&gt;i++)&nbsp;all&nbsp;&lt;&lt;&nbsp;_rms_in_sub_c_2[i];&nbsp;for(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;2;&nbsp;i++)&nbsp;all&nbsp;&lt;&lt;&nbsp;&lt;br&gt;i++_sub_c[i];&lt;br&gt;&lt;br&gt;branch(*this,&nbsp;all,&nbsp;FLOAT_VAR_NONE(),&nbsp;FLOAT_VAL_SPLIT_MIN());&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;virtual&nbsp;void&lt;br&gt;print(std::ostream&amp;&nbsp;os)&nbsp;const&nbsp;{&lt;br&gt;os&nbsp;&lt;&lt;&nbsp;&quot;sub-component&nbsp;:&nbsp;&quot;&nbsp;&lt;&lt;&nbsp;_sub_c&nbsp;&lt;&lt;&nbsp;&quot;\nrms&nbsp;1&nbsp;:&nbsp;&quot;&lt;&lt;&nbsp;_rms_in_sub_c_1&lt;&lt;&lt;br&gt;&quot;\nrms2&nbsp;:&nbsp;&quot;&lt;&lt;&nbsp;_rms_in_sub_c_2&nbsp;&lt;&lt;&quot;\ncost&nbsp;:&nbsp;&quot;&lt;&lt;&nbsp;_cost&nbsp;&lt;&lt;&nbsp;std::endl;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;virtual&nbsp;FloatVar&nbsp;cost(void)&nbsp;const{&lt;br&gt;return&nbsp;_cost;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;Tests(bool&nbsp;share,&nbsp;Tests&amp;&nbsp;s)&nbsp;:&nbsp;FloatMinimizeScript(share,s)&nbsp;{&nbsp;_sub_c.update&lt;br&gt;(*this,&nbsp;share,&nbsp;s._sub_c);&nbsp;_rms_in_sub_c_1.update(*this,&nbsp;share,&lt;br&gt;s._rms_in_sub_c_1);&nbsp;_rms_in_sub_c_2.update(*this,&nbsp;share,&nbsp;s._rms_in_sub_c_2);&lt;br&gt;_cost.update(*this,&nbsp;share,&nbsp;s._cost);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;virtual&nbsp;Space*&lt;br&gt;copy(bool&nbsp;share)&nbsp;{&lt;br&gt;return&nbsp;new&nbsp;Tests(share,*this);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;};&lt;br&gt;int&nbsp;main(int&nbsp;argc,&nbsp;char*&nbsp;argv[])&nbsp;{&lt;br&gt;Options&nbsp;opt(&quot;Test&quot;);&lt;br&gt;opt.solutions(0);&lt;br&gt;FloatMinimizeScript::run&lt;Tests,BAB,Options&gt;(opt);&lt;br&gt;return&nbsp;0;&lt;br&gt;}&lt;br&gt;&lt;br&gt;When&nbsp;executing&nbsp;this&nbsp;code,&nbsp;the&nbsp;result&nbsp;is&nbsp;:&lt;br&gt;sub-component&nbsp;:&nbsp;{0,&nbsp;1}&lt;br&gt;rms&nbsp;in&nbsp;sub-component&nbsp;1&nbsp;:&nbsp;{0,&nbsp;0,&nbsp;0,&nbsp;1}&lt;br&gt;rms&nbsp;in&nbsp;sub-component&nbsp;2&nbsp;:&nbsp;{0,&nbsp;0,&nbsp;1}&lt;br&gt;cost&nbsp;:&nbsp;[18..18]&lt;br&gt;&lt;br&gt;Exception:&nbsp;FloatVar::val:&nbsp;Attempt&nbsp;to&nbsp;access&nbsp;value&nbsp;of&nbsp;unassigned&nbsp;variable.&lt;br&gt;&lt;br&gt;Problems:&lt;br&gt;1-&nbsp;The&nbsp;resulting&nbsp;solution&nbsp;is&nbsp;trivial&nbsp;but&nbsp;absolutely&nbsp;not&nbsp;optimal&nbsp;for&nbsp;the&lt;br&gt;cost:&nbsp;only&nbsp;the&nbsp;second&nbsp;sub-component&nbsp;has&nbsp;a&nbsp;positive&nbsp;coefficient&nbsp;(=1)&nbsp;with&lt;br&gt;only&nbsp;one&nbsp;raw&nbsp;material&nbsp;which&nbsp;is&nbsp;not&nbsp;the&nbsp;cheapest&nbsp;one;&lt;br&gt;2-&nbsp;In&nbsp;this&nbsp;example,&nbsp;all&nbsp;the&nbsp;constraints&nbsp;for&nbsp;the&nbsp;raw&nbsp;materials&nbsp;are:&nbsp;greater&lt;br&gt;than&nbsp;0.&nbsp;But&nbsp;if&nbsp;I&nbsp;change&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;constraints&nbsp;(e.g.&nbsp;greater&nbsp;than&lt;br&gt;0.1),&nbsp;I&nbsp;don't&nbsp;get&nbsp;any&nbsp;solution;&lt;br&gt;3-&nbsp;There&nbsp;is&nbsp;an&nbsp;exception&nbsp;error:&nbsp;FloatVar::val:&nbsp;Attempt&nbsp;to&nbsp;access&nbsp;value&nbsp;of&lt;br&gt;unassigned&nbsp;variable.&nbsp;This&nbsp;error&nbsp;disappears&nbsp;when&nbsp;I&nbsp;add&nbsp;the&nbsp;variable&nbsp;cost&nbsp;in&lt;br&gt;the&nbsp;branching,&nbsp;but&nbsp;the&nbsp;solution&nbsp;is&nbsp;still&nbsp;non&nbsp;optimal.&lt;br&gt;&lt;br&gt;I&nbsp;think&nbsp;I&nbsp;have&nbsp;a&nbsp;problem&nbsp;with&nbsp;handling&nbsp;gecode&nbsp;because&nbsp;the&nbsp;problem&nbsp;is&nbsp;simple,&lt;br&gt;but&nbsp;I&nbsp;have&nbsp;no&nbsp;idea&nbsp;about&nbsp;the&nbsp;origin&nbsp;of&nbsp;the&nbsp;problem.&nbsp;&lt;br&gt;With&nbsp;many&nbsp;thanks&nbsp;in&nbsp;advance.&lt;br&gt;Best&nbsp;regards,&lt;br&gt;S.D.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Gecode&nbsp;users&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://www.gecode.org/mailman/listinfo/gecode-users&quot;&gt;https://www.gecode.org/mailman/listinfo/gecode-users&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Gecode&nbsp;users&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://www.gecode.org/mailman/listinfo/gecode-users&quot;&gt;https://www.gecode.org/mailman/listinfo/gecode-users&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Gecode&nbsp;users&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://www.gecode.org/mailman/listinfo/gecode-users&quot;&gt;https://www.gecode.org/mailman/listinfo/gecode-users&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;Gecode&nbsp;users&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:users@gecode.org&quot;&gt;users@gecode.org&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://www.gecode.org/mailman/listinfo/gecode-users&quot;&gt;https://www.gecode.org/mailman/listinfo/gecode-users&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;p&nbsp;class=MsoNormal&gt;&lt;o:p&gt;&nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
